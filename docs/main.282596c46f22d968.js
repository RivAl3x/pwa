var qIe=Object.defineProperty,KIe=Object.defineProperties,QIe=Object.getOwnPropertyDescriptors,fK=Object.getOwnPropertySymbols,YIe=Object.prototype.hasOwnProperty,XIe=Object.prototype.propertyIsEnumerable,pK=(ii,m,x)=>m in ii?qIe(ii,m,{enumerable:!0,configurable:!0,writable:!0,value:x}):ii[m]=x,gK=(ii,m)=>{for(var x in m||(m={}))YIe.call(m,x)&&pK(ii,x,m[x]);if(fK)for(var x of fK(m))XIe.call(m,x)&&pK(ii,x,m[x]);return ii},mK=(ii,m)=>KIe(ii,QIe(m));(self.webpackChunkmobile_scanning_demo=self.webpackChunkmobile_scanning_demo||[]).push([[179],{896:ii=>{window,ii.exports=function(m){var x={};function d(f){if(x[f])return x[f].exports;var g=x[f]={i:f,l:!1,exports:{}};return m[f].call(g.exports,g,g.exports,d),g.l=!0,g.exports}return d.m=m,d.c=x,d.d=function(f,g,w){d.o(f,g)||Object.defineProperty(f,g,{enumerable:!0,get:w})},d.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},d.t=function(f,g){if(1&g&&(f=d(f)),8&g||4&g&&"object"==typeof f&&f&&f.__esModule)return f;var w=Object.create(null);if(d.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:f}),2&g&&"string"!=typeof f)for(var E in f)d.d(w,E,function(I){return f[I]}.bind(null,E));return w},d.n=function(f){var g=f&&f.__esModule?function(){return f.default}:function(){return f};return d.d(g,"a",g),g},d.o=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},d.p="/",d(d.s=89)}([function(m,x){m.exports=function(d,f,g){return f in d?Object.defineProperty(d,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[f]=g,d},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){m.exports=function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){function d(f){return m.exports=d=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},m.exports.default=m.exports,m.exports.__esModule=!0,d(f)}m.exports=d,m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){m.exports=function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){function d(f,g){for(var w=0;w<g.length;w++){var E=g[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(f,E.key,E)}}m.exports=function(f,g,w){return g&&d(f.prototype,g),w&&d(f,w),f},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x,d){var f=d(19).default,g=d(1);m.exports=function(w,E){if(E&&("object"===f(E)||"function"==typeof E))return E;if(void 0!==E)throw new TypeError("Derived constructors may only return object or undefined");return g(w)},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x,d){var f=d(41);m.exports=function(g,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),w&&f(g,w)},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x,d){m.exports={EPSILON:d(62),create:d(63),clone:d(156),fromValues:d(157),copy:d(158),set:d(159),equals:d(160),exactEquals:d(161),add:d(162),subtract:d(64),sub:d(163),multiply:d(65),mul:d(164),divide:d(66),div:d(165),inverse:d(166),min:d(167),max:d(168),rotate:d(169),floor:d(170),ceil:d(171),round:d(172),scale:d(173),scaleAndAdd:d(174),distance:d(67),dist:d(175),squaredDistance:d(68),sqrDist:d(176),length:d(69),len:d(177),squaredLength:d(70),sqrLen:d(178),negate:d(179),normalize:d(180),dot:d(181),cross:d(182),lerp:d(183),random:d(184),transformMat2:d(185),transformMat2d:d(186),transformMat3:d(187),transformMat4:d(188),forEach:d(189),limit:d(190)}},function(m,x,d){"use strict";x.a={init:function(f,g){for(var w=f.length;w--;)f[w]=g},shuffle:function(f){for(var g=f.length-1;g>=0;g--){var w=Math.floor(Math.random()*g),E=f[g];f[g]=f[w],f[w]=E}return f},toPointList:function(f){var g=f.reduce(function(w,E){var I="[".concat(E.join(","),"]");return w.push(I),w},[]);return"[".concat(g.join(",\r\n"),"]")},threshold:function(f,g,w){return f.reduce(function(E,I){return w.apply(f,[I])>=g&&E.push(I),E},[])},maxIndex:function(f){for(var g=0,w=0;w<f.length;w++)f[w]>f[g]&&(g=w);return g},max:function(f){for(var g=0,w=0;w<f.length;w++)f[w]>g&&(g=f[w]);return g},sum:function(f){for(var g=f.length,w=0;g--;)w+=f[g];return w}}},function(m,x,d){"use strict";d.d(x,"h",function(){return ne}),d.d(x,"i",function(){return de}),d.d(x,"b",function(){return We}),d.d(x,"j",function(){return Te}),d.d(x,"e",function(){return Fe}),d.d(x,"c",function(){return Ce}),d.d(x,"f",function(){return ee}),d.d(x,"g",function(){return G}),d.d(x,"a",function(){return ue}),d.d(x,"d",function(){return be});var f=d(7),g=d(84),w={clone:f.clone,dot:f.dot},E=function(te,Z){var ce=[],Q={rad:0,vec:w.clone([0,0])},_e={};function H(W){_e[W.id]=W,ce.push(W)}function q(){var W,se=0;for(W=0;W<ce.length;W++)se+=ce[W].rad;Q.rad=se/ce.length,Q.vec=w.clone([Math.cos(Q.rad),Math.sin(Q.rad)])}return H(te),q(),{add:function(W){_e[W.id]||(H(W),q())},fits:function(W){return Math.abs(w.dot(W.point.vec,Q.vec))>Z},getPoints:function(){return ce},getCenter:function(){return Q}}},I=function(te,Z,ce){return{rad:te[ce],point:te,id:Z}},F=d(8),U={clone:f.clone},B={clone:g.clone};function ne(te,Z){return{x:te,y:Z,toVec2:function(){return U.clone([this.x,this.y])},toVec3:function(){return B.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function le(te,Z){Z||(Z=8);for(var ce=te.data,Q=ce.length,_e=8-Z,H=new Int32Array(1<<Z);Q--;)H[ce[Q]>>_e]++;return H}function de(te,Z){var ce=function(Q){var _e,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,q=8-H;function W(Le,ve){for(var Qe=0,Me=Le;Me<=ve;Me++)Qe+=_e[Me];return Qe}function se(Le,ve){for(var Qe=0,Me=Le;Me<=ve;Me++)Qe+=Me*_e[Me];return Qe}function ie(){var Le,ve,Qe,Me,ke=[0],qe=(1<<H)-1;_e=le(Q,H);for(var Oe=1;Oe<qe;Oe++)0==(Qe=(Le=W(0,Oe))*(ve=W(Oe+1,qe)))&&(Qe=1),Me=se(0,Oe)*ve-se(Oe+1,qe)*Le,ke[Oe]=Me*Me/Qe;return F.a.maxIndex(ke)}return ie()<<q}(te);return function(Q,_e,H){H||(H=Q);for(var q=Q.data,W=q.length,se=H.data;W--;)se[W]=q[W]<_e?1:0}(te,ce,Z),ce}function We(te,Z,ce){var Q,_e,H,q,W=[];function se(ie){var we=!1;for(_e=0;_e<W.length;_e++)(H=W[_e]).fits(ie)&&(H.add(ie),we=!0);return we}for(ce||(ce="rad"),Q=0;Q<te.length;Q++)se(q=I(te[Q],Q,ce))||W.push(E(q,Z));return W}function Te(te,Z,ce){var Q,_e,H,q,W=0,se=0,ie=[];for(Q=0;Q<Z;Q++)ie[Q]={score:0,item:null};for(Q=0;Q<te.length;Q++)if((_e=ce.apply(this,[te[Q]]))>se)for((H=ie[W]).score=_e,H.item=te[Q],se=Number.MAX_VALUE,q=0;q<Z;q++)ie[q].score<se&&(se=ie[q].score,W=q);return ie}function Fe(te,Z,ce){for(var Q,_e=0,H=Z.x,q=Math.floor(te.length/4),W=Z.x/2,se=0,ie=Z.x;H<q;){for(Q=0;Q<W;Q++)ce[se]=(.299*te[4*_e+0]+.587*te[4*_e+1]+.114*te[4*_e+2]+(.299*te[4*(_e+1)+0]+.587*te[4*(_e+1)+1]+.114*te[4*(_e+1)+2])+(.299*te[4*H+0]+.587*te[4*H+1]+.114*te[4*H+2])+(.299*te[4*(H+1)+0]+.587*te[4*(H+1)+1]+.114*te[4*(H+1)+2]))/4,se++,_e+=2,H+=2;_e+=ie,H+=ie}}function Ce(te,Z,ce){var Q=te.length/4|0;if(ce&&!0===ce.singleChannel)for(var _e=0;_e<Q;_e++)Z[_e]=te[4*_e+0];else for(var H=0;H<Q;H++)Z[H]=.299*te[4*H+0]+.587*te[4*H+1]+.114*te[4*H+2]}function ee(te,Z){for(var ce=te.data,Q=te.size.x,_e=Z.data,H=0,q=Q,W=ce.length,se=Q/2,ie=0;q<W;){for(var we=0;we<se;we++)_e[ie]=Math.floor((ce[H]+ce[H+1]+ce[q]+ce[q+1])/4),ie++,H+=2,q+=2;H+=Q,q+=Q}}function G(te){var Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],ce=te[0],_e=te[2],H=_e*te[1],q=H*(1-Math.abs(ce/60%2-1)),W=_e-H,se=0,ie=0,we=0;return ce<60?(se=H,ie=q):ce<120?(se=q,ie=H):ce<180?(ie=H,we=q):ce<240?(ie=q,we=H):ce<300?(se=q,we=H):ce<360&&(se=H,we=q),Z[0]=255*(se+W)|0,Z[1]=255*(ie+W)|0,Z[2]=255*(we+W)|0,Z}function re(te){for(var Z=[],ce=[],Q=1;Q<Math.sqrt(te)+1;Q++)te%Q==0&&(ce.push(Q),Q!==te/Q&&Z.unshift(Math.floor(te/Q)));return ce.concat(Z)}function ue(te,Z){var ce,Q=re(Z.x),_e=re(Z.y),H=Math.max(Z.x,Z.y),q=function(Qe,Me){for(var ke=0,qe=0,Oe=[];ke<Qe.length&&qe<Me.length;)Qe[ke]===Me[qe]?(Oe.push(Qe[ke]),ke++,qe++):Qe[ke]>Me[qe]?qe++:ke++;return Oe}(Q,_e),W=[8,10,15,20,32,60,80],se={"x-small":5,small:4,medium:3,large:2,"x-large":1},ie=se[te]||se.medium,we=W[ie],Le=Math.floor(H/we);function ve(Qe){for(var Me=0,ke=Qe[Math.floor(Qe.length/2)];Me<Qe.length-1&&Qe[Me]<Le;)Me++;return Me>0&&(ke=Math.abs(Qe[Me]-Le)>Math.abs(Qe[Me-1]-Le)?Qe[Me-1]:Qe[Me]),Le/ke<W[ie+1]/W[ie]&&Le/ke>W[ie-1]/W[ie]?{x:ke,y:ke}:null}return(ce=ve(q))||(ce=ve(re(H)))||(ce=ve(re(Le*we))),ce}var Se={top:function(te,Z){return"%"===te.unit?Math.floor(Z.height*(te.value/100)):null},right:function(te,Z){return"%"===te.unit?Math.floor(Z.width-Z.width*(te.value/100)):null},bottom:function(te,Z){return"%"===te.unit?Math.floor(Z.height-Z.height*(te.value/100)):null},left:function(te,Z){return"%"===te.unit?Math.floor(Z.width*(te.value/100)):null}};function be(te,Z,ce){var Q={width:te,height:Z},_e=Object.keys(ce).reduce(function(H,q){var ie,W=(ie=ce[q],{value:parseFloat(ie),unit:(ie.indexOf("%"),"%")}),se=Se[q](W,Q);return H[q]=se,H},{});return{sx:_e.left,sy:_e.top,sw:_e.right-_e.left,sh:_e.bottom-_e.top}}},function(m,x,d){"use strict";var f=d(83),g=d.n(f),w=d(3),E=d.n(w),I=d(4),F=d.n(I),U=d(0),B=d.n(U),ne=d(7),le=d(9),de=d(8),We={clone:ne.clone};function Te(Ce){if(Ce<0)throw new Error("expected positive number, received ".concat(Ce))}var Fe=function(){function Ce(ee,G){var re=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,ue=arguments.length>3?arguments[3]:void 0;E()(this,Ce),B()(this,"data",void 0),B()(this,"size",void 0),B()(this,"indexMapping",void 0),G?this.data=G:(this.data=new re(ee.x*ee.y),ue&&de.a.init(this.data,0)),this.size=ee}return F()(Ce,[{key:"inImageWithBorder",value:function(ee){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Te(G),ee.x>=0&&ee.y>=0&&ee.x<this.size.x+2*G&&ee.y<this.size.y+2*G}},{key:"subImageAsCopy",value:function(ee,G){Te(G.x),Te(G.y);for(var re=ee.size,ue=re.x,Se=re.y,be=0;be<ue;be++)for(var te=0;te<Se;te++)ee.data[te*ue+be]=this.data[(G.y+te)*this.size.x+G.x+be];return ee}},{key:"get",value:function(ee,G){return this.data[G*this.size.x+ee]}},{key:"getSafe",value:function(ee,G){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var re=0;re<this.size.x;re++)this.indexMapping.x[re]=re,this.indexMapping.x[re+this.size.x]=re;for(var ue=0;ue<this.size.y;ue++)this.indexMapping.y[ue]=ue,this.indexMapping.y[ue+this.size.y]=ue}return this.data[this.indexMapping.y[G+this.size.y]*this.size.x+this.indexMapping.x[ee+this.size.x]]}},{key:"set",value:function(ee,G,re){return this.data[G*this.size.x+ee]=re,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var ee=this.size,G=ee.x,re=ee.y,ue=0;ue<G;ue++)this.data[ue]=this.data[(re-1)*G+ue]=0;for(var Se=1;Se<re-1;Se++)this.data[Se*G]=this.data[Se*G+(G-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(ee){var G,re,ue,Se,be,te,Z,ce,Q,_e,H=this.data,q=this.size.y,W=this.size.x,se=[],ie=[],we=Math.PI,Le=we/4;if(ee<=0)return ie;for(be=0;be<ee;be++)se[be]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(re=0;re<q;re++)for(Se=re*re,G=0;G<W;G++)(ue=H[re*W+G])>0&&((te=se[ue-1]).m00+=1,te.m01+=re,te.m10+=G,te.m11+=G*re,te.m02+=Se,te.m20+=G*G);for(be=0;be<ee;be++)te=se[be],isNaN(te.m00)||0===te.m00||(_e=(te.m02/te.m00-(Q=te.m01/te.m00)*Q-(te.m20/te.m00-(ce=te.m10/te.m00)*ce))/(2*(Z=te.m11/te.m00-ce*Q)),_e=.5*Math.atan(_e)+(Z>=0?Le:-Le)+we,te.theta=(180*_e/we+90)%180-90,te.theta<0&&(te.theta+=180),te.rad=_e>we?_e-we:_e,te.vec=We.clone([Math.cos(_e),Math.sin(_e)]),ie.push(te));return ie}},{key:"getAsRGBA",value:function(){for(var ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,G=new Uint8ClampedArray(4*this.size.x*this.size.y),re=0;re<this.size.y;re++)for(var ue=0;ue<this.size.x;ue++){var Se=re*this.size.x+ue,be=this.get(ue,re)*ee;G[4*Se+0]=be,G[4*Se+1]=be,G[4*Se+2]=be,G[4*Se+3]=255}return G}},{key:"show",value:function(ee){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,re=ee.getContext("2d");if(!re)throw new Error("Unable to get canvas context");var ue=re.getImageData(0,0,ee.width,ee.height),Se=this.getAsRGBA(G);ee.width=this.size.x,ee.height=this.size.y;var be=new ImageData(Se,ue.width,ue.height);re.putImageData(be,0,0)}},{key:"overlay",value:function(ee,G,re){var ue=G<0||G>360?360:G,Se=[0,1,1],be=[0,0,0],te=[255,255,255],Z=[0,0,0],ce=ee.getContext("2d");if(!ce)throw new Error("Unable to get canvas context");for(var Q=ce.getImageData(re.x,re.y,this.size.x,this.size.y),_e=Q.data,H=this.data.length;H--;){Se[0]=this.data[H]*ue;var q=4*H,W=Se[0]<=0?te:Se[0]>=360?Z:Object(le.g)(Se,be),se=g()(W,3);_e[q]=se[0],_e[q+1]=se[1],_e[q+2]=se[2],_e[q+3]=255}ce.putImageData(Q,re.x,re.y)}}]),Ce}();x.a=Fe},function(m,x,d){m.exports=d(228)},function(m,x,d){var f=d(227);function g(w,E,I){return"undefined"!=typeof Reflect&&Reflect.get?(m.exports=g=Reflect.get,m.exports.default=m.exports,m.exports.__esModule=!0):(m.exports=g=function(F,U,B){var ne=f(F,U);if(ne){var le=Object.getOwnPropertyDescriptor(ne,U);return le.get?le.get.call(B):le.value}},m.exports.default=m.exports,m.exports.__esModule=!0),g(w,E,I||w)}m.exports=g,m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){m.exports=function(d){var f=typeof d;return null!=d&&("object"==f||"function"==f)}},function(m,x){m.exports=Array.isArray},function(m,x,d){"use strict";x.a={drawRect:function(f,g,w,E){w.strokeStyle=E.color,w.fillStyle=E.color,w.lineWidth=E.lineWidth||1,w.beginPath(),w.strokeRect(f.x,f.y,g.x,g.y)},drawPath:function(f,g,w,E){w.strokeStyle=E.color,w.fillStyle=E.color,w.lineWidth=E.lineWidth,w.beginPath(),w.moveTo(f[0][g.x],f[0][g.y]);for(var I=1;I<f.length;I++)w.lineTo(f[I][g.x],f[I][g.y]);w.closePath(),w.stroke()},drawImage:function(f,g,w){var E=w.getImageData(0,0,g.x,g.y),I=E.data,F=I.length,U=f.length;if(F/U!=4)return!1;for(;U--;){var B=f[U];I[--F]=255,I[--F]=B,I[--F]=B,I[--F]=B}return w.putImageData(E,0,0),!0}}},function(m,x,d){var f=d(90),g=d(145)(function(w,E,I){f(w,E,I)});m.exports=g},function(m,x,d){var f=d(45),g="object"==typeof self&&self&&self.Object===Object&&self,w=f||g||Function("return this")();m.exports=w},function(m,x){m.exports=function(d){return null!=d&&"object"==typeof d}},function(m,x){function d(f){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(m.exports=d=function(g){return typeof g},m.exports.default=m.exports,m.exports.__esModule=!0):(m.exports=d=function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},m.exports.default=m.exports,m.exports.__esModule=!0),d(f)}m.exports=d,m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){function d(f,g,w,E,I,F,U){try{var B=f[F](U),ne=B.value}catch(le){return void w(le)}B.done?g(ne):Promise.resolve(ne).then(E,I)}m.exports=function(f){return function(){var g=this,w=arguments;return new Promise(function(E,I){var F=f.apply(g,w);function U(ne){d(F,E,I,U,B,"next",ne)}function B(ne){d(F,E,I,U,B,"throw",ne)}U(void 0)})}},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x,d){"use strict";x.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(f,g){var w,E=f.data,I=g.data,F=this.searchDirections,U=f.size.x;function B(le,de,We,Te){var Fe,Ce,ee;for(Fe=0;Fe<7;Fe++){if(E[w=(Ce=le.cy+F[le.dir][0])*U+(ee=le.cx+F[le.dir][1])]===de&&(0===I[w]||I[w]===We))return I[w]=We,le.cy=Ce,le.cx=ee,!0;0===I[w]&&(I[w]=Te),le.dir=(le.dir+1)%8}return!1}function ne(le,de,We){return{dir:We,x:le,y:de,next:null,prev:null}}return{trace:function(le,de,We,Te){return B(le,de,We,Te)},contourTracing:function(le,de,We,Te,Fe){return function(Ce,ee,G,re,ue){var Se,be,te,Z=null,ce={cx:ee,cy:Ce,dir:0};if(B(ce,re,G,ue)){Se=Z=ne(ee,Ce,ce.dir),te=ce.dir,(be=ne(ce.cx,ce.cy,0)).prev=Se,Se.next=be,be.next=null,Se=be;do{ce.dir=(ce.dir+6)%8,B(ce,re,G,ue),te!==ce.dir?(Se.dir=ce.dir,(be=ne(ce.cx,ce.cy,0)).prev=Se,Se.next=be,be.next=null,Se=be):(Se.dir=te,Se.x=ce.cx,Se.y=ce.cy),te=ce.dir}while(ce.cx!==ee||ce.cy!==Ce);Z.prev=Se.prev,Se.prev.next=Z}return Z}(le,de,We,Te,Fe)}}}}},function(m,x,d){var f=d(27),g=d(103),w=d(104),E=f?f.toStringTag:void 0;m.exports=function(I){return null==I?void 0===I?"[object Undefined]":"[object Null]":E&&E in Object(I)?g(I):w(I)}},function(m,x,d){"use strict";(function(f){var g,w,E,I,F,U,B,ne,le,de,We,Te,Fe=d(7),Ce=d(34),ee=d(10),G=d(9),re=d(8),ue=(d(15),d(87)),Se=d(21),be=d(88),te={ctx:{binary:null},dom:{binary:null}},Z={x:0,y:0};function ce(H){var q,W,se,ie,we,Le,ve,Qe=le.size.x,Me=le.size.y,ke=-le.size.x,qe=-le.size.y;for(q=0,W=0;W<H.length;W++)q+=(ie=H[W]).rad;for((q=(180*(q/=H.length)/Math.PI+90)%180-90)<0&&(q+=180),q=(180-q)*Math.PI/180,we=Ce.copy(Ce.create(),[Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q)]),W=0;W<H.length;W++)for(ie=H[W],se=0;se<4;se++)Fe.transformMat2(ie.box[se],ie.box[se],we);for(W=0;W<H.length;W++)for(ie=H[W],se=0;se<4;se++)ie.box[se][0]<Qe&&(Qe=ie.box[se][0]),ie.box[se][0]>ke&&(ke=ie.box[se][0]),ie.box[se][1]<Me&&(Me=ie.box[se][1]),ie.box[se][1]>qe&&(qe=ie.box[se][1]);for(Le=[[Qe,Me],[ke,Me],[ke,qe],[Qe,qe]],ve=g.halfSample?2:1,we=Ce.invert(we,we),se=0;se<4;se++)Fe.transformMat2(Le[se],Le[se],we);for(se=0;se<4;se++)Fe.scale(Le[se],Le[se],ve);return Le}function Q(H,q){le.subImageAsCopy(I,Object(G.h)(H,q)),Te.skeletonize()}function _e(H,q,W,se){var ie,we,Le,ve,Qe=[],Me=[],ke=Math.ceil(de.x/3);if(H.length>=2){for(ie=0;ie<H.length;ie++)H[ie].m00>ke&&Qe.push(H[ie]);if(Qe.length>=2){for(Le=function(qe){var Oe=Object(G.b)(qe,.9),Zn=Object(G.j)(Oe,1,function(bo){return bo.getPoints().length}),Pn=[],fn=[];if(1===Zn.length){Pn=Zn[0].item.getPoints();for(var Ir=0;Ir<Pn.length;Ir++)fn.push(Pn[Ir].point)}return fn}(Qe),we=0,ie=0;ie<Le.length;ie++)we+=Le[ie].rad;Le.length>1&&Le.length>=Qe.length/4*3&&Le.length>H.length/4&&(we/=Le.length,ve={index:q[1]*Z.x+q[0],pos:{x:W,y:se},box:[Fe.clone([W,se]),Fe.clone([W+I.size.x,se]),Fe.clone([W+I.size.x,se+I.size.y]),Fe.clone([W,se+I.size.y])],moments:Le,rad:we,vec:Fe.clone([Math.cos(we),Math.sin(we)])},Me.push(ve))}}return Me}x.a={init:function(H,q){g=q,We=H,function(){w=g.halfSample?new ee.a({x:We.size.x/2|0,y:We.size.y/2|0}):We,de=Object(G.a)(g.patchSize,w.size),Z.x=w.size.x/de.x|0,Z.y=w.size.y/de.y|0,le=new ee.a(w.size,void 0,Uint8Array,!1),F=new ee.a(de,void 0,Array,!0);var W=new ArrayBuffer(65536);I=new ee.a(de,new Uint8Array(W,0,de.x*de.y)),E=new ee.a(de,new Uint8Array(W,de.x*de.y*3,de.x*de.y),void 0,!0),Te=Object(be.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:f,{size:de.x},W),ne=new ee.a({x:w.size.x/I.size.x|0,y:w.size.y/I.size.y|0},void 0,Array,!0),U=new ee.a(ne.size,void 0,void 0,!0),B=new ee.a(ne.size,void 0,Int32Array,!0)}(),g.useWorker||"undefined"==typeof document||(te.dom.binary=document.createElement("canvas"),te.dom.binary.className="binaryBuffer",te.ctx.binary=te.dom.binary.getContext("2d"),te.dom.binary.width=le.size.x,te.dom.binary.height=le.size.y)},locate:function(){g.halfSample&&Object(G.f)(We,w),Object(G.i)(w,le),le.zeroBorder();var H=function(){var se,ie,we,Le,ve,Qe,Me=[];for(se=0;se<Z.x;se++)for(ie=0;ie<Z.y;ie++)Q(we=I.size.x*se,Le=I.size.y*ie),E.zeroBorder(),re.a.init(F.data,0),Qe=ue.a.create(E,F).rasterize(0),ve=F.moments(Qe.count),Me=Me.concat(_e(ve,[se,ie],we,Le));return Me}();if(H.length<Z.x*Z.y*.05)return null;var q=function(se){var ie,we,Le=0,ve=0;function Qe(){var ke;for(ke=0;ke<B.data.length;ke++)if(0===B.data[ke]&&1===U.data[ke])return ke;return B.length}function Me(ke){var Zn,Pn,fn,Ir=ke%B.size.x,bo=ke/B.size.x|0;if(ke<B.data.length)for(Zn=ne.data[ke],B.data[ke]=Le,fn=0;fn<Se.a.searchDirections.length;fn++)0!==U.data[Pn=(bo+Se.a.searchDirections[fn][0])*B.size.x+(Ir+Se.a.searchDirections[fn][1])]?0===B.data[Pn]&&Math.abs(Fe.dot(ne.data[Pn].vec,Zn.vec))>.95&&Me(Pn):B.data[Pn]=Number.MAX_VALUE}for(re.a.init(U.data,0),re.a.init(B.data,0),re.a.init(ne.data,null),ie=0;ie<se.length;ie++)ne.data[(we=se[ie]).index]=we,U.data[we.index]=1;for(U.zeroBorder();(ve=Qe())<B.data.length;)Le++,Me(ve);return Le}(H);if(q<1)return null;var W=function(se){var ie,we,Le=[];for(ie=0;ie<se;ie++)Le.push(0);for(we=B.data.length;we--;)B.data[we]>0&&Le[B.data[we]-1]++;return(Le=Le.map(function(ve,Qe){return{val:ve,label:Qe+1}})).sort(function(ve,Qe){return Qe.val-ve.val}),Le.filter(function(ve){return ve.val>=5})}(q);return 0===W.length?null:function(se,ie){var we,Le,Qe,Me=[],ke=[];for(we=0;we<se.length;we++){for(Le=B.data.length,Me.length=0;Le--;)B.data[Le]===se[we].label&&Me.push(ne.data[Le]);(Qe=ce(Me))&&ke.push(Qe)}return ke}(W)},checkImageConstraints:function(H,q){var W,se,ie=H.getWidth(),we=H.getHeight(),Le=q.halfSample?.5:1;H.getConfig().area&&(se=Object(G.d)(ie,we,H.getConfig().area),H.setTopRight({x:se.sx,y:se.sy}),H.setCanvasSize({x:ie,y:we}),ie=se.sw,we=se.sh);var ve={x:Math.floor(ie*Le),y:Math.floor(we*Le)};if(W=Object(G.a)(q.patchSize,ve),H.setWidth(Math.floor(Math.floor(ve.x/W.x)*(1/Le)*W.x)),H.setHeight(Math.floor(Math.floor(ve.y/W.y)*(1/Le)*W.y)),H.getWidth()%W.x==0&&H.getHeight()%W.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(ie," )and height (").concat(we,") must a multiple of ").concat(W.x))}}}).call(this,d(46))},function(m,x,d){var f=d(92),g=d(93),w=d(94),E=d(95),I=d(96);function F(U){var B=-1,ne=null==U?0:U.length;for(this.clear();++B<ne;){var le=U[B];this.set(le[0],le[1])}}F.prototype.clear=f,F.prototype.delete=g,F.prototype.get=w,F.prototype.has=E,F.prototype.set=I,m.exports=F},function(m,x,d){var f=d(26);m.exports=function(g,w){for(var E=g.length;E--;)if(f(g[E][0],w))return E;return-1}},function(m,x){m.exports=function(d,f){return d===f||d!=d&&f!=f}},function(m,x,d){var f=d(17).Symbol;m.exports=f},function(m,x,d){var f=d(35)(Object,"create");m.exports=f},function(m,x,d){var f=d(117);m.exports=function(g,w){var E=g.__data__;return f(w)?E["string"==typeof w?"string":"hash"]:E.map}},function(m,x,d){var f=d(132),g=d(18),w=Object.prototype,E=w.hasOwnProperty,I=w.propertyIsEnumerable,F=f(function(){return arguments}())?f:function(U){return g(U)&&E.call(U,"callee")&&!I.call(U,"callee")};m.exports=F},function(m,x){var d=/^(?:0|[1-9]\d*)$/;m.exports=function(f,g){var w=typeof f;return!!(g=null==g?9007199254740991:g)&&("number"==w||"symbol"!=w&&d.test(f))&&f>-1&&f%1==0&&f<g}},function(m,x,d){var f=d(14),g=d(232),w=d(233),E=d(236);m.exports=function(I,F){return f(I)?I:g(I,F)?[I]:w(E(I))}},function(m,x,d){var f=d(224),g=d(225),w=d(60),E=d(226);m.exports=function(I){return f(I)||g(I)||w(I)||E()},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x,d){m.exports={determinant:d(251),transpose:d(252),multiply:d(253),identity:d(254),adjoint:d(255),rotate:d(256),invert:d(257),create:d(258),scale:d(259),copy:d(260),frob:d(261),ldu:d(262)}},function(m,x,d){var f=d(102),g=d(108);m.exports=function(w,E){var I=g(w,E);return f(I)?I:void 0}},function(m,x,d){var f=d(22),g=d(13);m.exports=function(w){if(!g(w))return!1;var E=f(w);return"[object Function]"==E||"[object GeneratorFunction]"==E||"[object AsyncFunction]"==E||"[object Proxy]"==E}},function(m,x,d){var f=d(49);m.exports=function(g,w,E){"__proto__"==w&&f?f(g,w,{configurable:!0,enumerable:!0,value:E,writable:!0}):g[w]=E}},function(m,x){m.exports=function(d){return d.webpackPolyfill||(d.deprecate=function(){},d.paths=[],d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),d.webpackPolyfill=1),d}},function(m,x,d){var f=d(36),g=d(40);m.exports=function(w){return null!=w&&g(w.length)&&!f(w)}},function(m,x){m.exports=function(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=9007199254740991}},function(m,x){function d(f,g){return m.exports=d=Object.setPrototypeOf||function(w,E){return w.__proto__=E,w},m.exports.default=m.exports,m.exports.__esModule=!0,d(f,g)}m.exports=d,m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x,d){var f=d(22),g=d(18);m.exports=function(w){return"symbol"==typeof w||g(w)&&"[object Symbol]"==f(w)}},function(m,x,d){var f=d(42);m.exports=function(g){if("string"==typeof g||f(g))return g;var w=g+"";return"0"==w&&1/g==-1/0?"-0":w}},function(m,x,d){var f=d(35)(d(17),"Map");m.exports=f},function(m,x,d){(function(f){m.exports="object"==typeof f&&f&&f.Object===Object&&f}).call(this,d(46))},function(m,x){var d;d=function(){return this}();try{d=d||new Function("return this")()}catch(f){"object"==typeof window&&(d=window)}m.exports=d},function(m,x,d){var f=d(109),g=d(116),w=d(118),E=d(119),I=d(120);function F(U){var B=-1,ne=null==U?0:U.length;for(this.clear();++B<ne;){var le=U[B];this.set(le[0],le[1])}}F.prototype.clear=f,F.prototype.delete=g,F.prototype.get=w,F.prototype.has=E,F.prototype.set=I,m.exports=F},function(m,x,d){var f=d(37),g=d(26);m.exports=function(w,E,I){(void 0!==I&&!g(w[E],I)||void 0===I&&!(E in w))&&f(w,E,I)}},function(m,x,d){var f=d(35),g=function(){try{var w=f(Object,"defineProperty");return w({},"",{}),w}catch(E){}}();m.exports=g},function(m,x,d){var f=d(131)(Object.getPrototypeOf,Object);m.exports=f},function(m,x){var d=Object.prototype;m.exports=function(f){var g=f&&f.constructor;return f===("function"==typeof g&&g.prototype||d)}},function(m,x,d){(function(f){var g=d(17),w=d(134),E=x&&!x.nodeType&&x,I=E&&"object"==typeof f&&f&&!f.nodeType&&f,F=I&&I.exports===E?g.Buffer:void 0;f.exports=(F?F.isBuffer:void 0)||w}).call(this,d(38)(m))},function(m,x,d){var f=d(136),g=d(137),w=d(138),E=w&&w.isTypedArray,I=E?g(E):f;m.exports=I},function(m,x){m.exports=function(d,f){if(("constructor"!==f||"function"!=typeof d[f])&&"__proto__"!=f)return d[f]}},function(m,x,d){var f=d(37),g=d(26),w=Object.prototype.hasOwnProperty;m.exports=function(E,I,F){var U=E[I];w.call(E,I)&&g(U,F)&&(void 0!==F||I in E)||f(E,I,F)}},function(m,x,d){var f=d(141),g=d(143),w=d(39);m.exports=function(E){return w(E)?f(E,!0):g(E)}},function(m,x){m.exports=function(d){return d}},function(m,x,d){var f=d(147),g=Math.max;m.exports=function(w,E,I){return E=g(void 0===E?w.length-1:E,0),function(){for(var F=arguments,U=-1,B=g(F.length-E,0),ne=Array(B);++U<B;)ne[U]=F[E+U];U=-1;for(var le=Array(E+1);++U<E;)le[U]=F[U];return le[E]=I(ne),f(w,this,le)}}},function(m,x,d){var f=d(148),g=d(150)(f);m.exports=g},function(m,x,d){var f=d(61);m.exports=function(g,w){if(g){if("string"==typeof g)return f(g,w);var E=Object.prototype.toString.call(g).slice(8,-1);return"Object"===E&&g.constructor&&(E=g.constructor.name),"Map"===E||"Set"===E?Array.from(g):"Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?f(g,w):void 0}},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){m.exports=function(d,f){(null==f||f>d.length)&&(f=d.length);for(var g=0,w=new Array(f);g<f;g++)w[g]=d[g];return w},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){m.exports=1e-6},function(m,x){m.exports=function(){var d=new Float32Array(2);return d[0]=0,d[1]=0,d}},function(m,x){m.exports=function(d,f,g){return d[0]=f[0]-g[0],d[1]=f[1]-g[1],d}},function(m,x){m.exports=function(d,f,g){return d[0]=f[0]*g[0],d[1]=f[1]*g[1],d}},function(m,x){m.exports=function(d,f,g){return d[0]=f[0]/g[0],d[1]=f[1]/g[1],d}},function(m,x){m.exports=function(d,f){var g=f[0]-d[0],w=f[1]-d[1];return Math.sqrt(g*g+w*w)}},function(m,x){m.exports=function(d,f){var g=f[0]-d[0],w=f[1]-d[1];return g*g+w*w}},function(m,x){m.exports=function(d){var f=d[0],g=d[1];return Math.sqrt(f*f+g*g)}},function(m,x){m.exports=function(d){var f=d[0],g=d[1];return f*f+g*g}},function(m,x){m.exports=1e-6},function(m,x){m.exports=function(){var d=new Float32Array(3);return d[0]=0,d[1]=0,d[2]=0,d}},function(m,x){m.exports=function(d,f,g){var w=new Float32Array(3);return w[0]=d,w[1]=f,w[2]=g,w}},function(m,x){m.exports=function(d,f){var g=f[0],w=f[1],E=f[2],I=g*g+w*w+E*E;return I>0&&(I=1/Math.sqrt(I),d[0]=f[0]*I,d[1]=f[1]*I,d[2]=f[2]*I),d}},function(m,x){m.exports=function(d,f){return d[0]*f[0]+d[1]*f[1]+d[2]*f[2]}},function(m,x){m.exports=function(d,f,g){return d[0]=f[0]-g[0],d[1]=f[1]-g[1],d[2]=f[2]-g[2],d}},function(m,x){m.exports=function(d,f,g){return d[0]=f[0]*g[0],d[1]=f[1]*g[1],d[2]=f[2]*g[2],d}},function(m,x){m.exports=function(d,f,g){return d[0]=f[0]/g[0],d[1]=f[1]/g[1],d[2]=f[2]/g[2],d}},function(m,x){m.exports=function(d,f){var g=f[0]-d[0],w=f[1]-d[1],E=f[2]-d[2];return Math.sqrt(g*g+w*w+E*E)}},function(m,x){m.exports=function(d,f){var g=f[0]-d[0],w=f[1]-d[1],E=f[2]-d[2];return g*g+w*w+E*E}},function(m,x){m.exports=function(d){var f=d[0],g=d[1],w=d[2];return Math.sqrt(f*f+g*g+w*w)}},function(m,x){m.exports=function(d){var f=d[0],g=d[1],w=d[2];return f*f+g*g+w*w}},function(m,x,d){var f=d(153),g=d(154),w=d(60),E=d(155);m.exports=function(I,F){return f(I)||g(I,F)||w(I,F)||E()},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x,d){m.exports={EPSILON:d(71),create:d(72),clone:d(191),angle:d(192),fromValues:d(73),copy:d(193),set:d(194),equals:d(195),exactEquals:d(196),add:d(197),subtract:d(76),sub:d(198),multiply:d(77),mul:d(199),divide:d(78),div:d(200),min:d(201),max:d(202),floor:d(203),ceil:d(204),round:d(205),scale:d(206),scaleAndAdd:d(207),distance:d(79),dist:d(208),squaredDistance:d(80),sqrDist:d(209),length:d(81),len:d(210),squaredLength:d(82),sqrLen:d(211),negate:d(212),inverse:d(213),normalize:d(74),dot:d(75),cross:d(214),lerp:d(215),random:d(216),transformMat4:d(217),transformMat3:d(218),transformQuat:d(219),rotateX:d(220),rotateY:d(221),rotateZ:d(222),forEach:d(223)}},function(m,x,d){var f=d(229),g=d(243)(function(w,E){return null==w?{}:f(w,E)});m.exports=g},function(m,x,d){var f=d(2),g=d(41),w=d(248),E=d(249);function I(F){var U="function"==typeof Map?new Map:void 0;return m.exports=I=function(B){if(null===B||!w(B))return B;if("function"!=typeof B)throw new TypeError("Super expression must either be null or a function");if(void 0!==U){if(U.has(B))return U.get(B);U.set(B,ne)}function ne(){return E(B,arguments,f(this).constructor)}return ne.prototype=Object.create(B.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),g(ne,B)},m.exports.default=m.exports,m.exports.__esModule=!0,I(F)}m.exports=I,m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x,d){"use strict";var f=d(21),g={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(w,E){var I=w.data,F=E.data,U=w.size.x,B=w.size.y,ne=f.a.create(w,E);return{rasterize:function(le){var de,We,Te,Fe,Ce,ee,G,re,ue,Se,be,te,Z=[],ce=0;for(te=0;te<400;te++)Z[te]=0;for(Z[0]=I[0],ue=null,ee=1;ee<B-1;ee++)for(Fe=0,We=Z[0],Ce=1;Ce<U-1;Ce++)if(0===F[be=ee*U+Ce])if((de=I[be])!==We){if(0===Fe)Z[Te=ce+1]=de,We=de,null!==(G=ne.contourTracing(ee,Ce,Te,de,g.DIR.OUTSIDE_EDGE))&&(ce++,Fe=Te,(re=g.createContour2D()).dir=g.CONTOUR_DIR.CW_DIR,re.index=Fe,re.firstVertex=G,re.nextpeer=ue,re.insideContours=null,null!==ue&&(ue.prevpeer=re),ue=re);else if(null!==(G=ne.contourTracing(ee,Ce,g.DIR.INSIDE_EDGE,de,Fe))){for((re=g.createContour2D()).firstVertex=G,re.insideContours=null,re.dir=0===le?g.CONTOUR_DIR.CCW_DIR:g.CONTOUR_DIR.CW_DIR,re.index=le,Se=ue;null!==Se&&Se.index!==Fe;)Se=Se.nextpeer;null!==Se&&(re.nextpeer=Se.insideContours,null!==Se.insideContours&&(Se.insideContours.prevpeer=re),Se.insideContours=re)}}else F[be]=Fe;else F[be]===g.DIR.OUTSIDE_EDGE||F[be]===g.DIR.INSIDE_EDGE?(Fe=0,We=F[be]===g.DIR.INSIDE_EDGE?I[be]:Z[0]):We=Z[Fe=F[be]];for(Se=ue;null!==Se;)Se.index=le,Se=Se.nextpeer;return{cc:ue,count:ce}},debug:{drawContour:function(le,de){var We,Te,Fe,Ce=le.getContext("2d"),ee=de;for(Ce.strokeStyle="red",Ce.fillStyle="red",Ce.lineWidth=1,We=null!==ee?ee.insideContours:null;null!==ee;){switch(null!==We?(Te=We,We=We.nextpeer):(Te=ee,We=null!==(ee=ee.nextpeer)?ee.insideContours:null),Te.dir){case g.CONTOUR_DIR.CW_DIR:Ce.strokeStyle="red";break;case g.CONTOUR_DIR.CCW_DIR:Ce.strokeStyle="blue";break;case g.CONTOUR_DIR.UNKNOWN_DIR:Ce.strokeStyle="green"}Fe=Te.firstVertex,Ce.beginPath(),Ce.moveTo(Fe.x,Fe.y);do{Ce.lineTo((Fe=Fe.next).x,Fe.y)}while(Fe!==Te.firstVertex);Ce.stroke()}}}}}};x.a=g},function(m,x,d){"use strict";x.a=function(f,g,w){var E=new f.Uint8Array(w),I=0|g.size,F=f.Math.imul;function U(ee,G){ee|=0,G|=0;var re=0,ue=0,be=0,te=0,Z=0,ce=0,Q=0;for(re=1;(0|re)<(I-1|0);re=re+1|0)for(Q=Q+I|0,ue=1;(0|ue)<(I-1|0);ue=ue+1|0)E[G+Q+ue|0]=5==(0|(0|E[ee+(be=Q-I|0)+(Z=ue-1|0)|0])+(0|E[ee+be+(ce=ue+1|0)|0])+(0|E[ee+Q+ue|0])+(0|E[ee+(te=Q+I|0)+Z|0])+(0|E[ee+te+ce|0]))?1:0}function B(ee,G,re){ee|=0,G|=0,re|=0;var ue=0;for(ue=0|F(I,I);(0|ue)>0;)E[re+(ue=ue-1|0)|0]=(0|E[ee+ue|0])-(0|E[G+ue|0])|0}function ne(ee,G,re){ee|=0,G|=0,re|=0;var ue=0;for(ue=0|F(I,I);(0|ue)>0;)E[re+(ue=ue-1|0)|0]=0|E[ee+ue|0]|E[G+ue|0]|0}function le(ee){ee|=0;var G=0,re=0;for(re=0|F(I,I);(0|re)>0;)G=(0|G)+(0|E[ee+(re=re-1|0)|0])|0;return 0|G}function We(ee,G){ee|=0,G|=0;var re=0,ue=0,be=0,te=0,Z=0,ce=0,Q=0;for(re=1;(0|re)<(I-1|0);re=re+1|0)for(Q=Q+I|0,ue=1;(0|ue)<(I-1|0);ue=ue+1|0)E[G+Q+ue|0]=(0|(0|E[ee+(be=Q-I|0)+(Z=ue-1|0)|0])+(0|E[ee+be+(ce=ue+1|0)|0])+(0|E[ee+Q+ue|0])+(0|E[ee+(te=Q+I|0)+Z|0])+(0|E[ee+te+ce|0]))>0?1:0}function Te(ee,G){ee|=0,G|=0;var re=0;for(re=0|F(I,I);(0|re)>0;)E[G+(re=re-1|0)|0]=0|E[ee+re|0]}return{skeletonize:function(){var G,re,ue,be=0;(function(ee,G){ee|=0,G|=0;var re=0;for(re=0|F(I,I);(0|re)>0;)E[ee+(re=re-1|0)|0]=G})(ue=(re=(G=0|F(I,I))+G|0)+G|0,0),function(ee){ee|=0;var G=0,re=0;for(G=0;(0|G)<(I-1|0);G=G+1|0)E[ee+G|0]=0,E[ee+re|0]=0,E[ee+(re=re+I-1|0)|0]=0,re=re+1|0;for(G=0;(0|G)<(0|I);G=G+1|0)E[ee+re|0]=0,re=re+1|0}(0);do{U(0,G),We(G,re),B(0,re,re),ne(ue,re,ue),Te(G,0),be=0==(0|le(0))|0}while(!be)}}}},function(m,x,d){m.exports=d(263)},function(m,x,d){var f=d(91),g=d(48),w=d(121),E=d(123),I=d(13),F=d(56),U=d(54);m.exports=function B(ne,le,de,We,Te){ne!==le&&w(le,function(Fe,Ce){if(Te||(Te=new f),I(Fe))E(ne,le,Ce,de,B,We,Te);else{var ee=We?We(U(ne,Ce),Fe,Ce+"",ne,le,Te):void 0;void 0===ee&&(ee=Fe),g(ne,Ce,ee)}},F)}},function(m,x,d){var f=d(24),g=d(97),w=d(98),E=d(99),I=d(100),F=d(101);function U(B){var ne=this.__data__=new f(B);this.size=ne.size}U.prototype.clear=g,U.prototype.delete=w,U.prototype.get=E,U.prototype.has=I,U.prototype.set=F,m.exports=U},function(m,x){m.exports=function(){this.__data__=[],this.size=0}},function(m,x,d){var f=d(25),g=Array.prototype.splice;m.exports=function(w){var E=this.__data__,I=f(E,w);return!(I<0||(I==E.length-1?E.pop():g.call(E,I,1),--this.size,0))}},function(m,x,d){var f=d(25);m.exports=function(g){var w=this.__data__,E=f(w,g);return E<0?void 0:w[E][1]}},function(m,x,d){var f=d(25);m.exports=function(g){return f(this.__data__,g)>-1}},function(m,x,d){var f=d(25);m.exports=function(g,w){var E=this.__data__,I=f(E,g);return I<0?(++this.size,E.push([g,w])):E[I][1]=w,this}},function(m,x,d){var f=d(24);m.exports=function(){this.__data__=new f,this.size=0}},function(m,x){m.exports=function(d){var f=this.__data__,g=f.delete(d);return this.size=f.size,g}},function(m,x){m.exports=function(d){return this.__data__.get(d)}},function(m,x){m.exports=function(d){return this.__data__.has(d)}},function(m,x,d){var f=d(24),g=d(44),w=d(47);m.exports=function(E,I){var F=this.__data__;if(F instanceof f){var U=F.__data__;if(!g||U.length<199)return U.push([E,I]),this.size=++F.size,this;F=this.__data__=new w(U)}return F.set(E,I),this.size=F.size,this}},function(m,x,d){var f=d(36),g=d(105),w=d(13),E=d(107),I=/^\[object .+?Constructor\]$/,le=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");m.exports=function(de){return!(!w(de)||g(de))&&(f(de)?le:I).test(E(de))}},function(m,x,d){var f=d(27),g=Object.prototype,w=g.hasOwnProperty,E=g.toString,I=f?f.toStringTag:void 0;m.exports=function(F){var U=w.call(F,I),B=F[I];try{F[I]=void 0;var ne=!0}catch(de){}var le=E.call(F);return ne&&(U?F[I]=B:delete F[I]),le}},function(m,x){var d=Object.prototype.toString;m.exports=function(f){return d.call(f)}},function(m,x,d){var f,g=d(106),w=(f=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"";m.exports=function(E){return!!w&&w in E}},function(m,x,d){var f=d(17)["__core-js_shared__"];m.exports=f},function(m,x){var d=Function.prototype.toString;m.exports=function(f){if(null!=f){try{return d.call(f)}catch(g){}try{return f+""}catch(g){}}return""}},function(m,x){m.exports=function(d,f){return null==d?void 0:d[f]}},function(m,x,d){var f=d(110),g=d(24),w=d(44);m.exports=function(){this.size=0,this.__data__={hash:new f,map:new(w||g),string:new f}}},function(m,x,d){var f=d(111),g=d(112),w=d(113),E=d(114),I=d(115);function F(U){var B=-1,ne=null==U?0:U.length;for(this.clear();++B<ne;){var le=U[B];this.set(le[0],le[1])}}F.prototype.clear=f,F.prototype.delete=g,F.prototype.get=w,F.prototype.has=E,F.prototype.set=I,m.exports=F},function(m,x,d){var f=d(28);m.exports=function(){this.__data__=f?f(null):{},this.size=0}},function(m,x){m.exports=function(d){var f=this.has(d)&&delete this.__data__[d];return this.size-=f?1:0,f}},function(m,x,d){var f=d(28),g=Object.prototype.hasOwnProperty;m.exports=function(w){var E=this.__data__;if(f){var I=E[w];return"__lodash_hash_undefined__"===I?void 0:I}return g.call(E,w)?E[w]:void 0}},function(m,x,d){var f=d(28),g=Object.prototype.hasOwnProperty;m.exports=function(w){var E=this.__data__;return f?void 0!==E[w]:g.call(E,w)}},function(m,x,d){var f=d(28);m.exports=function(g,w){var E=this.__data__;return this.size+=this.has(g)?0:1,E[g]=f&&void 0===w?"__lodash_hash_undefined__":w,this}},function(m,x,d){var f=d(29);m.exports=function(g){var w=f(this,g).delete(g);return this.size-=w?1:0,w}},function(m,x){m.exports=function(d){var f=typeof d;return"string"==f||"number"==f||"symbol"==f||"boolean"==f?"__proto__"!==d:null===d}},function(m,x,d){var f=d(29);m.exports=function(g){return f(this,g).get(g)}},function(m,x,d){var f=d(29);m.exports=function(g){return f(this,g).has(g)}},function(m,x,d){var f=d(29);m.exports=function(g,w){var E=f(this,g),I=E.size;return E.set(g,w),this.size+=E.size==I?0:1,this}},function(m,x,d){var f=d(122)();m.exports=f},function(m,x){m.exports=function(d){return function(f,g,w){for(var E=-1,I=Object(f),F=w(f),U=F.length;U--;){var B=F[d?U:++E];if(!1===g(I[B],B,I))break}return f}}},function(m,x,d){var f=d(48),g=d(124),w=d(125),E=d(128),I=d(129),F=d(30),U=d(14),B=d(133),ne=d(52),le=d(36),de=d(13),We=d(135),Te=d(53),Fe=d(54),Ce=d(139);m.exports=function(ee,G,re,ue,Se,be,te){var Z=Fe(ee,re),ce=Fe(G,re),Q=te.get(ce);if(Q)f(ee,re,Q);else{var _e=be?be(Z,ce,re+"",ee,G,te):void 0,H=void 0===_e;if(H){var q=U(ce),W=!q&&ne(ce),se=!q&&!W&&Te(ce);_e=ce,q||W||se?U(Z)?_e=Z:B(Z)?_e=E(Z):W?(H=!1,_e=g(ce,!0)):se?(H=!1,_e=w(ce,!0)):_e=[]:We(ce)||F(ce)?(_e=Z,F(Z)?_e=Ce(Z):de(Z)&&!le(Z)||(_e=I(ce))):H=!1}H&&(te.set(ce,_e),Se(_e,ce,ue,be,te),te.delete(ce)),f(ee,re,_e)}}},function(m,x,d){(function(f){var g=d(17),w=x&&!x.nodeType&&x,E=w&&"object"==typeof f&&f&&!f.nodeType&&f,I=E&&E.exports===w?g.Buffer:void 0,F=I?I.allocUnsafe:void 0;f.exports=function(U,B){if(B)return U.slice();var ne=U.length,le=F?F(ne):new U.constructor(ne);return U.copy(le),le}}).call(this,d(38)(m))},function(m,x,d){var f=d(126);m.exports=function(g,w){var E=w?f(g.buffer):g.buffer;return new g.constructor(E,g.byteOffset,g.length)}},function(m,x,d){var f=d(127);m.exports=function(g){var w=new g.constructor(g.byteLength);return new f(w).set(new f(g)),w}},function(m,x,d){var f=d(17).Uint8Array;m.exports=f},function(m,x){m.exports=function(d,f){var g=-1,w=d.length;for(f||(f=Array(w));++g<w;)f[g]=d[g];return f}},function(m,x,d){var f=d(130),g=d(50),w=d(51);m.exports=function(E){return"function"!=typeof E.constructor||w(E)?{}:f(g(E))}},function(m,x,d){var f=d(13),g=Object.create,w=function(){function E(){}return function(I){if(!f(I))return{};if(g)return g(I);E.prototype=I;var F=new E;return E.prototype=void 0,F}}();m.exports=w},function(m,x){m.exports=function(d,f){return function(g){return d(f(g))}}},function(m,x,d){var f=d(22),g=d(18);m.exports=function(w){return g(w)&&"[object Arguments]"==f(w)}},function(m,x,d){var f=d(39),g=d(18);m.exports=function(w){return g(w)&&f(w)}},function(m,x){m.exports=function(){return!1}},function(m,x,d){var f=d(22),g=d(50),w=d(18),F=Function.prototype.toString,U=Object.prototype.hasOwnProperty,B=F.call(Object);m.exports=function(ne){if(!w(ne)||"[object Object]"!=f(ne))return!1;var le=g(ne);if(null===le)return!0;var de=U.call(le,"constructor")&&le.constructor;return"function"==typeof de&&de instanceof de&&F.call(de)==B}},function(m,x,d){var f=d(22),g=d(40),w=d(18),E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Arguments]"]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object Boolean]"]=E["[object DataView]"]=E["[object Date]"]=E["[object Error]"]=E["[object Function]"]=E["[object Map]"]=E["[object Number]"]=E["[object Object]"]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object WeakMap]"]=!1,m.exports=function(I){return w(I)&&g(I.length)&&!!E[f(I)]}},function(m,x){m.exports=function(d){return function(f){return d(f)}}},function(m,x,d){(function(f){var g=d(45),w=x&&!x.nodeType&&x,E=w&&"object"==typeof f&&f&&!f.nodeType&&f,I=E&&E.exports===w&&g.process,F=function(){try{return E&&E.require&&E.require("util").types||I&&I.binding&&I.binding("util")}catch(B){}}();f.exports=F}).call(this,d(38)(m))},function(m,x,d){var f=d(140),g=d(56);m.exports=function(w){return f(w,g(w))}},function(m,x,d){var f=d(55),g=d(37);m.exports=function(w,E,I,F){var U=!I;I||(I={});for(var B=-1,ne=E.length;++B<ne;){var le=E[B],de=F?F(I[le],w[le],le,I,w):void 0;void 0===de&&(de=w[le]),U?g(I,le,de):f(I,le,de)}return I}},function(m,x,d){var f=d(142),g=d(30),w=d(14),E=d(52),I=d(31),F=d(53),U=Object.prototype.hasOwnProperty;m.exports=function(B,ne){var le=w(B),de=!le&&g(B),We=!le&&!de&&E(B),Te=!le&&!de&&!We&&F(B),Fe=le||de||We||Te,Ce=Fe?f(B.length,String):[],ee=Ce.length;for(var G in B)!ne&&!U.call(B,G)||Fe&&("length"==G||We&&("offset"==G||"parent"==G)||Te&&("buffer"==G||"byteLength"==G||"byteOffset"==G)||I(G,ee))||Ce.push(G);return Ce}},function(m,x){m.exports=function(d,f){for(var g=-1,w=Array(d);++g<d;)w[g]=f(g);return w}},function(m,x,d){var f=d(13),g=d(51),w=d(144),E=Object.prototype.hasOwnProperty;m.exports=function(I){if(!f(I))return w(I);var F=g(I),U=[];for(var B in I)("constructor"!=B||!F&&E.call(I,B))&&U.push(B);return U}},function(m,x){m.exports=function(d){var f=[];if(null!=d)for(var g in Object(d))f.push(g);return f}},function(m,x,d){var f=d(146),g=d(151);m.exports=function(w){return f(function(E,I){var F=-1,U=I.length,B=U>1?I[U-1]:void 0,ne=U>2?I[2]:void 0;for(B=w.length>3&&"function"==typeof B?(U--,B):void 0,ne&&g(I[0],I[1],ne)&&(B=U<3?void 0:B,U=1),E=Object(E);++F<U;){var le=I[F];le&&w(E,le,F,B)}return E})}},function(m,x,d){var f=d(57),g=d(58),w=d(59);m.exports=function(E,I){return w(g(E,I,f),E+"")}},function(m,x){m.exports=function(d,f,g){switch(g.length){case 0:return d.call(f);case 1:return d.call(f,g[0]);case 2:return d.call(f,g[0],g[1]);case 3:return d.call(f,g[0],g[1],g[2])}return d.apply(f,g)}},function(m,x,d){var f=d(149),g=d(49),w=d(57);m.exports=g?function(I,F){return g(I,"toString",{configurable:!0,enumerable:!1,value:f(F),writable:!0})}:w},function(m,x){m.exports=function(d){return function(){return d}}},function(m,x){var d=Date.now;m.exports=function(f){var g=0,w=0;return function(){var E=d(),I=16-(E-w);if(w=E,I>0){if(++g>=800)return arguments[0]}else g=0;return f.apply(void 0,arguments)}}},function(m,x,d){var f=d(26),g=d(39),w=d(31),E=d(13);m.exports=function(I,F,U){if(!E(U))return!1;var B=typeof F;return!!("number"==B?g(U)&&w(F,U.length):"string"==B&&F in U)&&f(U[F],I)}},function(m,x){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(d){window.setTimeout(d,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(d,f){var g=65535&d,w=65535&f;return g*w+((d>>>16&65535)*w+g*(f>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(d){"use strict";if(null===d)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(d),g=1;g<arguments.length;g++){var w=arguments[g];if(null!==w)for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(f[E]=w[E])}return f})},function(m,x){m.exports=function(d){if(Array.isArray(d))return d},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){m.exports=function(d,f){var g=null==d?null:"undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(null!=g){var w,E,I=[],F=!0,U=!1;try{for(g=g.call(d);!(F=(w=g.next()).done)&&(I.push(w.value),!f||I.length!==f);F=!0);}catch(B){U=!0,E=B}finally{try{F||null==g.return||g.return()}finally{if(U)throw E}}return I}},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){m.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){m.exports=function(d){var f=new Float32Array(2);return f[0]=d[0],f[1]=d[1],f}},function(m,x){m.exports=function(d,f){var g=new Float32Array(2);return g[0]=d,g[1]=f,g}},function(m,x){m.exports=function(d,f){return d[0]=f[0],d[1]=f[1],d}},function(m,x){m.exports=function(d,f,g){return d[0]=f,d[1]=g,d}},function(m,x,d){m.exports=function(g,w){var E=g[0],I=g[1],F=w[0],U=w[1];return Math.abs(E-F)<=f*Math.max(1,Math.abs(E),Math.abs(F))&&Math.abs(I-U)<=f*Math.max(1,Math.abs(I),Math.abs(U))};var f=d(62)},function(m,x){m.exports=function(d,f){return d[0]===f[0]&&d[1]===f[1]}},function(m,x){m.exports=function(d,f,g){return d[0]=f[0]+g[0],d[1]=f[1]+g[1],d}},function(m,x,d){m.exports=d(64)},function(m,x,d){m.exports=d(65)},function(m,x,d){m.exports=d(66)},function(m,x){m.exports=function(d,f){return d[0]=1/f[0],d[1]=1/f[1],d}},function(m,x){m.exports=function(d,f,g){return d[0]=Math.min(f[0],g[0]),d[1]=Math.min(f[1],g[1]),d}},function(m,x){m.exports=function(d,f,g){return d[0]=Math.max(f[0],g[0]),d[1]=Math.max(f[1],g[1]),d}},function(m,x){m.exports=function(d,f,g){var w=Math.cos(g),E=Math.sin(g),I=f[0],F=f[1];return d[0]=I*w-F*E,d[1]=I*E+F*w,d}},function(m,x){m.exports=function(d,f){return d[0]=Math.floor(f[0]),d[1]=Math.floor(f[1]),d}},function(m,x){m.exports=function(d,f){return d[0]=Math.ceil(f[0]),d[1]=Math.ceil(f[1]),d}},function(m,x){m.exports=function(d,f){return d[0]=Math.round(f[0]),d[1]=Math.round(f[1]),d}},function(m,x){m.exports=function(d,f,g){return d[0]=f[0]*g,d[1]=f[1]*g,d}},function(m,x){m.exports=function(d,f,g,w){return d[0]=f[0]+g[0]*w,d[1]=f[1]+g[1]*w,d}},function(m,x,d){m.exports=d(67)},function(m,x,d){m.exports=d(68)},function(m,x,d){m.exports=d(69)},function(m,x,d){m.exports=d(70)},function(m,x){m.exports=function(d,f){return d[0]=-f[0],d[1]=-f[1],d}},function(m,x){m.exports=function(d,f){var g=f[0],w=f[1],E=g*g+w*w;return E>0&&(E=1/Math.sqrt(E),d[0]=f[0]*E,d[1]=f[1]*E),d}},function(m,x){m.exports=function(d,f){return d[0]*f[0]+d[1]*f[1]}},function(m,x){m.exports=function(d,f,g){var w=f[0]*g[1]-f[1]*g[0];return d[0]=d[1]=0,d[2]=w,d}},function(m,x){m.exports=function(d,f,g,w){var E=f[0],I=f[1];return d[0]=E+w*(g[0]-E),d[1]=I+w*(g[1]-I),d}},function(m,x){m.exports=function(d,f){f=f||1;var g=2*Math.random()*Math.PI;return d[0]=Math.cos(g)*f,d[1]=Math.sin(g)*f,d}},function(m,x){m.exports=function(d,f,g){var w=f[0],E=f[1];return d[0]=g[0]*w+g[2]*E,d[1]=g[1]*w+g[3]*E,d}},function(m,x){m.exports=function(d,f,g){var w=f[0],E=f[1];return d[0]=g[0]*w+g[2]*E+g[4],d[1]=g[1]*w+g[3]*E+g[5],d}},function(m,x){m.exports=function(d,f,g){var w=f[0],E=f[1];return d[0]=g[0]*w+g[3]*E+g[6],d[1]=g[1]*w+g[4]*E+g[7],d}},function(m,x){m.exports=function(d,f,g){var w=f[0],E=f[1];return d[0]=g[0]*w+g[4]*E+g[12],d[1]=g[1]*w+g[5]*E+g[13],d}},function(m,x,d){m.exports=function(g,w,E,I,F,U){var B,ne;for(w||(w=2),E||(E=0),ne=I?Math.min(I*w+E,g.length):g.length,B=E;B<ne;B+=w)f[0]=g[B],f[1]=g[B+1],F(f,f,U),g[B]=f[0],g[B+1]=f[1];return g};var f=d(63)()},function(m,x){m.exports=function(d,f,g){var w=f[0]*f[0]+f[1]*f[1];if(w>g*g){var E=Math.sqrt(w);d[0]=f[0]/E*g,d[1]=f[1]/E*g}else d[0]=f[0],d[1]=f[1];return d}},function(m,x){m.exports=function(d){var f=new Float32Array(3);return f[0]=d[0],f[1]=d[1],f[2]=d[2],f}},function(m,x,d){m.exports=function(E,I){var F=f(E[0],E[1],E[2]),U=f(I[0],I[1],I[2]);g(F,F),g(U,U);var B=w(F,U);return B>1?0:Math.acos(B)};var f=d(73),g=d(74),w=d(75)},function(m,x){m.exports=function(d,f){return d[0]=f[0],d[1]=f[1],d[2]=f[2],d}},function(m,x){m.exports=function(d,f,g,w){return d[0]=f,d[1]=g,d[2]=w,d}},function(m,x,d){m.exports=function(g,w){var E=g[0],I=g[1],F=g[2],U=w[0],B=w[1],ne=w[2];return Math.abs(E-U)<=f*Math.max(1,Math.abs(E),Math.abs(U))&&Math.abs(I-B)<=f*Math.max(1,Math.abs(I),Math.abs(B))&&Math.abs(F-ne)<=f*Math.max(1,Math.abs(F),Math.abs(ne))};var f=d(71)},function(m,x){m.exports=function(d,f){return d[0]===f[0]&&d[1]===f[1]&&d[2]===f[2]}},function(m,x){m.exports=function(d,f,g){return d[0]=f[0]+g[0],d[1]=f[1]+g[1],d[2]=f[2]+g[2],d}},function(m,x,d){m.exports=d(76)},function(m,x,d){m.exports=d(77)},function(m,x,d){m.exports=d(78)},function(m,x){m.exports=function(d,f,g){return d[0]=Math.min(f[0],g[0]),d[1]=Math.min(f[1],g[1]),d[2]=Math.min(f[2],g[2]),d}},function(m,x){m.exports=function(d,f,g){return d[0]=Math.max(f[0],g[0]),d[1]=Math.max(f[1],g[1]),d[2]=Math.max(f[2],g[2]),d}},function(m,x){m.exports=function(d,f){return d[0]=Math.floor(f[0]),d[1]=Math.floor(f[1]),d[2]=Math.floor(f[2]),d}},function(m,x){m.exports=function(d,f){return d[0]=Math.ceil(f[0]),d[1]=Math.ceil(f[1]),d[2]=Math.ceil(f[2]),d}},function(m,x){m.exports=function(d,f){return d[0]=Math.round(f[0]),d[1]=Math.round(f[1]),d[2]=Math.round(f[2]),d}},function(m,x){m.exports=function(d,f,g){return d[0]=f[0]*g,d[1]=f[1]*g,d[2]=f[2]*g,d}},function(m,x){m.exports=function(d,f,g,w){return d[0]=f[0]+g[0]*w,d[1]=f[1]+g[1]*w,d[2]=f[2]+g[2]*w,d}},function(m,x,d){m.exports=d(79)},function(m,x,d){m.exports=d(80)},function(m,x,d){m.exports=d(81)},function(m,x,d){m.exports=d(82)},function(m,x){m.exports=function(d,f){return d[0]=-f[0],d[1]=-f[1],d[2]=-f[2],d}},function(m,x){m.exports=function(d,f){return d[0]=1/f[0],d[1]=1/f[1],d[2]=1/f[2],d}},function(m,x){m.exports=function(d,f,g){var w=f[0],E=f[1],I=f[2],F=g[0],U=g[1],B=g[2];return d[0]=E*B-I*U,d[1]=I*F-w*B,d[2]=w*U-E*F,d}},function(m,x){m.exports=function(d,f,g,w){var E=f[0],I=f[1],F=f[2];return d[0]=E+w*(g[0]-E),d[1]=I+w*(g[1]-I),d[2]=F+w*(g[2]-F),d}},function(m,x){m.exports=function(d,f){f=f||1;var g=2*Math.random()*Math.PI,w=2*Math.random()-1,E=Math.sqrt(1-w*w)*f;return d[0]=Math.cos(g)*E,d[1]=Math.sin(g)*E,d[2]=w*f,d}},function(m,x){m.exports=function(d,f,g){var w=f[0],E=f[1],I=f[2],F=g[3]*w+g[7]*E+g[11]*I+g[15];return d[0]=(g[0]*w+g[4]*E+g[8]*I+g[12])/(F=F||1),d[1]=(g[1]*w+g[5]*E+g[9]*I+g[13])/F,d[2]=(g[2]*w+g[6]*E+g[10]*I+g[14])/F,d}},function(m,x){m.exports=function(d,f,g){var w=f[0],E=f[1],I=f[2];return d[0]=w*g[0]+E*g[3]+I*g[6],d[1]=w*g[1]+E*g[4]+I*g[7],d[2]=w*g[2]+E*g[5]+I*g[8],d}},function(m,x){m.exports=function(d,f,g){var w=f[0],E=f[1],I=f[2],F=g[0],U=g[1],B=g[2],ne=g[3],le=ne*w+U*I-B*E,de=ne*E+B*w-F*I,We=ne*I+F*E-U*w,Te=-F*w-U*E-B*I;return d[0]=le*ne+Te*-F+de*-B-We*-U,d[1]=de*ne+Te*-U+We*-F-le*-B,d[2]=We*ne+Te*-B+le*-U-de*-F,d}},function(m,x){m.exports=function(d,f,g,w){var E=g[1],I=g[2],F=f[1]-E,U=f[2]-I,B=Math.sin(w),ne=Math.cos(w);return d[0]=f[0],d[1]=E+F*ne-U*B,d[2]=I+F*B+U*ne,d}},function(m,x){m.exports=function(d,f,g,w){var E=g[0],I=g[2],F=f[0]-E,U=f[2]-I,B=Math.sin(w),ne=Math.cos(w);return d[0]=E+U*B+F*ne,d[1]=f[1],d[2]=I+U*ne-F*B,d}},function(m,x){m.exports=function(d,f,g,w){var E=g[0],I=g[1],F=f[0]-E,U=f[1]-I,B=Math.sin(w),ne=Math.cos(w);return d[0]=E+F*ne-U*B,d[1]=I+F*B+U*ne,d[2]=f[2],d}},function(m,x,d){m.exports=function(g,w,E,I,F,U){var B,ne;for(w||(w=3),E||(E=0),ne=I?Math.min(I*w+E,g.length):g.length,B=E;B<ne;B+=w)f[0]=g[B],f[1]=g[B+1],f[2]=g[B+2],F(f,f,U),g[B]=f[0],g[B+1]=f[1],g[B+2]=f[2];return g};var f=d(72)()},function(m,x,d){var f=d(61);m.exports=function(g){if(Array.isArray(g))return f(g)},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){m.exports=function(d){if("undefined"!=typeof Symbol&&null!=d[Symbol.iterator]||null!=d["@@iterator"])return Array.from(d)},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){m.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x,d){var f=d(2);m.exports=function(g,w){for(;!Object.prototype.hasOwnProperty.call(g,w)&&null!==(g=f(g)););return g},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x,d){var f=function(g){"use strict";var w=Object.prototype,E=w.hasOwnProperty,I="function"==typeof Symbol?Symbol:{},F=I.iterator||"@@iterator",U=I.asyncIterator||"@@asyncIterator",B=I.toStringTag||"@@toStringTag";function ne(H,q,W,se){var ve,Qe,Me,ke,we=Object.create((q&&q.prototype instanceof We?q:We).prototype),Le=new ce(se||[]);return we._invoke=(ve=H,Qe=W,Me=Le,ke="suspendedStart",function(qe,Oe){if("executing"===ke)throw new Error("Generator is already running");if("completed"===ke){if("throw"===qe)throw Oe;return{value:void 0,done:!0}}for(Me.method=qe,Me.arg=Oe;;){var Zn=Me.delegate;if(Zn){var Pn=be(Zn,Me);if(Pn){if(Pn===de)continue;return Pn}}if("next"===Me.method)Me.sent=Me._sent=Me.arg;else if("throw"===Me.method){if("suspendedStart"===ke)throw ke="completed",Me.arg;Me.dispatchException(Me.arg)}else"return"===Me.method&&Me.abrupt("return",Me.arg);ke="executing";var fn=le(ve,Qe,Me);if("normal"===fn.type){if(ke=Me.done?"completed":"suspendedYield",fn.arg===de)continue;return{value:fn.arg,done:Me.done}}"throw"===fn.type&&(ke="completed",Me.method="throw",Me.arg=fn.arg)}}),we}function le(H,q,W){try{return{type:"normal",arg:H.call(q,W)}}catch(se){return{type:"throw",arg:se}}}g.wrap=ne;var de={};function We(){}function Te(){}function Fe(){}var Ce={};Ce[F]=function(){return this};var ee=Object.getPrototypeOf,G=ee&&ee(ee(Q([])));G&&G!==w&&E.call(G,F)&&(Ce=G);var re=Fe.prototype=We.prototype=Object.create(Ce);function ue(H){["next","throw","return"].forEach(function(q){H[q]=function(W){return this._invoke(q,W)}})}function Se(H,q){var W;this._invoke=function(se,ie){function we(){return new q(function(Le,ve){!function Qe(Me,ke,qe,Oe){var Zn=le(H[Me],H,ke);if("throw"!==Zn.type){var Pn=Zn.arg,fn=Pn.value;return fn&&"object"==typeof fn&&E.call(fn,"__await")?q.resolve(fn.__await).then(function(Ir){Qe("next",Ir,qe,Oe)},function(Ir){Qe("throw",Ir,qe,Oe)}):q.resolve(fn).then(function(Ir){Pn.value=Ir,qe(Pn)},function(Ir){return Qe("throw",Ir,qe,Oe)})}Oe(Zn.arg)}(se,ie,Le,ve)})}return W=W?W.then(we,we):we()}}function be(H,q){var W=H.iterator[q.method];if(void 0===W){if(q.delegate=null,"throw"===q.method){if(H.iterator.return&&(q.method="return",q.arg=void 0,be(H,q),"throw"===q.method))return de;q.method="throw",q.arg=new TypeError("The iterator does not provide a 'throw' method")}return de}var se=le(W,H.iterator,q.arg);if("throw"===se.type)return q.method="throw",q.arg=se.arg,q.delegate=null,de;var ie=se.arg;return ie?ie.done?(q[H.resultName]=ie.value,q.next=H.nextLoc,"return"!==q.method&&(q.method="next",q.arg=void 0),q.delegate=null,de):ie:(q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,de)}function te(H){var q={tryLoc:H[0]};1 in H&&(q.catchLoc=H[1]),2 in H&&(q.finallyLoc=H[2],q.afterLoc=H[3]),this.tryEntries.push(q)}function Z(H){var q=H.completion||{};q.type="normal",delete q.arg,H.completion=q}function ce(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(te,this),this.reset(!0)}function Q(H){if(H){var q=H[F];if(q)return q.call(H);if("function"==typeof H.next)return H;if(!isNaN(H.length)){var W=-1,se=function ie(){for(;++W<H.length;)if(E.call(H,W))return ie.value=H[W],ie.done=!1,ie;return ie.value=void 0,ie.done=!0,ie};return se.next=se}}return{next:_e}}function _e(){return{value:void 0,done:!0}}return Te.prototype=re.constructor=Fe,Fe.constructor=Te,Fe[B]=Te.displayName="GeneratorFunction",g.isGeneratorFunction=function(H){var q="function"==typeof H&&H.constructor;return!!q&&(q===Te||"GeneratorFunction"===(q.displayName||q.name))},g.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,Fe):(H.__proto__=Fe,B in H||(H[B]="GeneratorFunction")),H.prototype=Object.create(re),H},g.awrap=function(H){return{__await:H}},ue(Se.prototype),Se.prototype[U]=function(){return this},g.AsyncIterator=Se,g.async=function(H,q,W,se,ie){void 0===ie&&(ie=Promise);var we=new Se(ne(H,q,W,se),ie);return g.isGeneratorFunction(q)?we:we.next().then(function(Le){return Le.done?Le.value:we.next()})},ue(re),re[B]="Generator",re[F]=function(){return this},re.toString=function(){return"[object Generator]"},g.keys=function(H){var q=[];for(var W in H)q.push(W);return q.reverse(),function se(){for(;q.length;){var ie=q.pop();if(ie in H)return se.value=ie,se.done=!1,se}return se.done=!0,se}},g.values=Q,ce.prototype={constructor:ce,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Z),!H)for(var q in this)"t"===q.charAt(0)&&E.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=void 0)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if("throw"===H.type)throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var q=this;function W(Qe,Me){return we.type="throw",we.arg=H,q.next=Qe,Me&&(q.method="next",q.arg=void 0),!!Me}for(var se=this.tryEntries.length-1;se>=0;--se){var ie=this.tryEntries[se],we=ie.completion;if("root"===ie.tryLoc)return W("end");if(ie.tryLoc<=this.prev){var Le=E.call(ie,"catchLoc"),ve=E.call(ie,"finallyLoc");if(Le&&ve){if(this.prev<ie.catchLoc)return W(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return W(ie.finallyLoc)}else if(Le){if(this.prev<ie.catchLoc)return W(ie.catchLoc,!0)}else{if(!ve)throw new Error("try statement without catch or finally");if(this.prev<ie.finallyLoc)return W(ie.finallyLoc)}}}},abrupt:function(H,q){for(var W=this.tryEntries.length-1;W>=0;--W){var se=this.tryEntries[W];if(se.tryLoc<=this.prev&&E.call(se,"finallyLoc")&&this.prev<se.finallyLoc){var ie=se;break}}ie&&("break"===H||"continue"===H)&&ie.tryLoc<=q&&q<=ie.finallyLoc&&(ie=null);var we=ie?ie.completion:{};return we.type=H,we.arg=q,ie?(this.method="next",this.next=ie.finallyLoc,de):this.complete(we)},complete:function(H,q){if("throw"===H.type)throw H.arg;return"break"===H.type||"continue"===H.type?this.next=H.arg:"return"===H.type?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):"normal"===H.type&&q&&(this.next=q),de},finish:function(H){for(var q=this.tryEntries.length-1;q>=0;--q){var W=this.tryEntries[q];if(W.finallyLoc===H)return this.complete(W.completion,W.afterLoc),Z(W),de}},catch:function(H){for(var q=this.tryEntries.length-1;q>=0;--q){var W=this.tryEntries[q];if(W.tryLoc===H){var se=W.completion;if("throw"===se.type){var ie=se.arg;Z(W)}return ie}}throw new Error("illegal catch attempt")},delegateYield:function(H,q,W){return this.delegate={iterator:Q(H),resultName:q,nextLoc:W},"next"===this.method&&(this.arg=void 0),de}},g}(m.exports);try{regeneratorRuntime=f}catch(g){Function("r","regeneratorRuntime = r")(f)}},function(m,x,d){var f=d(230),g=d(240);m.exports=function(w,E){return f(w,E,function(I,F){return g(w,F)})}},function(m,x,d){var f=d(231),g=d(239),w=d(32);m.exports=function(E,I,F){for(var U=-1,B=I.length,ne={};++U<B;){var le=I[U],de=f(E,le);F(de,le)&&g(ne,w(le,E),de)}return ne}},function(m,x,d){var f=d(32),g=d(43);m.exports=function(w,E){for(var I=0,F=(E=f(E,w)).length;null!=w&&I<F;)w=w[g(E[I++])];return I&&I==F?w:void 0}},function(m,x,d){var f=d(14),g=d(42),w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/;m.exports=function(I,F){if(f(I))return!1;var U=typeof I;return!("number"!=U&&"symbol"!=U&&"boolean"!=U&&null!=I&&!g(I))||E.test(I)||!w.test(I)||null!=F&&I in Object(F)}},function(m,x,d){var f=d(234),g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,w=/\\(\\)?/g,E=f(function(I){var F=[];return 46===I.charCodeAt(0)&&F.push(""),I.replace(g,function(U,B,ne,le){F.push(ne?le.replace(w,"$1"):B||U)}),F});m.exports=E},function(m,x,d){var f=d(235);m.exports=function(g){var w=f(g,function(I){return 500===E.size&&E.clear(),I}),E=w.cache;return w}},function(m,x,d){var f=d(47);function g(w,E){if("function"!=typeof w||null!=E&&"function"!=typeof E)throw new TypeError("Expected a function");var I=function(){var F=arguments,U=E?E.apply(this,F):F[0],B=I.cache;if(B.has(U))return B.get(U);var ne=w.apply(this,F);return I.cache=B.set(U,ne)||B,ne};return I.cache=new(g.Cache||f),I}g.Cache=f,m.exports=g},function(m,x,d){var f=d(237);m.exports=function(g){return null==g?"":f(g)}},function(m,x,d){var f=d(27),g=d(238),w=d(14),E=d(42),I=f?f.prototype:void 0,F=I?I.toString:void 0;m.exports=function U(B){if("string"==typeof B)return B;if(w(B))return g(B,U)+"";if(E(B))return F?F.call(B):"";var ne=B+"";return"0"==ne&&1/B==-1/0?"-0":ne}},function(m,x){m.exports=function(d,f){for(var g=-1,w=null==d?0:d.length,E=Array(w);++g<w;)E[g]=f(d[g],g,d);return E}},function(m,x,d){var f=d(55),g=d(32),w=d(31),E=d(13),I=d(43);m.exports=function(F,U,B,ne){if(!E(F))return F;for(var le=-1,de=(U=g(U,F)).length,We=de-1,Te=F;null!=Te&&++le<de;){var Fe=I(U[le]),Ce=B;if("__proto__"===Fe||"constructor"===Fe||"prototype"===Fe)return F;if(le!=We){var ee=Te[Fe];void 0===(Ce=ne?ne(ee,Fe,Te):void 0)&&(Ce=E(ee)?ee:w(U[le+1])?[]:{})}f(Te,Fe,Ce),Te=Te[Fe]}return F}},function(m,x,d){var f=d(241),g=d(242);m.exports=function(w,E){return null!=w&&g(w,E,f)}},function(m,x){m.exports=function(d,f){return null!=d&&f in Object(d)}},function(m,x,d){var f=d(32),g=d(30),w=d(14),E=d(31),I=d(40),F=d(43);m.exports=function(U,B,ne){for(var le=-1,de=(B=f(B,U)).length,We=!1;++le<de;){var Te=F(B[le]);if(!(We=null!=U&&ne(U,Te)))break;U=U[Te]}return We||++le!=de?We:!!(de=null==U?0:U.length)&&I(de)&&E(Te,de)&&(w(U)||g(U))}},function(m,x,d){var f=d(244),g=d(58),w=d(59);m.exports=function(E){return w(g(E,void 0,f),E+"")}},function(m,x,d){var f=d(245);m.exports=function(g){return null!=g&&g.length?f(g,1):[]}},function(m,x,d){var f=d(246),g=d(247);m.exports=function w(E,I,F,U,B){var ne=-1,le=E.length;for(F||(F=g),B||(B=[]);++ne<le;){var de=E[ne];I>0&&F(de)?I>1?w(de,I-1,F,U,B):f(B,de):U||(B[B.length]=de)}return B}},function(m,x){m.exports=function(d,f){for(var g=-1,w=f.length,E=d.length;++g<w;)d[E+g]=f[g];return d}},function(m,x,d){var f=d(27),g=d(30),w=d(14),E=f?f.isConcatSpreadable:void 0;m.exports=function(I){return w(I)||g(I)||!!(E&&I&&I[E])}},function(m,x){m.exports=function(d){return-1!==Function.toString.call(d).indexOf("[native code]")},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x,d){var f=d(41),g=d(250);function w(E,I,F){return g()?(m.exports=w=Reflect.construct,m.exports.default=m.exports,m.exports.__esModule=!0):(m.exports=w=function(U,B,ne){var le=[null];le.push.apply(le,B);var de=new(Function.bind.apply(U,le));return ne&&f(de,ne.prototype),de},m.exports.default=m.exports,m.exports.__esModule=!0),w.apply(null,arguments)}m.exports=w,m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){m.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}},m.exports.default=m.exports,m.exports.__esModule=!0},function(m,x){m.exports=function(d){return d[0]*d[3]-d[2]*d[1]}},function(m,x){m.exports=function(d,f){if(d===f){var g=f[1];d[1]=f[2],d[2]=g}else d[0]=f[0],d[1]=f[2],d[2]=f[1],d[3]=f[3];return d}},function(m,x){m.exports=function(d,f,g){var w=f[0],E=f[1],I=f[2],F=f[3],U=g[0],B=g[1],ne=g[2],le=g[3];return d[0]=w*U+I*B,d[1]=E*U+F*B,d[2]=w*ne+I*le,d[3]=E*ne+F*le,d}},function(m,x){m.exports=function(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=1,d}},function(m,x){m.exports=function(d,f){var g=f[0];return d[0]=f[3],d[1]=-f[1],d[2]=-f[2],d[3]=g,d}},function(m,x){m.exports=function(d,f,g){var w=f[0],E=f[1],I=f[2],F=f[3],U=Math.sin(g),B=Math.cos(g);return d[0]=w*B+I*U,d[1]=E*B+F*U,d[2]=w*-U+I*B,d[3]=E*-U+F*B,d}},function(m,x){m.exports=function(d,f){var g=f[0],w=f[1],E=f[2],I=f[3],F=g*I-E*w;return F?(d[0]=I*(F=1/F),d[1]=-w*F,d[2]=-E*F,d[3]=g*F,d):null}},function(m,x){m.exports=function(){var d=new Float32Array(4);return d[0]=1,d[1]=0,d[2]=0,d[3]=1,d}},function(m,x){m.exports=function(d,f,g){var E=f[1],I=f[2],F=f[3],U=g[0],B=g[1];return d[0]=f[0]*U,d[1]=E*U,d[2]=I*B,d[3]=F*B,d}},function(m,x){m.exports=function(d,f){return d[0]=f[0],d[1]=f[1],d[2]=f[2],d[3]=f[3],d}},function(m,x){m.exports=function(d){return Math.sqrt(Math.pow(d[0],2)+Math.pow(d[1],2)+Math.pow(d[2],2)+Math.pow(d[3],2))}},function(m,x){m.exports=function(d,f,g,w){return d[2]=w[2]/w[0],g[0]=w[0],g[1]=w[1],g[3]=w[3]-d[2]*g[1],[d,f,g]}},function(m,x,d){"use strict";d.r(x),d.d(x,"BarcodeDecoder",function(){return Pi}),d.d(x,"Readers",function(){return f}),d.d(x,"CameraAccess",function(){return pn}),d.d(x,"ImageDebug",function(){return de.a}),d.d(x,"ImageWrapper",function(){return F.a}),d.d(x,"ResultCollector",function(){return mh});var f={};d.r(f),d.d(f,"BarcodeReader",function(){return H}),d.d(f,"TwoOfFiveReader",function(){return hh}),d.d(f,"NewCodabarReader",function(){return Lw}),d.d(f,"Code128Reader",function(){return W}),d.d(f,"Code32Reader",function(){return dm}),d.d(f,"Code39Reader",function(){return bo}),d.d(f,"Code39VINReader",function(){return Nw}),d.d(f,"Code93Reader",function(){return cm}),d.d(f,"EAN2Reader",function(){return nm}),d.d(f,"EAN5Reader",function(){return Vw}),d.d(f,"EAN8Reader",function(){return tm}),d.d(f,"EANReader",function(){return qe}),d.d(f,"I2of5Reader",function(){return uh}),d.d(f,"UPCEReader",function(){return ch}),d.d(f,"UPCReader",function(){return em});var g=d(19),w=d.n(g),E=d(16),I=d.n(E),F=(d(152),d(10)),U={},B_UP=1,B_DOWN=-1;U.getBarcodeLine=function(S,P,C){var _,v,b,T,R,k=0|P.x,O=0|P.y,L=0|C.x,Y=0|C.y,K=Math.abs(Y-O)>Math.abs(L-k),Ee=[],Ge=S.data,He=S.size.x,it=255,Rt=0;function Xe(Ar,e0){it=(R=Ge[e0*He+Ar])<it?R:it,Rt=R>Rt?R:Rt,Ee.push(R)}K&&(b=k,k=O,O=b,b=L,L=Y,Y=b),k>L&&(b=k,k=L,L=b,b=O,O=Y,Y=b);var Kt=L-k,zn=Math.abs(Y-O);_=Kt/2|0,v=O;var Fi=O<Y?1:-1;for(T=k;T<L;T++)K?Xe(v,T):Xe(T,v),(_-=zn)<0&&(v+=Fi,_+=Kt);return{line:Ee,min:it,max:Rt}},U.toBinaryLine=function(S){var P,C,_,v,b,T,R=S.min,k=S.max,O=S.line,L=R+(k-R)/2,Y=[],K=(k-R)/12,Ee=-K;for(_=O[0]>L?B_UP:B_DOWN,Y.push({pos:0,val:O[0]}),b=0;b<O.length-2;b++)_!==(v=(P=O[b+1]-O[b])+(C=O[b+2]-O[b+1])<Ee&&O[b+1]<1.5*L?B_DOWN:P+C>K&&O[b+1]>.5*L?B_UP:_)&&(Y.push({pos:b,val:O[b]}),_=v);for(Y.push({pos:O.length,val:O[O.length-1]}),T=Y[0].pos;T<Y[1].pos;T++)O[T]=O[T]>L?0:1;for(b=1;b<Y.length-1;b++)for(K=Y[b+1].val>Y[b].val?Y[b].val+(Y[b+1].val-Y[b].val)/3*2|0:Y[b+1].val+(Y[b].val-Y[b+1].val)/3|0,T=Y[b].pos;T<Y[b+1].pos;T++)O[T]=O[T]>K?0:1;return{line:O,threshold:K}},U.debug={printFrequency:function(S,P){var C,_=P.getContext("2d");for(P.width=S.length,P.height=256,_.beginPath(),_.strokeStyle="blue",C=0;C<S.length;C++)_.moveTo(C,255),_.lineTo(C,255-S[C]);_.stroke(),_.closePath()},printPattern:function(S,P){var C,_=P.getContext("2d");for(P.width=S.length,_.fillColor="black",C=0;C<S.length;C++)1===S[C]&&_.fillRect(C,0,1,100)}};var ne,S,le=U,de=d(15),We=d(3),Te=d.n(We),Fe=d(4),Ce=d.n(Fe),ee=d(1),G=d.n(ee),re=d(6),ue=d.n(re),Se=d(5),be=d.n(Se),te=d(2),Z=d.n(te),ce=d(0),Q=d.n(ce),_e=d(8);(S=ne||(ne={}))[S.Forward=1]="Forward",S[S.Reverse=-1]="Reverse";var H=function(){function S(P,C){return Te()(this,S),Q()(this,"_row",[]),Q()(this,"config",{}),Q()(this,"supplements",[]),Q()(this,"SINGLE_CODE_ERROR",0),Q()(this,"FORMAT","unknown"),Q()(this,"CONFIG_KEYS",{}),this._row=[],this.config=P||{},C&&(this.supplements=C),this}return Ce()(S,[{key:"_nextUnset",value:function(P){for(var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_<P.length;_++)if(!P[_])return _;return P.length}},{key:"_matchPattern",value:function(P,C,_){var v,b=0,T=0,R=0,k=0,L=0;_=_||this.SINGLE_CODE_ERROR||1;for(var Y=0;Y<P.length;Y++)R+=P[Y],k+=C[Y];if(R<k)return Number.MAX_VALUE;_*=v=R/k;for(var K=0;K<P.length;K++){if(L=C[K]*v,(T=Math.abs(P[K]-L)/L)>_)return Number.MAX_VALUE;b+=T}return b/k}},{key:"_nextSet",value:function(P){for(var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_<P.length;_++)if(P[_])return _;return P.length}},{key:"_correctBars",value:function(P,C,_){for(var v=_.length,b=0;v--;)(b=P[_[v]]*(1-(1-C)/2))>1&&(P[_[v]]=b)}},{key:"decodePattern",value:function(P){this._row=P;var C=this.decode();return null===C?(this._row.reverse(),(C=this.decode())&&(C.direction=ne.Reverse,C.start=this._row.length-C.start,C.end=this._row.length-C.end)):C.direction=ne.Forward,C&&(C.format=this.FORMAT),C}},{key:"_matchRange",value:function(P,C,_){var v;for(v=P=P<0?0:P;v<C;v++)if(this._row[v]!==_)return!1;return!0}},{key:"_fillCounters",value:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,_=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],v=[],b=0;v[b]=0;for(var T=P;T<C;T++)this._row[T]^(_?1:0)?v[b]++:(v[++b]=1,_=!_);return v}},{key:"_toCounters",value:function(P,C){var _=C.length,v=this._row.length,b=!this._row[P],T=0;_e.a.init(C,0);for(var R=P;R<v;R++)if(this._row[R]^(b?1:0))C[T]++;else{if(++T===_)break;C[T]=1,b=!b}return C}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),S}();var W=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(){var _;Te()(this,C);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return _=P.call.apply(P,[this].concat(b)),Q()(G()(_),"CODE_SHIFT",98),Q()(G()(_),"CODE_C",99),Q()(G()(_),"CODE_B",100),Q()(G()(_),"CODE_A",101),Q()(G()(_),"START_CODE_A",103),Q()(G()(_),"START_CODE_B",104),Q()(G()(_),"START_CODE_C",105),Q()(G()(_),"STOP_CODE",106),Q()(G()(_),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),Q()(G()(_),"SINGLE_CODE_ERROR",.64),Q()(G()(_),"AVG_CODE_ERROR",.3),Q()(G()(_),"FORMAT","code_128"),Q()(G()(_),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),_}return Ce()(C,[{key:"_decodeCode",value:function(_,v){for(var b={error:Number.MAX_VALUE,code:-1,start:_,end:_,correction:{bar:1,space:1}},T=[0,0,0,0,0,0],k=!this._row[_],O=0,L=_;L<this._row.length;L++)if(this._row[L]^(k?1:0))T[O]++;else{if(O===T.length-1){v&&this._correct(T,v);for(var Y=0;Y<this.CODE_PATTERN.length;Y++){var K=this._matchPattern(T,this.CODE_PATTERN[Y]);K<b.error&&(b.code=Y,b.error=K)}return b.end=L,-1===b.code||b.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[b.code]&&(b.correction.bar=this.calculateCorrection(this.CODE_PATTERN[b.code],T,this.MODULE_INDICES.bar),b.correction.space=this.calculateCorrection(this.CODE_PATTERN[b.code],T,this.MODULE_INDICES.space)),b)}T[++O]=1,k=!k}return null}},{key:"_correct",value:function(_,v){this._correctBars(_,v.bar,this.MODULE_INDICES.bar),this._correctBars(_,v.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var _=[0,0,0,0,0,0],v=this._nextSet(this._row),b={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},T=!1,R=0,k=v;k<this._row.length;k++)if(this._row[k]^(T?1:0))_[R]++;else{if(R===_.length-1){for(var O=_.reduce(function(Ee,Ge){return Ee+Ge},0),L=this.START_CODE_A;L<=this.START_CODE_C;L++){var Y=this._matchPattern(_,this.CODE_PATTERN[L]);Y<b.error&&(b.code=L,b.error=Y)}if(b.error<this.AVG_CODE_ERROR)return b.start=k-O,b.end=k,b.correction.bar=this.calculateCorrection(this.CODE_PATTERN[b.code],_,this.MODULE_INDICES.bar),b.correction.space=this.calculateCorrection(this.CODE_PATTERN[b.code],_,this.MODULE_INDICES.space),b;for(var K=0;K<4;K++)_[K]=_[K+2];_[4]=0,_[5]=0,R--}else R++;_[R]=1,T=!T}return null}},{key:"decode",value:function(_,v){var b=this,T=this._findStart();if(null===T)return null;var R={code:T.code,start:T.start,end:T.end,correction:{bar:T.correction.bar,space:T.correction.space}},k=[];k.push(R);for(var O=R.code,L=function(Xe){switch(Xe){case b.START_CODE_A:return b.CODE_A;case b.START_CODE_B:return b.CODE_B;case b.START_CODE_C:return b.CODE_C;default:return null}}(R.code),Y=!1,K=!1,Ee=K,Ge=!0,He=0,it=[],Rt=[];!Y;){if(Ee=K,K=!1,null!==(R=this._decodeCode(R.end,R.correction)))switch(R.code!==this.STOP_CODE&&(Ge=!0),R.code!==this.STOP_CODE&&(it.push(R.code),O+=++He*R.code),k.push(R),L){case this.CODE_A:if(R.code<64)Rt.push(String.fromCharCode(32+R.code));else if(R.code<96)Rt.push(String.fromCharCode(R.code-64));else switch(R.code!==this.STOP_CODE&&(Ge=!1),R.code){case this.CODE_SHIFT:K=!0,L=this.CODE_B;break;case this.CODE_B:L=this.CODE_B;break;case this.CODE_C:L=this.CODE_C;break;case this.STOP_CODE:Y=!0}break;case this.CODE_B:if(R.code<96)Rt.push(String.fromCharCode(32+R.code));else switch(R.code!==this.STOP_CODE&&(Ge=!1),R.code){case this.CODE_SHIFT:K=!0,L=this.CODE_A;break;case this.CODE_A:L=this.CODE_A;break;case this.CODE_C:L=this.CODE_C;break;case this.STOP_CODE:Y=!0}break;case this.CODE_C:if(R.code<100)Rt.push(R.code<10?"0"+R.code:R.code);else switch(R.code!==this.STOP_CODE&&(Ge=!1),R.code){case this.CODE_A:L=this.CODE_A;break;case this.CODE_B:L=this.CODE_B;break;case this.STOP_CODE:Y=!0}}else Y=!0;Ee&&(L=L===this.CODE_A?this.CODE_B:this.CODE_A)}return null===R?null:(R.end=this._nextUnset(this._row,R.end),this._verifyTrailingWhitespace(R)?(O-=He*it[it.length-1])%103!==it[it.length-1]?null:Rt.length?(Ge&&Rt.splice(Rt.length-1,1),{code:Rt.join(""),start:T.start,end:R.end,codeset:L,startInfo:T,decodedCodes:k,endInfo:R,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(_){var v;return(v=_.end+(_.end-_.start)/2)<this._row.length&&this._matchRange(_.end,v,0)?_:null}},{key:"calculateCorrection",value:function(_,v,b){for(var T=b.length,R=0,k=0;T--;)k+=_[b[T]],R+=v[b[T]];return k/R}}]),C}(H);function se(S,P){var C=Object.keys(S);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(S);P&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(S,v).enumerable})),C.push.apply(C,_)}return C}function ie(S){for(var P=1;P<arguments.length;P++){var C=null!=arguments[P]?arguments[P]:{};P%2?se(Object(C),!0).forEach(function(_){Q()(S,_,C[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(C)):se(Object(C)).forEach(function(_){Object.defineProperty(S,_,Object.getOwnPropertyDescriptor(C,_))})}return S}var Le=[1,1,1],ve=[1,1,1,1,1],Qe=[1,1,2],Me=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],ke=[0,11,13,14,19,25,28,21,22,26],qe=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(_,v){var b;return Te()(this,C),b=P.call(this,I()({supplements:[]},_),v),Q()(G()(b),"FORMAT","ean_13"),Q()(G()(b),"SINGLE_CODE_ERROR",.7),Q()(G()(b),"STOP_PATTERN",[1,1,1]),b}return Ce()(C,[{key:"_findPattern",value:function(_,v,b,T){var R=new Array(_.length).fill(0),k={error:Number.MAX_VALUE,start:0,end:0},O=0;v||(v=this._nextSet(this._row));for(var L=!1,Y=v;Y<this._row.length;Y++)if(this._row[Y]^(b?1:0))R[O]+=1;else{if(O===R.length-1){var K=this._matchPattern(R,_);if(K<.48&&k.error&&K<k.error)return L=!0,k.error=K,k.start=Y-R.reduce(function(Ge,He){return Ge+He},0),k.end=Y,k;if(T){for(var Ee=0;Ee<R.length-2;Ee++)R[Ee]=R[Ee+2];R[R.length-2]=0,R[R.length-1]=0,O--}}else O++;R[O]=1,b=!b}return L?k:null}},{key:"_decodeCode",value:function(_,v){var b=[0,0,0,0],R={error:Number.MAX_VALUE,code:-1,start:_,end:_},k=!this._row[_],O=0;v||(v=Me.length);for(var L=_;L<this._row.length;L++)if(this._row[L]^(k?1:0))b[O]++;else{if(O===b.length-1){for(var Y=0;Y<v;Y++){var K=this._matchPattern(b,Me[Y]);R.end=L,K<R.error&&(R.code=Y,R.error=K)}return R.error>.48?null:R}b[++O]=1,k=!k}return null}},{key:"_findStart",value:function(){for(var _=this._nextSet(this._row),v=null;!v;){if(!(v=this._findPattern(Le,_,!1,!0)))return null;var b=v.start-(v.end-v.start);if(b>=0&&this._matchRange(b,v.start,0))return v;_=v.end,v=null}return null}},{key:"_calculateFirstDigit",value:function(_){for(var v=0;v<ke.length;v++)if(_===ke[v])return v;return null}},{key:"_decodePayload",value:function(_,v,b){for(var T=ie({},_),R=0,k=0;k<6;k++){if(!(T=this._decodeCode(T.end)))return null;T.code>=10?(T.code-=10,R|=1<<5-k):R|=0<<5-k,v.push(T.code),b.push(T)}var O=this._calculateFirstDigit(R);if(null===O)return null;v.unshift(O);var L=this._findPattern(ve,T.end,!0,!1);if(null===L||!L.end)return null;b.push(L);for(var Y=0;Y<6;Y++){if(!(L=this._decodeCode(L.end,10)))return null;b.push(L),v.push(L.code)}return L}},{key:"_verifyTrailingWhitespace",value:function(_){var v=_.end+(_.end-_.start);return v<this._row.length&&this._matchRange(_.end,v,0)?_:null}},{key:"_findEnd",value:function(_,v){var b=this._findPattern(this.STOP_PATTERN,_,v,!1);return null!==b?this._verifyTrailingWhitespace(b):null}},{key:"_checksum",value:function(_){for(var v=0,b=_.length-2;b>=0;b-=2)v+=_[b];v*=3;for(var T=_.length-1;T>=0;T-=2)v+=_[T];return v%10==0}},{key:"_decodeExtensions",value:function(_){var v=this._nextSet(this._row,_),b=this._findPattern(Qe,v,!1,!1);if(null===b)return null;for(var T=0;T<this.supplements.length;T++)try{var R=this.supplements[T].decode(this._row,b.end);if(null!==R)return{code:R.code,start:v,startInfo:b,end:R.end,decodedCodes:R.decodedCodes,format:this.supplements[T].FORMAT}}catch(k){console.error("* decodeExtensions error in ",this.supplements[T],": ",k)}return null}},{key:"decode",value:function(_,v){var b=new Array,T=new Array,R={},k=this._findStart();if(!k)return null;var O={start:k.start,end:k.end};if(T.push(O),!(O=this._decodePayload(O,b,T))||!(O=this._findEnd(O.end,!1))||(T.push(O),!this._checksum(b)))return null;if(this.supplements.length>0){var L=this._decodeExtensions(O.end);if(!L||!L.decodedCodes)return null;var Y=L.decodedCodes[L.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:Y.start+((Y.end-Y.start)/2|0),end:Y.end}))return null;R={supplement:L,code:b.join("")+L.code}}return ie(ie({code:b.join(""),start:k.start,end:O.end,startInfo:k,decodedCodes:T},R),{},{format:this.FORMAT})}}]),C}(H),Oe=d(33),Zn=d.n(Oe);var fn=new Uint16Array(Zn()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(S){return S.charCodeAt(0)})),Ir=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),bo=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(){var _;Te()(this,C);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return _=P.call.apply(P,[this].concat(b)),Q()(G()(_),"FORMAT","code_39"),_}return Ce()(C,[{key:"_findStart",value:function(){for(var _=this._nextSet(this._row),v=_,b=new Uint16Array([0,0,0,0,0,0,0,0,0]),T=0,R=!1,k=_;k<this._row.length;k++)if(this._row[k]^(R?1:0))b[T]++;else{if(T===b.length-1){if(148===this._toPattern(b)){var O=Math.floor(Math.max(0,v-(k-v)/4));if(this._matchRange(O,v,0))return{start:v,end:k}}v+=b[0]+b[1];for(var L=0;L<7;L++)b[L]=b[L+2];b[7]=0,b[8]=0,T--}else T++;b[T]=1,R=!R}return null}},{key:"_toPattern",value:function(_){for(var v=_.length,b=0,T=v,R=0;T>3;){b=this._findNextWidth(_,b),T=0;for(var k=0,O=0;O<v;O++)_[O]>b&&(k|=1<<v-1-O,T++,R+=_[O]);if(3===T){for(var L=0;L<v&&T>0;L++)if(_[L]>b&&(T--,2*_[L]>=R))return-1;return k}}return-1}},{key:"_findNextWidth",value:function(_,v){for(var b=Number.MAX_VALUE,T=0;T<_.length;T++)_[T]<b&&_[T]>v&&(b=_[T]);return b}},{key:"_patternToChar",value:function(_){for(var v=0;v<Ir.length;v++)if(Ir[v]===_)return String.fromCharCode(fn[v]);return null}},{key:"_verifyTrailingWhitespace",value:function(_,v,b){var T=_e.a.sum(b);return 3*(v-_-T)>=T}},{key:"decode",value:function(_,v){var b=new Uint16Array([0,0,0,0,0,0,0,0,0]),T=[];if(!(v=this._findStart()))return null;var R,k,O=this._nextSet(this._row,v.end);do{b=this._toCounters(O,b);var L=this._toPattern(b);if(L<0||null===(R=this._patternToChar(L)))return null;T.push(R),k=O,O+=_e.a.sum(b),O=this._nextSet(this._row,O)}while("*"!==R);return T.pop(),T.length&&this._verifyTrailingWhitespace(k,O,b)?{code:T.join(""),start:v.start,end:O,startInfo:v,decodedCodes:T,format:this.FORMAT}:null}}]),C}(H),IO=d(12),$c=d.n(IO);var xO=/[IOQ]/g,Xg=/[A-Z0-9]{17}/,Nw=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(){var _;Te()(this,C);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return _=P.call.apply(P,[this].concat(b)),Q()(G()(_),"FORMAT","code_39_vin"),_}return Ce()(C,[{key:"_checkChecksum",value:function(_){return!!_}},{key:"decode",value:function(_,v){var b=$c()(Z()(C.prototype),"decode",this).call(this,_,v);if(!b)return null;var T=b.code;return T&&(T=T.replace(xO,"")).match(Xg)&&this._checkChecksum(T)?(b.code=T,b):null}}]),C}(bo);var ah=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Jg=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],Fw=[26,41,11,14],Lw=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(){var _;Te()(this,C);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return _=P.call.apply(P,[this].concat(b)),Q()(G()(_),"_counters",[]),Q()(G()(_),"FORMAT","codabar"),_}return Ce()(C,[{key:"_computeAlternatingThreshold",value:function(_,v){for(var b=Number.MAX_VALUE,T=0,R=0,k=_;k<v;k+=2)(R=this._counters[k])>T&&(T=R),R<b&&(b=R);return(b+T)/2|0}},{key:"_toPattern",value:function(_){var v=_+7;if(v>this._counters.length)return-1;for(var b=this._computeAlternatingThreshold(_,v),T=this._computeAlternatingThreshold(_+1,v),R=64,O=0,L=0;L<7;L++)this._counters[_+L]>(0==(1&L)?b:T)&&(O|=R),R>>=1;return O}},{key:"_isStartEnd",value:function(_){for(var v=0;v<Fw.length;v++)if(Fw[v]===_)return!0;return!1}},{key:"_sumCounters",value:function(_,v){for(var b=0,T=_;T<v;T++)b+=this._counters[T];return b}},{key:"_findStart",value:function(){for(var _=this._nextUnset(this._row),v=1;v<this._counters.length;v++){var b=this._toPattern(v);if(-1!==b&&this._isStartEnd(b))return{start:_+=this._sumCounters(0,v),end:_+this._sumCounters(v,v+8),startCounter:v,endCounter:v+8}}return null}},{key:"_patternToChar",value:function(_){for(var v=0;v<Jg.length;v++)if(Jg[v]===_)return String.fromCharCode(ah[v]);return null}},{key:"_calculatePatternLength",value:function(_){for(var v=0,b=_;b<_+7;b++)v+=this._counters[b];return v}},{key:"_verifyWhitespace",value:function(_,v){return(_-1<=0||this._counters[_-1]>=this._calculatePatternLength(_)/2)&&(v+8>=this._counters.length||this._counters[v+7]>=this._calculatePatternLength(v)/2)}},{key:"_charToPattern",value:function(_){for(var v=_.charCodeAt(0),b=0;b<ah.length;b++)if(ah[b]===v)return Jg[b];return 0}},{key:"_thresholdResultPattern",value:function(_,v){for(var b,T={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},R=v,k=0;k<_.length;k++){b=this._charToPattern(_[k]);for(var O=6;O>=0;O--){var L=2==(1&O)?T.bar:T.space,Y=1==(1&b)?L.wide:L.narrow;Y.size+=this._counters[R+O],Y.counts++,b>>=1}R+=8}return["space","bar"].forEach(function(K){var Ee=T[K];Ee.wide.min=Math.floor((Ee.narrow.size/Ee.narrow.counts+Ee.wide.size/Ee.wide.counts)/2),Ee.narrow.max=Math.ceil(Ee.wide.min),Ee.wide.max=Math.ceil((2*Ee.wide.size+1.5)/Ee.wide.counts)}),T}},{key:"_validateResult",value:function(_,v){for(var b,T=this._thresholdResultPattern(_,v),R=v,k=0;k<_.length;k++){b=this._charToPattern(_[k]);for(var O=6;O>=0;O--){var L=0==(1&O)?T.bar:T.space,Y=1==(1&b)?L.wide:L.narrow,K=this._counters[R+O];if(K<Y.min||K>Y.max)return!1;b>>=1}R+=8}return!0}},{key:"decode",value:function(_,v){if(this._counters=this._fillCounters(),!(v=this._findStart()))return null;var b,T=v.startCounter,R=[];do{if((b=this._toPattern(T))<0)return null;var k=this._patternToChar(b);if(null===k)return null;if(R.push(k),T+=8,R.length>1&&this._isStartEnd(b))break}while(T<this._counters.length);if(R.length-2<4||!this._isStartEnd(b)||!this._verifyWhitespace(v.startCounter,T-8)||!this._validateResult(R,v.startCounter))return null;var O=v.start+this._sumCounters(v.startCounter,(T=T>this._counters.length?this._counters.length:T)-8);return{code:R.join(""),start:v.start,end:O,startInfo:v,decodedCodes:R,format:this.FORMAT}}}]),C}(H);var em=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(){var _;Te()(this,C);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return _=P.call.apply(P,[this].concat(b)),Q()(G()(_),"FORMAT","upc_a"),_}return Ce()(C,[{key:"decode",value:function(_,v){var b=qe.prototype.decode.call(this);return b&&b.code&&13===b.code.length&&"0"===b.code.charAt(0)?(b.code=b.code.substring(1),b):null}}]),C}(qe);var tm=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(){var _;Te()(this,C);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return _=P.call.apply(P,[this].concat(b)),Q()(G()(_),"FORMAT","ean_8"),_}return Ce()(C,[{key:"_decodePayload",value:function(_,v,b){for(var T=_,R=0;R<4;R++){if(!(T=this._decodeCode(T.end,10)))return null;v.push(T.code),b.push(T)}if(null===(T=this._findPattern(ve,T.end,!0,!1)))return null;b.push(T);for(var k=0;k<4;k++){if(!(T=this._decodeCode(T.end,10)))return null;b.push(T),v.push(T.code)}return T}}]),C}(qe);var nm=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(){var _;Te()(this,C);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return _=P.call.apply(P,[this].concat(b)),Q()(G()(_),"FORMAT","ean_2"),_}return Ce()(C,[{key:"decode",value:function(_,v){_&&(this._row=_);var b=0,T=v,R=this._row.length,k=[],O=[],L=null;if(void 0===T)return null;for(var Y=0;Y<2&&T<R;Y++){if(!(L=this._decodeCode(T)))return null;O.push(L),k.push(L.code%10),L.code>=10&&(b|=1<<1-Y),1!==Y&&(T=this._nextSet(this._row,L.end),T=this._nextUnset(this._row,T))}if(2!==k.length||parseInt(k.join(""))%4!==b)return null;var K=this._findStart();return{code:k.join(""),decodedCodes:O,end:L.end,format:this.FORMAT,startInfo:K,start:K.start}}}]),C}(qe);var kO=[24,20,18,17,12,6,3,10,9,5],Vw=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(){var _;Te()(this,C);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return _=P.call.apply(P,[this].concat(b)),Q()(G()(_),"FORMAT","ean_5"),_}return Ce()(C,[{key:"decode",value:function(_,v){if(void 0===v)return null;_&&(this._row=_);for(var b=0,T=v,R=this._row.length,k=null,O=[],L=[],Y=0;Y<5&&T<R;Y++){if(!(k=this._decodeCode(T)))return null;L.push(k),O.push(k.code%10),k.code>=10&&(b|=1<<4-Y),4!==Y&&(T=this._nextSet(this._row,k.end),T=this._nextUnset(this._row,T))}if(5!==O.length||function(Ee){for(var Ge=Ee.length,He=0,it=Ge-2;it>=0;it-=2)He+=Ee[it];He*=3;for(var Rt=Ge-1;Rt>=0;Rt-=2)He+=Ee[Rt];return(He*=3)%10}(O)!==function(Ee){for(var Ge=0;Ge<10;Ge++)if(Ee===kO[Ge])return Ge;return null}(b))return null;var K=this._findStart();return{code:O.join(""),decodedCodes:L,end:k.end,format:this.FORMAT,startInfo:K,start:K.start}}}]),C}(qe);function Bw(S,P){var C=Object.keys(S);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(S);P&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(S,v).enumerable})),C.push.apply(C,_)}return C}var ch=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(){var _;Te()(this,C);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return _=P.call.apply(P,[this].concat(b)),Q()(G()(_),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),Q()(G()(_),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),Q()(G()(_),"FORMAT","upc_e"),_}return Ce()(C,[{key:"_decodePayload",value:function(_,v,b){for(var T=function(O){for(var L=1;L<arguments.length;L++){var Y=null!=arguments[L]?arguments[L]:{};L%2?Bw(Object(Y),!0).forEach(function(K){Q()(O,K,Y[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(Y)):Bw(Object(Y)).forEach(function(K){Object.defineProperty(O,K,Object.getOwnPropertyDescriptor(Y,K))})}return O}({},_),R=0,k=0;k<6;k++){if(!(T=this._decodeCode(T.end)))return null;T.code>=10&&(T.code=T.code-10,R|=1<<5-k),v.push(T.code),b.push(T)}return this._determineParity(R,v)?T:null}},{key:"_determineParity",value:function(_,v){for(var b=0;b<this.CODE_FREQUENCY.length;b++)for(var T=0;T<this.CODE_FREQUENCY[b].length;T++)if(_===this.CODE_FREQUENCY[b][T])return v.unshift(b),v.push(T),!0;return!1}},{key:"_convertToUPCA",value:function(_){var v=[_[0]],b=_[_.length-2];return(v=b<=2?v.concat(_.slice(1,3)).concat([b,0,0,0,0]).concat(_.slice(3,6)):3===b?v.concat(_.slice(1,4)).concat([0,0,0,0,0]).concat(_.slice(4,6)):4===b?v.concat(_.slice(1,5)).concat([0,0,0,0,0,_[5]]):v.concat(_.slice(1,6)).concat([0,0,0,0,b])).push(_[_.length-1]),v}},{key:"_checksum",value:function(_){return $c()(Z()(C.prototype),"_checksum",this).call(this,this._convertToUPCA(_))}},{key:"_findEnd",value:function(_,v){return $c()(Z()(C.prototype),"_findEnd",this).call(this,_,!0)}},{key:"_verifyTrailingWhitespace",value:function(_){var v=_.end+(_.end-_.start)/2;return v<this._row.length&&this._matchRange(_.end,v,0)?_:null}}]),C}(qe);var uh=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(_){var v;return Te()(this,C),v=P.call(this,I()({normalizeBarSpaceWidth:!1},_)),Q()(G()(v),"barSpaceRatio",[1,1]),Q()(G()(v),"SINGLE_CODE_ERROR",.78),Q()(G()(v),"AVG_CODE_ERROR",.38),Q()(G()(v),"START_PATTERN",[1,1,1,1]),Q()(G()(v),"STOP_PATTERN",[1,1,3]),Q()(G()(v),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),Q()(G()(v),"MAX_CORRECTION_FACTOR",5),Q()(G()(v),"FORMAT","i2of5"),_.normalizeBarSpaceWidth&&(v.SINGLE_CODE_ERROR=.38,v.AVG_CODE_ERROR=.09),v.config=_,be()(v,G()(v))}return Ce()(C,[{key:"_matchPattern",value:function(_,v){if(this.config.normalizeBarSpaceWidth){for(var b=[0,0],T=[0,0],R=[0,0],k=this.MAX_CORRECTION_FACTOR,O=1/k,L=0;L<_.length;L++)b[L%2]+=_[L],T[L%2]+=v[L];R[0]=T[0]/b[0],R[1]=T[1]/b[1],R[0]=Math.max(Math.min(R[0],k),O),R[1]=Math.max(Math.min(R[1],k),O),this.barSpaceRatio=R;for(var Y=0;Y<_.length;Y++)_[Y]*=this.barSpaceRatio[Y%2]}return $c()(Z()(C.prototype),"_matchPattern",this).call(this,_,v)}},{key:"_findPattern",value:function(_,v){var b=arguments.length>2&&void 0!==arguments[2]&&arguments[2],T=arguments.length>3&&void 0!==arguments[3]&&arguments[3],R=new Array(_.length).fill(0),k=0,O={error:Number.MAX_VALUE,start:0,end:0},L=this.AVG_CODE_ERROR;b=b||!1,T=T||!1,v||(v=this._nextSet(this._row));for(var Y=v;Y<this._row.length;Y++)if(this._row[Y]^(b?1:0))R[k]++;else{if(k===R.length-1){var K=R.reduce(function(He,it){return He+it},0),Ee=this._matchPattern(R,_);if(Ee<L)return O.error=Ee,O.start=Y-K,O.end=Y,O;if(!T)return null;for(var Ge=0;Ge<R.length-2;Ge++)R[Ge]=R[Ge+2];R[R.length-2]=0,R[R.length-1]=0,k--}else k++;R[k]=1,b=!b}return null}},{key:"_findStart",value:function(){for(var _=0,v=this._nextSet(this._row),b=null,T=1;!b;){if(!(b=this._findPattern(this.START_PATTERN,v,!1,!0)))return null;if(T=Math.floor((b.end-b.start)/4),(_=b.start-10*T)>=0&&this._matchRange(_,b.start,0))return b;v=b.end,b=null}return null}},{key:"_verifyTrailingWhitespace",value:function(_){var v=_.end+(_.end-_.start)/2;return v<this._row.length&&this._matchRange(_.end,v,0)?_:null}},{key:"_findEnd",value:function(){this._row.reverse();var _=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===_)return null;var v=_.start;return _.start=this._row.length-_.end,_.end=this._row.length-v,null!==_?this._verifyTrailingWhitespace(_):null}},{key:"_decodePair",value:function(_){for(var v=[],b=0;b<_.length;b++){var T=this._decodeCode(_[b]);if(!T)return null;v.push(T)}return v}},{key:"_decodeCode",value:function(_){for(var v=this.AVG_CODE_ERROR,b={error:Number.MAX_VALUE,code:-1,start:0,end:0},T=0;T<this.CODE_PATTERN.length;T++){var R=this._matchPattern(_,this.CODE_PATTERN[T]);R<b.error&&(b.code=T,b.error=R)}return b.error<v?b:null}},{key:"_decodePayload",value:function(_,v,b){for(var T=0,R=_.length,k=[[0,0,0,0,0],[0,0,0,0,0]],O=null;T<R;){for(var L=0;L<5;L++)k[0][L]=_[T]*this.barSpaceRatio[0],k[1][L]=_[T+1]*this.barSpaceRatio[1],T+=2;if(!(O=this._decodePair(k)))return null;for(var Y=0;Y<O.length;Y++)v.push(O[Y].code+""),b.push(O[Y])}return O}},{key:"_verifyCounterLength",value:function(_){return _.length%10==0}},{key:"decode",value:function(_,v){var b=new Array,T=new Array,R=this._findStart();if(!R)return null;T.push(R);var k=this._findEnd();if(!k)return null;var O=this._fillCounters(R.end,k.start,!1);return this._verifyCounterLength(O)&&this._decodePayload(O,b,T)?b.length%2!=0||b.length<6?null:(T.push(k),{code:b.join(""),start:R.start,end:k.end,startInfo:R,decodedCodes:T,format:this.FORMAT}):null}}]),C}(H);var sm=[3,1,3,1,1,1],om=[3,1,1,1,3],dh=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],am=sm.reduce(function(S,P){return S+P},0),hh=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(){var _;Te()(this,C);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return _=P.call.apply(P,[this].concat(b)),Q()(G()(_),"barSpaceRatio",[1,1]),Q()(G()(_),"FORMAT","2of5"),Q()(G()(_),"SINGLE_CODE_ERROR",.78),Q()(G()(_),"AVG_CODE_ERROR",.3),_}return Ce()(C,[{key:"_findPattern",value:function(_,v){var b=arguments.length>2&&void 0!==arguments[2]&&arguments[2],T=arguments.length>3&&void 0!==arguments[3]&&arguments[3],R=[],k=0,O={error:Number.MAX_VALUE,code:-1,start:0,end:0},L=0,Y=0,K=this.AVG_CODE_ERROR;v||(v=this._nextSet(this._row));for(var Ee=0;Ee<_.length;Ee++)R[Ee]=0;for(var Ge=v;Ge<this._row.length;Ge++)if(this._row[Ge]^(b?1:0))R[k]++;else{if(k===R.length-1){L=0;for(var He=0;He<R.length;He++)L+=R[He];if((Y=this._matchPattern(R,_))<K)return O.error=Y,O.start=Ge-L,O.end=Ge,O;if(!T)return null;for(var it=0;it<R.length-2;it++)R[it]=R[it+2];R[R.length-2]=0,R[R.length-1]=0,k--}else k++;R[k]=1,b=!b}return null}},{key:"_findStart",value:function(){for(var _=null,v=this._nextSet(this._row),b=1,T=0;!_;){if(!(_=this._findPattern(sm,v,!1,!0)))return null;if(b=Math.floor((_.end-_.start)/am),(T=_.start-5*b)>=0&&this._matchRange(T,_.start,0))return _;v=_.end,_=null}return _}},{key:"_verifyTrailingWhitespace",value:function(_){var v=_.end+(_.end-_.start)/2;return v<this._row.length&&this._matchRange(_.end,v,0)?_:null}},{key:"_findEnd",value:function(){this._row.reverse();var _=this._nextSet(this._row),v=this._findPattern(om,_,!1,!0);if(this._row.reverse(),null===v)return null;var b=v.start;return v.start=this._row.length-v.end,v.end=this._row.length-b,null!==v?this._verifyTrailingWhitespace(v):null}},{key:"_verifyCounterLength",value:function(_){return _.length%10==0}},{key:"_decodeCode",value:function(_){for(var v=this.AVG_CODE_ERROR,b={error:Number.MAX_VALUE,code:-1,start:0,end:0},T=0;T<dh.length;T++){var R=this._matchPattern(_,dh[T]);R<b.error&&(b.code=T,b.error=R)}return b.error<v?b:null}},{key:"_decodePayload",value:function(_,v,b){for(var T=0,R=_.length,k=[0,0,0,0,0],O=null;T<R;){for(var L=0;L<5;L++)k[L]=_[T]*this.barSpaceRatio[0],T+=2;if(!(O=this._decodeCode(k)))return null;v.push("".concat(O.code)),b.push(O)}return O}},{key:"decode",value:function(_,v){var b=this._findStart();if(!b)return null;var T=this._findEnd();if(!T)return null;var R=this._fillCounters(b.end,T.start,!1);if(!this._verifyCounterLength(R))return null;var k=[];k.push(b);var O=[];return this._decodePayload(R,O,k)?O.length<5?null:(k.push(T),{code:O.join(""),start:b.start,end:T.end,startInfo:b,decodedCodes:k,format:this.FORMAT}):null}}]),C}(H);var fh=new Uint16Array(Zn()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(S){return S.charCodeAt(0)})),lm=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),cm=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(){var _;Te()(this,C);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return _=P.call.apply(P,[this].concat(b)),Q()(G()(_),"FORMAT","code_93"),_}return Ce()(C,[{key:"_patternToChar",value:function(_){for(var v=0;v<lm.length;v++)if(lm[v]===_)return String.fromCharCode(fh[v]);return null}},{key:"_toPattern",value:function(_){for(var v=_.length,b=_.reduce(function(L,Y){return L+Y},0),T=0,R=0;R<v;R++){var k=Math.round(9*_[R]/b);if(k<1||k>4)return-1;if(0==(1&R))for(var O=0;O<k;O++)T=T<<1|1;else T<<=k}return T}},{key:"_findStart",value:function(){for(var _=this._nextSet(this._row),v=_,b=new Uint16Array([0,0,0,0,0,0]),T=0,R=!1,k=_;k<this._row.length;k++)if(this._row[k]^(R?1:0))b[T]++;else{if(T===b.length-1){if(350===this._toPattern(b)){var O=Math.floor(Math.max(0,v-(k-v)/4));if(this._matchRange(O,v,0))return{start:v,end:k}}v+=b[0]+b[1];for(var L=0;L<4;L++)b[L]=b[L+2];b[4]=0,b[5]=0,T--}else T++;b[T]=1,R=!R}return null}},{key:"_verifyEnd",value:function(_,v){return!(_===v||!this._row[v])}},{key:"_decodeExtended",value:function(_){for(var v=_.length,b=[],T=0;T<v;T++){var R=_[T];if(R>="a"&&R<="d"){if(T>v-2)return null;var k=_[++T],O=k.charCodeAt(0),L=void 0;switch(R){case"a":if(!(k>="A"&&k<="Z"))return null;L=String.fromCharCode(O-64);break;case"b":if(k>="A"&&k<="E")L=String.fromCharCode(O-38);else if(k>="F"&&k<="J")L=String.fromCharCode(O-11);else if(k>="K"&&k<="O")L=String.fromCharCode(O+16);else if(k>="P"&&k<="S")L=String.fromCharCode(O+43);else{if(!(k>="T"&&k<="Z"))return null;L=String.fromCharCode(127)}break;case"c":if(k>="A"&&k<="O")L=String.fromCharCode(O-32);else{if("Z"!==k)return null;L=":"}break;case"d":if(!(k>="A"&&k<="Z"))return null;L=String.fromCharCode(O+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",L),null}b.push(L)}else b.push(R)}return b}},{key:"_matchCheckChar",value:function(_,v,b){var T=_.slice(0,v),R=T.length,k=T.reduce(function(O,L,Y){return O+((-1*Y+(R-1))%b+1)*fh.indexOf(L.charCodeAt(0))},0);return fh[k%47]===_[v].charCodeAt(0)}},{key:"_verifyChecksums",value:function(_){return this._matchCheckChar(_,_.length-2,20)&&this._matchCheckChar(_,_.length-1,15)}},{key:"decode",value:function(_,v){if(!(v=this._findStart()))return null;var b,T,R=new Uint16Array([0,0,0,0,0,0]),k=[],O=this._nextSet(this._row,v.end);do{R=this._toCounters(O,R);var L=this._toPattern(R);if(L<0||null===(T=this._patternToChar(L)))return null;k.push(T),b=O,O+=_e.a.sum(R),O=this._nextSet(this._row,O)}while("*"!==T);return k.pop(),k.length&&this._verifyEnd(b,O)&&this._verifyChecksums(k)?(k=k.slice(0,k.length-2),null===(k=this._decodeExtended(k))?null:{code:k.join(""),start:v.start,end:O,startInfo:v,decodedCodes:k,format:this.FORMAT}):null}}]),C}(H);var um=/[AEIO]/g,dm=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(){var _;Te()(this,C);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return _=P.call.apply(P,[this].concat(b)),Q()(G()(_),"FORMAT","code_32_reader"),_}return Ce()(C,[{key:"_decodeCode32",value:function(_){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(_))return null;for(var v=0,b=0;b<_.length;b++)v=32*v+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(_[b]);var T=""+v;return T.length<9&&(T=("000000000"+T).slice(-9)),"A"+T}},{key:"_checkChecksum",value:function(_){return!!_}},{key:"decode",value:function(_,v){var b=$c()(Z()(C.prototype),"decode",this).call(this,_,v);if(!b)return null;var T=b.code;if(!T||(T=T.replace(um,""),!this._checkChecksum(T)))return null;var R=this._decodeCode32(T);return R?(b.code=R,b):null}}]),C}(bo),hl={code_128_reader:W,ean_reader:qe,ean_5_reader:Vw,ean_2_reader:nm,ean_8_reader:tm,code_39_reader:bo,code_39_vin_reader:Nw,codabar_reader:Lw,upc_reader:em,upc_e_reader:ch,i2of5_reader:uh,"2of5_reader":hh,code_93_reader:cm,code_32_reader:dm},Pi={registerReader:function(S,P){hl[S]=P},create:function(S,P){var _=[];function v(){S.readers.forEach(function(R){var k,O={},L=[];"object"===w()(R)?(k=R.format,O=R.config):"string"==typeof R&&(k=R),O.supplements&&(L=O.supplements.map(function(K){return new hl[K]}));try{var Y=new hl[k](O,L);_.push(Y)}catch(K){throw console.error("* Error constructing reader ",k,K),K}})}function b(R){var k,O=null,L=le.getBarcodeLine(P,R[0],R[1]);for(le.toBinaryLine(L),k=0;k<_.length&&null===O;k++)O=_[k].decodePattern(L.line);return null===O?null:{codeResult:O,barcodeLine:L}}function T(R){var k,O,K,L=function(K){return Math.sqrt(Math.pow(Math.abs(K[1].y-K[0].y),2)+Math.pow(Math.abs(K[1].x-K[0].x),2))}(k=[{x:((K=R)[1][0]-K[0][0])/2+K[0][0],y:(K[1][1]-K[0][1])/2+K[0][1]},{x:(K[3][0]-K[2][0])/2+K[2][0],y:(K[3][1]-K[2][1])/2+K[2][1]}]),Y=Math.atan2(k[1].y-k[0].y,k[1].x-k[0].x);return null===(k=function(K,Ee,Ge){function He(it){var Rt=it*Math.sin(Ee),Xe=it*Math.cos(Ee);K[0].y-=Rt,K[0].x-=Xe,K[1].y+=Rt,K[1].x+=Xe}for(He(Ge);Ge>1&&(!P.inImageWithBorder(K[0])||!P.inImageWithBorder(K[1]));)He(-(Ge-=Math.ceil(Ge/2)));return K}(k,Y,Math.floor(.1*L)))?null:(null===(O=b(k))&&(O=function(K,Ee,Ge){var He,it,Rt,Xe=Math.sqrt(Math.pow(K[1][0]-K[0][0],2)+Math.pow(K[1][1]-K[0][1],2)),Kt=null,zn=Math.sin(Ge),Fi=Math.cos(Ge);for(He=1;He<16&&null===Kt;He++)Rt={y:(it=Xe/16*He*(He%2==0?-1:1))*zn,x:it*Fi},Ee[0].y+=Rt.x,Ee[0].x-=Rt.y,Ee[1].y+=Rt.x,Ee[1].x-=Rt.y,Kt=b(Ee);return Kt}(R,k,Y)),null===O?null:{codeResult:O.codeResult,line:k,angle:Y,pattern:O.barcodeLine.line,threshold:O.barcodeLine.threshold})}return v(),{decodeFromBoundingBox:function(R){return T(R)},decodeFromBoundingBoxes:function(R){var k,O,L=[],Y=S.multiple;for(k=0;k<R.length;k++){var K=R[k];if((O=T(K)||{}).box=K,Y)L.push(O);else if(O.codeResult)return O}if(Y)return{barcodes:L}},decodeFromImage:function(R){return function(k){for(var O=null,L=0;L<_.length&&null===O;L++)O=_[L].decodeImage?_[L].decodeImage(k):null;return O}(R)},registerReader:function(R,k){if(hl[R])throw new Error("cannot register existing reader",R);hl[R]=k},setReaders:function(R){S.readers=R,_.length=0,v()}}}},Co=function(){var S={};function P(v){return S[v]||(S[v]={subscribers:[]}),S[v]}function C(v,b){v.async?setTimeout(function(){v.callback(b)},4):v.callback(b)}function _(v,b,T){var R;if("function"==typeof b)R={callback:b,async:T};else if(!(R=b).callback)throw new Error("Callback was not specified on options");P(v).subscribers.push(R)}return{subscribe:function(v,b,T){return _(v,b,T)},publish:function(v,b){var T=P(v),R=T.subscribers;R.filter(function(k){return!!k.once}).forEach(function(k){C(k,b)}),T.subscribers=R.filter(function(k){return!k.once}),T.subscribers.forEach(function(k){C(k,b)})},once:function(v,b){_(v,{callback:b,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(v,b){if(v){var T=P(v);T.subscribers=T&&b?T.subscribers.filter(function(R){return R.callback!==b}):[]}else S={}}}}(),xn=d(20),Bs=d.n(xn),Ni=d(11),Eo=d.n(Ni),jw=d(85),hm=d.n(jw),ph=d(86);var ts,gh=function(S){ue()(C,S);var P=function(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(C){return!1}}();return function(){var C,_=Z()(S);if(P){var v=Z()(this).constructor;C=Reflect.construct(_,arguments,v)}else C=_.apply(this,arguments);return be()(this,C)}}(C);function C(_,v){var b;return Te()(this,C),b=P.call(this,_),Q()(G()(b),"code",void 0),b.code=v,Object.setPrototypeOf(G()(b),C.prototype),b}return C}(d.n(ph)()(Error)),fl="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function zc(){try{return navigator.mediaDevices.enumerateDevices()}catch(P){var S=new gh("enumerateDevices is not defined. ".concat(fl),-1);return Promise.reject(S)}}function Hw(S){try{return navigator.mediaDevices.getUserMedia(S)}catch(C){var P=new gh("getUserMedia is not defined. ".concat(fl),-1);return Promise.reject(P)}}function $w(S){return new Promise(function(P,C){var _=10;!function v(){_>0?S.videoWidth>10&&S.videoHeight>10?P():window.setTimeout(v,500):C(new gh("Unable to play video stream. Is webcam working?",-1)),_--}()})}function zw(S,P){return pm.apply(this,arguments)}function pm(){return(pm=Bs()(Eo.a.mark(function S(P,C){var _;return Eo.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Hw(C);case 2:if(ts=_=v.sent,!P){v.next=11;break}return P.setAttribute("autoplay","true"),P.setAttribute("muted","true"),P.setAttribute("playsinline","true"),P.srcObject=_,P.addEventListener("loadedmetadata",function(){P.play()}),v.abrupt("return",$w(P));case 11:return v.abrupt("return",Promise.resolve());case 12:case"end":return v.stop()}},S)}))).apply(this,arguments)}function gm(S){var P=hm()(S,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==S.minAspectRatio&&S.minAspectRatio>0&&(P.aspectRatio=S.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==S.facing&&(P.facingMode=S.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),P}function Gw(){var P=gm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return P&&P.deviceId&&P.facingMode&&delete P.facingMode,Promise.resolve({audio:!1,video:P})}function mm(){return(mm=Bs()(Eo.a.mark(function S(){return Eo.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,zc();case 2:return C.abrupt("return",C.sent.filter(function(_){return"videoinput"===_.kind}));case 4:case"end":return C.stop()}},S)}))).apply(this,arguments)}function bn(){if(!ts)return null;var S=ts.getVideoTracks();return S&&null!=S&&S.length?S[0]:null}var Hr={requestedVideoElement:null,request:function(S,P){return Bs()(Eo.a.mark(function C(){return Eo.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return Hr.requestedVideoElement=S,v.next=3,Gw(P);case 3:return v.abrupt("return",zw(S,v.sent));case 5:case"end":return v.stop()}},C)}))()},release:function(){var S=ts&&ts.getVideoTracks();return null!==Hr.requestedVideoElement&&Hr.requestedVideoElement.pause(),new Promise(function(P){setTimeout(function(){S&&S.length&&S[0].stop(),ts=null,Hr.requestedVideoElement=null,P()},0)})},enumerateVideoDevices:function(){return mm.apply(this,arguments)},getActiveStreamLabel:function(){var S=bn();return S?S.label:""},getActiveTrack:bn},pn=Hr,mh={create:function(S){var P,C=document.createElement("canvas"),_=C.getContext("2d"),v=[],b=null!==(P=S.capacity)&&void 0!==P?P:20,T=!0===S.capture;return{addResult:function(k,O,L){var Y={};(function(k){return!!b&&k&&(O=k,!((L=S.blacklist)&&L.some(function(Y){return Object.keys(Y).every(function(K){return Y[K]===O[K]})})))&&function(O,L){return"function"!=typeof L||L(O)}(k,S.filter);var O,L})(L)&&(b--,Y.codeResult=L,T&&(C.width=O.x,C.height=O.y,de.a.drawImage(k,O,_),Y.frame=C.toDataURL()),v.push(Y))},getResults:function(){return v}}}},_h={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Nt=d(7),yh=function S(){Te()(this,S),Q()(this,"config",void 0),Q()(this,"inputStream",void 0),Q()(this,"framegrabber",void 0),Q()(this,"inputImageWrapper",void 0),Q()(this,"stopped",!1),Q()(this,"boxSize",void 0),Q()(this,"resultCollector",void 0),Q()(this,"decoder",void 0),Q()(this,"workerPool",[]),Q()(this,"onUIThread",!0),Q()(this,"canvasContainer",new vh)},Mt=function S(){Te()(this,S),Q()(this,"image",void 0),Q()(this,"overlay",void 0)},vh=function S(){Te()(this,S),Q()(this,"ctx",void 0),Q()(this,"dom",void 0),this.ctx=new Mt,this.dom=new Mt},bh=d(23);function qt(S){return"undefined"==typeof document?null:S instanceof HTMLElement&&S.nodeName&&1===S.nodeType?S:document.querySelector("string"==typeof S?S:"#interactive.viewport")}function dt(S,P){var b,T,C=(b=P,(T=document.querySelector(S))||((T=document.createElement("canvas")).className=b),T),_=C.getContext("2d");return{canvas:C,context:_}}var wh={274:"orientation"},$r=Object.keys(wh).map(function(S){return wh[S]});function OO(S){return new Promise(function(P){var C=new FileReader;C.onload=function(_){return P(_.target.result)},C.readAsArrayBuffer(S)})}function Ch(S){return new Promise(function(P,C){var _=new XMLHttpRequest;_.open("GET",S,!0),_.responseType="blob",_.onreadystatechange=function(){_.readyState!==XMLHttpRequest.DONE||200!==_.status&&0!==_.status||P(this.response)},_.onerror=C,_.send()})}function st(S){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$r,C=new DataView(S),_=S.byteLength,v=P.reduce(function(T,R){var k=Object.keys(wh).filter(function(O){return wh[O]===R})[0];return k&&(T[k]=R),T},{}),b=2;if(255!==C.getUint8(0)||216!==C.getUint8(1))return!1;for(;b<_;){if(255!==C.getUint8(b))return!1;if(225===C.getUint8(b+1))return xr(C,b+4,v);b+=2+C.getUint16(b+2)}return!1}function xr(S,P,C){if("Exif"!==function(T,R,k){for(var O="",L=R;L<R+4;L++)O+=String.fromCharCode(T.getUint8(L));return O}(S,P))return!1;var _,v=P+6;if(18761===S.getUint16(v))_=!1;else{if(19789!==S.getUint16(v))return!1;_=!0}if(42!==S.getUint16(v+2,!_))return!1;var b=S.getUint32(v+4,!_);return!(b<8)&&function(T,R,k,O,L){for(var Y=T.getUint16(k,!L),K={},Ee=0;Ee<Y;Ee++){var Ge=k+12*Ee+2,He=O[T.getUint16(Ge,!L)];He&&(K[He]=Ww(T,Ge,0,0,L))}return K}(S,0,v+b,C,_)}function Ww(S,P,C,_,v){var b=S.getUint16(P+2,!v),T=S.getUint32(P+4,!v);return 3===b&&1===T?S.getUint16(P+8,!v):null}var qw={};function PO(S,P){S.onload=function(){P.loaded(this)}}qw.load=function(S,P,C,_,v){var b,T,R,k=new Array(_),O=new Array(k.length);if(!1===v)k[0]=S;else for(b=0;b<k.length;b++)R=C+b,k[b]="".concat(S,"image-").concat("00".concat(R).slice(-3),".jpg");for(O.notLoaded=[],O.addImage=function(L){O.notLoaded.push(L)},O.loaded=function(L){for(var Y=O.notLoaded,K=0;K<Y.length;K++)if(Y[K]===L){Y.splice(K,1);for(var Ee=0;Ee<k.length;Ee++){var Ge=k[Ee].substr(k[Ee].lastIndexOf("/"));if(-1!==L.src.lastIndexOf(Ge)){O[Ee]={img:L};break}}break}0===Y.length&&(!1===v?function(He){var it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$r;return/^blob:/i.test(He)?Ch(He).then(OO).then(function(Rt){return st(Rt,it)}):Promise.resolve(null)}(S,["orientation"]).then(function(He){O[0].tags=He,P(O)}).catch(function(He){console.log(He),P(O)}):P(O))},b=0;b<k.length;b++)T=new Image,O.addImage(T),PO(T,O),T.src=k[b]};var Gc=qw,zr={createVideoStream:function(S){var P,C,_=null,v=["canrecord","ended"],b={},T={x:0,y:0,type:"Point"},R={x:0,y:0,type:"XYSize"},k={getRealWidth:function(){return S.videoWidth},getRealHeight:function(){return S.videoHeight},getWidth:function(){return P},getHeight:function(){return C},setWidth:function(O){P=O},setHeight:function(O){C=O},setInputStream:function(O){_=O,this.setAttribute("src",void 0!==O.src?O.src:"")},ended:function(){return S.ended},getConfig:function(){return _},setAttribute:function(O,L){S&&S.setAttribute(O,L)},pause:function(){S.pause()},play:function(){S.play()},setCurrentTime:function(O){var L;"LiveStream"!==(null===(L=_)||void 0===L?void 0:L.type)&&this.setAttribute("currentTime",O.toString())},addEventListener:function(O,L,Y){-1!==v.indexOf(O)?(b[O]||(b[O]=[]),b[O].push(L)):S.addEventListener(O,L,Y)},clearEventHandlers:function(){v.forEach(function(O){var L=b[O];L&&L.length>0&&L.forEach(function(Y){S.removeEventListener(O,Y)})})},trigger:function(O,L){var Y,K,Ee,Ge,He,it=b[O];if("canrecord"===O&&(Ge=S.videoWidth,He=S.videoHeight,P=null!==(K=_)&&void 0!==K&&K.size?Ge/He>1?_.size:Math.floor(Ge/He*_.size):Ge,C=null!==(Ee=_)&&void 0!==Ee&&Ee.size?Ge/He>1?Math.floor(He/Ge*_.size):_.size:He,R.x=P,R.y=C),it&&it.length>0)for(Y=0;Y<it.length;Y++)it[Y].apply(k,L)},setTopRight:function(O){T.x=O.x,T.y=O.y},getTopRight:function(){return T},setCanvasSize:function(O){R.x=O.x,R.y=O.y},getCanvasSize:function(){return R},getFrame:function(){return S}};return k},createLiveStream:function(S){S&&S.setAttribute("autoplay","true");var P=zr.createVideoStream(S);return P.ended=function(){return!1},P},createImageStream:function(){var S,P,C=null,_=0,v=0,b=0,T=!0,R=!1,k=null,O=0,L=null,Y=!1,K=["canrecord","ended"],Ee={},Ge={x:0,y:0,type:"Point"},He={x:0,y:0,type:"XYSize"};function it(Xe,Kt){var zn,Fi=Ee[Xe];if(Fi&&Fi.length>0)for(zn=0;zn<Fi.length;zn++)Fi[zn].apply(Rt,Kt)}var Rt={trigger:it,getWidth:function(){return S},getHeight:function(){return P},setWidth:function(Xe){S=Xe},setHeight:function(Xe){P=Xe},getRealWidth:function(){return _},getRealHeight:function(){return v},setInputStream:function(Xe){var Kt;!1===Xe.sequence?(L=Xe.src,O=1):(L=Xe.src,O=Xe.length),R=!1,Gc.load(L,function(zn){var Fi,Ar;if(k=zn,zn[0].tags&&zn[0].tags.orientation)switch(zn[0].tags.orientation){case 6:case 8:_=zn[0].img.height,v=zn[0].img.width;break;default:_=zn[0].img.width,v=zn[0].img.height}else _=zn[0].img.width,v=zn[0].img.height;S=null!==(Fi=C)&&void 0!==Fi&&Fi.size?_/v>1?C.size:Math.floor(_/v*C.size):_,P=null!==(Ar=C)&&void 0!==Ar&&Ar.size?_/v>1?Math.floor(v/_*C.size):C.size:v,He.x=S,He.y=P,R=!0,b=0,setTimeout(function(){it("canrecord",[])},0)},1,O,null===(Kt=C=Xe)||void 0===Kt?void 0:Kt.sequence)},ended:function(){return Y},setAttribute:function(){},getConfig:function(){return C},pause:function(){T=!0},play:function(){T=!1},setCurrentTime:function(Xe){b=Xe},addEventListener:function(Xe,Kt){-1!==K.indexOf(Xe)&&(Ee[Xe]||(Ee[Xe]=[]),Ee[Xe].push(Kt))},clearEventHandlers:function(){Object.keys(Ee).forEach(function(Xe){return delete Ee[Xe]})},setTopRight:function(Xe){Ge.x=Xe.x,Ge.y=Xe.y},getTopRight:function(){return Ge},setCanvasSize:function(Xe){He.x=Xe.x,He.y=Xe.y},getCanvasSize:function(){return He},getFrame:function(){var Xe,Kt;return R?(T||(Xe=null===(Kt=k)||void 0===Kt?void 0:Kt[b],b<O-1?b++:setTimeout(function(){Y=!0,it("ended",[])},0)),Xe):null}};return Rt}},NO=zr,Wc=d(9),Kw=Math.PI/180,vs={create:function(S,P){var C,_={},v=S.getConfig(),b=(Object(Wc.h)(S.getRealWidth(),S.getRealHeight()),S.getCanvasSize()),T=Object(Wc.h)(S.getWidth(),S.getHeight()),R=S.getTopRight(),k=R.x,O=R.y,L=null,Y=null;return(C=P||document.createElement("canvas")).width=b.x,C.height=b.y,L=C.getContext("2d"),Y=new Uint8Array(T.x*T.y),_.attachData=function(K){Y=K},_.getData=function(){return Y},_.grab=function(){var K,Rt,Xe,Ee=v.halfSample,Ge=S.getFrame(),He=Ge,it=0;if(He){if((Rt=C).width!==(Xe=b).x&&(Rt.width=Xe.x),Rt.height!==Xe.y&&(Rt.height=Xe.y),"ImageStream"===v.type&&(He=Ge.img,Ge.tags&&Ge.tags.orientation))switch(Ge.tags.orientation){case 6:it=90*Kw;break;case 8:it=-90*Kw}return 0!==it?(L.translate(b.x/2,b.y/2),L.rotate(it),L.drawImage(He,-b.y/2,-b.x/2,b.y,b.x),L.rotate(-it),L.translate(-b.x/2,-b.y/2)):L.drawImage(He,0,0,b.x,b.y),K=L.getImageData(k,O,T.x,T.y).data,Ee?Object(Wc.e)(K,T,Y):Object(Wc.c)(K,Y,v),!0}return!1},_.getSize=function(){return T},_}},FO=vs;function Qw(S,P){var C=Object.keys(S);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(S);P&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(S,v).enumerable})),C.push.apply(C,_)}return C}function Eh(S){for(var P=1;P<arguments.length;P++){var C=null!=arguments[P]?arguments[P]:{};P%2?Qw(Object(C),!0).forEach(function(_){Q()(S,_,C[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(C)):Qw(Object(C)).forEach(function(_){Object.defineProperty(S,_,Object.getOwnPropertyDescriptor(C,_))})}return S}var bs=[];function Yw(S){return Eh(Eh({},S),{},{inputStream:Eh(Eh({},S.inputStream),{},{target:null})})}function LO(S){if(S){var P=S().default;if(!P)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var C;function _(b){self.postMessage({event:"processed",imageData:C.data,result:b},[C.data.buffer])}function v(){self.postMessage({event:"initialized",imageData:C.data},[C.data.buffer])}self.onmessage=function(b){if("init"===b.data.cmd){var T=b.data.config;T.numOfWorkers=0,C=new P.ImageWrapper({x:b.data.size.x,y:b.data.size.y},new Uint8Array(b.data.imageData)),P.init(T,v,C),P.onProcessed(_)}else"process"===b.data.cmd?(C.data=new Uint8Array(b.data.imageData),P.start()):"setReaders"===b.data.cmd?P.setReaders(b.data.readers):"registerReader"===b.data.cmd&&P.registerReader(b.data.name,b.data.reader)}}function Xw(S,P,C){var _,v,b=("undefined"!=typeof __factorySource__&&(v=__factorySource__),_=new Blob(["("+LO.toString()+")("+v+");"],{type:"text/javascript"}),window.URL.createObjectURL(_)),T={worker:new Worker(b),imageData:new Uint8Array(P.getWidth()*P.getHeight()),busy:!0};T.worker.onmessage=function(R){"initialized"===R.data.event?(URL.revokeObjectURL(b),T.busy=!1,T.imageData=new Uint8Array(R.data.imageData),C(T)):"processed"===R.data.event&&(T.imageData=new Uint8Array(R.data.imageData),T.busy=!1)},T.worker.postMessage({cmd:"init",size:{x:P.getWidth(),y:P.getHeight()},imageData:T.imageData,config:Yw(S)},[T.imageData.buffer])}function Zw(S,P,C,_){var v=S-bs.length;if(0===v&&_)_();else if(v<0)bs.slice(v).forEach(function(R){R.worker.terminate()}),bs=bs.slice(0,v),_&&_();else{var b=function(R){bs.push(R),bs.length>=S&&_&&_()};if(P)for(var T=0;T<v;T++)Xw(P,C,b)}}function Gr(S,P,C){for(var _=S.length;_--;)S[_][0]+=P,S[_][1]+=C}var Zt=function(){function S(){var C=this;Te()(this,S),Q()(this,"context",new yh),Q()(this,"canRecord",function(_){var v;C.context.config&&(bh.a.checkImageConstraints(C.context.inputStream,null===(v=C.context.config)||void 0===v?void 0:v.locator),C.initCanvas(),C.context.framegrabber=FO.create(C.context.inputStream,C.context.canvasContainer.dom.image),void 0===C.context.config.numOfWorkers&&(C.context.config.numOfWorkers=0),Zw(C.context.config.numOfWorkers,C.context.config,C.context.inputStream,function(){var b;0===(null===(b=C.context.config)||void 0===b?void 0:b.numOfWorkers)&&C.initializeData(),C.ready(_)}))}),Q()(this,"update",function(){if(C.context.onUIThread){var _,v=(T=C.context.framegrabber,bs.length?!!(R=bs.filter(function(k){return!k.busy})[0])&&(T.attachData(R.imageData),T.grab()&&(R.busy=!0,R.worker.postMessage({cmd:"process",imageData:R.imageData},[R.imageData.buffer])),!0):null);v||(C.context.framegrabber.attachData(null===(_=C.context.inputImageWrapper)||void 0===_?void 0:_.data),C.context.framegrabber.grab()&&(v||C.locateAndDecode()))}else{var b;C.context.framegrabber.attachData(null===(b=C.context.inputImageWrapper)||void 0===b?void 0:b.data),C.context.framegrabber.grab(),C.locateAndDecode()}var T,R})}var P;return Ce()(S,[{key:"initBuffers",value:function(C){if(this.context.config){var _=(T=this.context.inputStream,k=this.context.config.locator,O=C||new F.a({x:T.getWidth(),y:T.getHeight(),type:"XYSize"}),L=[Object(Nt.clone)([0,0]),Object(Nt.clone)([0,O.size.y]),Object(Nt.clone)([O.size.x,O.size.y]),Object(Nt.clone)([O.size.x,0])],bh.a.init(O,k),{inputImageWrapper:O,boxSize:L}),b=_.boxSize;this.context.inputImageWrapper=_.inputImageWrapper,this.context.boxSize=b}var T,k,O,L}},{key:"initializeData",value:function(C){this.context.config&&(this.initBuffers(C),this.context.decoder=Pi.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?qt(this.context.config.inputStream.target):null}},{key:"ready",value:function(C){this.context.inputStream.play(),C()}},{key:"initCanvas",value:function(){var C=function(S){var P,C,_,v,b=qt(null==S||null===(P=S.config)||void 0===P||null===(C=P.inputStream)||void 0===C?void 0:C.target),T=null==S||null===(_=S.config)||void 0===_||null===(v=_.inputStream)||void 0===v?void 0:v.type;if(!T)return null;var R=function(O){if("undefined"!=typeof document){var L=dt("canvas.imgBuffer","imgBuffer"),Y=dt("canvas.drawingBuffer","drawingBuffer");return L.canvas.width=Y.canvas.width=O.x,L.canvas.height=Y.canvas.height=O.y,{dom:{image:L.canvas,overlay:Y.canvas},ctx:{image:L.context,overlay:Y.context}}}return null}(S.inputStream.getCanvasSize());if(!R)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var k=R.dom;return"undefined"!=typeof document&&b&&("ImageStream"!==T||b.contains(k.image)||b.appendChild(k.image),b.contains(k.overlay)||b.appendChild(k.overlay)),R}(this.context);if(C){var _=C.ctx,v=C.dom;this.context.canvasContainer.dom.image=v.image,this.context.canvasContainer.dom.overlay=v.overlay,this.context.canvasContainer.ctx.image=_.image,this.context.canvasContainer.ctx.overlay=_.overlay}}},{key:"initInputStream",value:function(C){if(this.context.config&&this.context.config.inputStream){var _=this.context.config.inputStream,v=_.type,b=_.constraints,T=function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",L=arguments.length>1?arguments[1]:void 0,Y=arguments.length>2?arguments[2]:void 0;switch(O){case"VideoStream":var K=document.createElement("video");return{video:K,inputStream:Y.createVideoStream(K)};case"ImageStream":return{inputStream:Y.createImageStream()};case"LiveStream":var Ee=null;return L&&((Ee=L.querySelector("video"))||(Ee=document.createElement("video"),L.appendChild(Ee))),{video:Ee,inputStream:Y.createLiveStream(Ee)};default:return console.error("* setupInputStream invalid type ".concat(O)),{video:null,inputStream:null}}}(v,this.getViewPort(),NO),R=T.video,k=T.inputStream;"LiveStream"===v&&R&&pn.request(R,b).then(function(){return k.trigger("canrecord")}).catch(function(O){return C(O)}),k.setAttribute("preload","auto"),k.setInputStream(this.context.config.inputStream),k.addEventListener("canrecord",this.canRecord.bind(void 0,C)),this.context.inputStream=k}}},{key:"getBoundingBoxes",value:function(){var C;return null!==(C=this.context.config)&&void 0!==C&&C.locate?bh.a.locate():[[Object(Nt.clone)(this.context.boxSize[0]),Object(Nt.clone)(this.context.boxSize[1]),Object(Nt.clone)(this.context.boxSize[2]),Object(Nt.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(C){var k,O,L,_=this,v=this.context.inputStream.getTopRight(),b=v.x,T=v.y;if((0!==b||0!==T)&&(C.barcodes&&C.barcodes.forEach(function(k){return _.transformResult(k)}),C.line&&2===C.line.length&&(L=T,(k=C.line)[0].x+=O=b,k[0].y+=L,k[1].x+=O,k[1].y+=L),C.box&&Gr(C.box,b,T),C.boxes&&C.boxes.length>0))for(var R=0;R<C.boxes.length;R++)Gr(C.boxes[R],b,T)}},{key:"addResult",value:function(C,_){var v=this;_&&this.context.resultCollector&&(C.barcodes?C.barcodes.filter(function(b){return b.codeResult}).forEach(function(b){return v.addResult(b,_)}):C.codeResult&&this.context.resultCollector.addResult(_,this.context.inputStream.getCanvasSize(),C.codeResult))}},{key:"hasCodeResult",value:function(C){return!(!C||!(C.barcodes?C.barcodes.some(function(_){return _.codeResult}):C.codeResult))}},{key:"publishResult",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,_=arguments.length>1?arguments[1]:void 0,v=C;C&&this.context.onUIThread&&(this.transformResult(C),this.addResult(C,_),v=C.barcodes||C),Co.publish("processed",v),this.hasCodeResult(C)&&Co.publish("detected",v)}},{key:"locateAndDecode",value:function(){var C=this.getBoundingBoxes();if(C){var _,v=this.context.decoder.decodeFromBoundingBoxes(C)||{};v.boxes=C,this.publishResult(v,null===(_=this.context.inputImageWrapper)||void 0===_?void 0:_.data)}else{var b,T=this.context.decoder.decodeFromImage(this.context.inputImageWrapper);T?this.publishResult(T,null===(b=this.context.inputImageWrapper)||void 0===b?void 0:b.data):this.publishResult()}}},{key:"startContinuousUpdate",value:function(){var C,_=this,v=null,b=1e3/((null===(C=this.context.config)||void 0===C?void 0:C.frequency)||60);this.context.stopped=!1;var T=this.context;!function R(k){v=v||k,T.stopped||(k>=v&&(v+=b,_.update()),window.requestAnimationFrame(R))}(performance.now())}},{key:"start",value:function(){var C,_;this.context.onUIThread&&"LiveStream"===(null===(C=this.context.config)||void 0===C||null===(_=C.inputStream)||void 0===_?void 0:_.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(P=Bs()(Eo.a.mark(function C(){var _;return Eo.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(this.context.stopped=!0,Zw(0),null===(_=this.context.config)||void 0===_||!_.inputStream||"LiveStream"!==this.context.config.inputStream.type){v.next=6;break}return v.next=5,pn.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return v.stop()}},C,this)})),function(){return P.apply(this,arguments)})},{key:"setReaders",value:function(C){var _;this.context.decoder&&this.context.decoder.setReaders(C),_=C,bs.forEach(function(v){return v.worker.postMessage({cmd:"setReaders",readers:_})})}},{key:"registerReader",value:function(C,_){var v,b;Pi.registerReader(C,_),this.context.decoder&&this.context.decoder.registerReader(C,_),v=C,b=_,bs.forEach(function(T){return T.worker.postMessage({cmd:"registerReader",name:v,reader:b})})}}]),S}(),pl=new Zt,ym=pl.context,Jw={init:function(S,P,C){var _,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pl;return P||(_=new Promise(function(b,T){P=function(R){R?T(R):b()}})),v.context.config=I()({},_h,S),v.context.config.numOfWorkers>0&&(v.context.config.numOfWorkers=0),C?(v.context.onUIThread=!1,v.initializeData(C),P&&P()):v.initInputStream(P),_},start:function(){return pl.start()},stop:function(){return pl.stop()},pause:function(){ym.stopped=!0},onDetected:function(S){S&&("function"==typeof S||"object"===w()(S)&&S.callback)?Co.subscribe("detected",S):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(S){Co.unsubscribe("detected",S)},onProcessed:function(S){S&&("function"==typeof S||"object"===w()(S)&&S.callback)?Co.subscribe("processed",S):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(S){Co.unsubscribe("processed",S)},setReaders:function(S){S?pl.setReaders(S):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(S,P){S?P?pl.registerReader(S,P):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(S){S&&"function"==typeof S.addResult&&(ym.resultCollector=S)},get canvas(){return ym.canvasContainer},decodeSingle:function(S,P){var C=this,_=new Zt;return(S=I()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:S.src},numOfWorkers:1,locator:{halfSample:!1}},S)).numOfWorkers>0&&(S.numOfWorkers=0),S.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),S.numOfWorkers=0),new Promise(function(v,b){try{C.init(S,function(){Co.once("processed",function(T){_.stop(),P&&P.call(null,T),v(T)},!0),_.start()},null,_)}catch(T){b(T)}})},get default(){return Jw},Readers:f,CameraAccess:pn,ImageDebug:de.a,ImageWrapper:F.a,ResultCollector:mh};x.default=Jw}]).default},316:(ii,m,x)=>{"use strict";function d(n){return"function"==typeof n}function f(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const g=f(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function w(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class E{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(d(r))try{r()}catch(s){e=s instanceof g?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{U(s)}catch(o){e=null!=e?e:[],o instanceof g?e=[...e,...o.errors]:e.push(o)}}if(e)throw new g(e)}}add(e){var t;if(e&&e!==this)if(this.closed)U(e);else{if(e instanceof E){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&w(t,e)}remove(e){const{_teardowns:t}=this;t&&w(t,e),e instanceof E&&e._removeParent(this)}}E.EMPTY=(()=>{const n=new E;return n.closed=!0,n})();const I=E.EMPTY;function F(n){return n instanceof E||n&&"closed"in n&&d(n.remove)&&d(n.add)&&d(n.unsubscribe)}function U(n){d(n)?n():n.unsubscribe()}const B={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ne={setTimeout(...n){const{delegate:e}=ne;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=ne;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function le(n){ne.setTimeout(()=>{const{onUnhandledError:e}=B;if(!e)throw n;e(n)})}function de(){}const We=Ce("C",void 0,void 0);function Ce(n,e,t){return{kind:n,value:e,error:t}}let ee=null;function G(n){if(B.useDeprecatedSynchronousErrorHandling){const e=!ee;if(e&&(ee={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ee;if(ee=null,t)throw r}}else n()}class ue extends E{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,F(e)&&e.add(this)):this.destination=ce}static create(e,t,r){return new Se(e,t,r)}next(e){this.isStopped?Z(Ce("N",e,void 0),this):this._next(e)}error(e){this.isStopped?Z(Ce("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Z(We,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Se extends ue{constructor(e,t,r){let i;if(super(),d(e))i=e;else if(e){let s;({next:i,error:t,complete:r}=e),this&&B.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),t=null==t?void 0:t.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?be(i):de,error:be(null!=t?t:te),complete:r?be(r):de}}}function be(n,e){return(...t)=>{try{n(...t)}catch(r){B.useDeprecatedSynchronousErrorHandling?function(n){B.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=n)}(r):le(r)}}}function te(n){throw n}function Z(n,e){const{onStoppedNotification:t}=B;t&&ne.setTimeout(()=>t(n,e))}const ce={closed:!0,next:de,error:te,complete:de},Q="function"==typeof Symbol&&Symbol.observable||"@@observable";function _e(n){return n}let W=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function(n){return n&&n instanceof ue||function(n){return n&&d(n.next)&&d(n.error)&&d(n.complete)}(n)&&F(n)}(t)?t:new Se(t,r,i);return G(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=se(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),null==o||o.unsubscribe()}},s,i)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Q](){return this}pipe(...t){return function(n){return 0===n.length?_e:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=se(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function se(n){var e;return null!==(e=null!=n?n:B.Promise)&&void 0!==e?e:Promise}const Le=f(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ve=(()=>{class n extends W{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Qe(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Le}next(t){G(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){G(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){G(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?I:(s.push(t),new E(()=>w(s,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new W;return t.source=this,t}}return n.create=(e,t)=>new Qe(e,t),n})();class Qe extends ve{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:I}}function Me(n){return d(null==n?void 0:n.lift)}function ke(n){return e=>{if(Me(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class qe extends ue{constructor(e,t,r,i,s){super(e),this.onFinalize=s,this._next=t?function(o){try{t(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Oe(n,e){return ke((t,r)=>{let i=0;t.subscribe(new qe(r,s=>{r.next(n.call(e,s,i++))}))})}function wo(n){return this instanceof wo?(this.v=n,this):new wo(n)}function em(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(y){return new Promise(function(D,M){s.push([p,y,D,M])>1||a(p,y)})})}function a(p,y){try{!function(p){p.value instanceof wo?Promise.resolve(p.value.v).then(c,u):h(s[0][2],p)}(r[p](y))}catch(D){h(s[0][3],D)}}function c(p){a("next",p)}function u(p){a("throw",p)}function h(p,y){p(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function tm(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const lh=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ch(n){return d(null==n?void 0:n.then)}function rm(n){return d(n[Q])}function uh(n){return Symbol.asyncIterator&&d(null==n?void 0:n[Symbol.asyncIterator])}function im(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const om="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function dh(n){return d(null==n?void 0:n[om])}function am(n){return em(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield wo(t.read());if(i)return yield wo(void 0);yield yield wo(r)}}finally{t.releaseLock()}})}function hh(n){return d(null==n?void 0:n.getReader)}function si(n){if(n instanceof W)return n;if(null!=n){if(rm(n))return function(n){return new W(e=>{const t=n[Q]();if(d(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(lh(n))return function(n){return new W(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ch(n))return function(n){return new W(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,le)})}(n);if(uh(n))return um(n);if(dh(n))return function(n){return new W(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(hh(n))return function(n){return um(am(n))}(n)}throw im(n)}function um(n){return new W(e=>{(function(n,e){var t,r,i,s;return function(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):function(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=tm(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Pi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function xn(n,e,t=1/0){return d(e)?xn((r,i)=>Oe((s,o)=>e(r,s,i,o))(si(n(r,i))),t):("number"==typeof e&&(t=e),ke((r,i)=>function(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,h=!1;const p=()=>{h&&!l.length&&!c&&e.complete()},y=M=>c<r?D(M):l.push(M),D=M=>{c++;let N=!1;si(t(M,u++)).subscribe(new qe(e,z=>{e.next(z)},()=>{N=!0},void 0,()=>{if(N)try{for(c--;l.length&&c<r;){const z=l.shift();D(z)}p()}catch(z){e.error(z)}}))};return n.subscribe(new qe(e,y,()=>{h=!0,p()})),()=>{}}(r,i,n,t)))}function Bs(n=1/0){return xn(_e,n)}const Ni=new W(n=>n.complete());function hm(n){return n&&d(n.schedule)}function ph(n){return n[n.length-1]}function fm(n){return d(ph(n))?n.pop():void 0}function ts(n){return hm(ph(n))?n.pop():void 0}function fl(n,e=0){return ke((t,r)=>{t.subscribe(new qe(r,i=>Pi(r,n,()=>r.next(i),e),()=>Pi(r,n,()=>r.complete(),e),i=>Pi(r,n,()=>r.error(i),e)))})}function zc(n,e=0){return ke((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function gm(n,e){if(!n)throw new Error("Iterable cannot be null");return new W(t=>{Pi(t,e,()=>{const r=n[Symbol.asyncIterator]();Pi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function bn(n,e){return e?function(n,e){if(null!=n){if(rm(n))return function(n,e){return si(n).pipe(zc(e),fl(e))}(n,e);if(lh(n))return function(n,e){return new W(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ch(n))return function(n,e){return si(n).pipe(zc(e),fl(e))}(n,e);if(uh(n))return gm(n,e);if(dh(n))return function(n,e){return new W(t=>{let r;return Pi(t,e,()=>{r=n[om](),Pi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>d(null==r?void 0:r.return)&&r.return()})}(n,e);if(hh(n))return function(n,e){return gm(am(n),e)}(n,e)}throw im(n)}(n,e):si(n)}function Hr(...n){const e=ts(n),t=function(n,e){return"number"==typeof ph(n)?n.pop():1/0}(n),r=n;return r.length?1===r.length?si(r[0]):Bs(t)(bn(r,e)):Ni}function pn(n){return n<=0?()=>Ni:ke((e,t)=>{let r=0;e.subscribe(new qe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function mh(n={}){const{connector:e=(()=>new ve),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,l=null,c=0,u=!1,h=!1;const p=()=>{null==a||a.unsubscribe(),a=null},y=()=>{p(),o=l=null,u=h=!1},D=()=>{const M=o;y(),null==M||M.unsubscribe()};return ke((M,N)=>{c++,!h&&!u&&p();const z=l=null!=l?l:e();N.add(()=>{c--,0===c&&!h&&!u&&(a=_h(D,i))}),z.subscribe(N),o||(o=new Se({next:j=>z.next(j),error:j=>{h=!0,p(),a=_h(y,t,j),z.error(j)},complete:()=>{u=!0,p(),a=_h(y,r),z.complete()}}),bn(M).subscribe(o))})(s)}}function _h(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(pn(1)).subscribe(()=>n())}function Nt(n){for(let e in n)if(n[e]===Nt)return e;throw Error("Could not find renamed property on target object.")}function yh(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Mt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Mt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function vh(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const bh=Nt({__forward_ref__:Nt});function qt(n){return n.__forward_ref__=qt,n.toString=function(){return Mt(this())},n}function dt(n){return _m(n)?n():n}function _m(n){return"function"==typeof n&&n.hasOwnProperty(bh)&&n.__forward_ref__===qt}class $r extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function st(n){return"string"==typeof n?n:null==n?"":String(n)}function xr(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():st(n)}function Gc(n,e){const t=e?` in ${e}`:"";throw new $r("201",`No provider for ${xr(n)} found${t}`)}function Gr(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function S(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function C(n){return{providers:n.providers||[],imports:n.imports||[]}}function _(n){return v(n,k)||v(n,L)}function v(n,e){return n.hasOwnProperty(e)?n[e]:null}function R(n){return n&&(n.hasOwnProperty(O)||n.hasOwnProperty(Y))?n[O]:null}const k=Nt({\u0275prov:Nt}),O=Nt({\u0275inj:Nt}),L=Nt({ngInjectableDef:Nt}),Y=Nt({ngInjectorDef:Nt});var K=(()=>((K=K||{})[K.Default=0]="Default",K[K.Host=1]="Host",K[K.Self=2]="Self",K[K.SkipSelf=4]="SkipSelf",K[K.Optional=8]="Optional",K))();let Ee;function He(n){const e=Ee;return Ee=n,e}function it(n,e,t){const r=_(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&K.Optional?null:void 0!==e?e:void Gc(Mt(n),"Injector")}function Xe(n){return{toString:n}.toString()}var Kt=(()=>((Kt=Kt||{})[Kt.OnPush=0]="OnPush",Kt[Kt.Default=1]="Default",Kt))(),Ar=(()=>{return(n=Ar||(Ar={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ar;var n})();const e0="undefined"!=typeof globalThis&&globalThis,_K="undefined"!=typeof window&&window,yK="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Jt=e0||"undefined"!=typeof global&&global||_K||yK,qc={},rn=[],vm=Nt({\u0275cmp:Nt}),t0=Nt({\u0275dir:Nt}),n0=Nt({\u0275pipe:Nt}),VO=Nt({\u0275mod:Nt}),Do=Nt({\u0275fac:Nt}),Dh=Nt({__NG_ELEMENT_ID__:Nt});let vK=0;function wn(n){return Xe(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||rn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ar.Emulated,id:"c",styles:n.styles||rn,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=vK++,r.inputs=HO(n.inputs,t),r.outputs=HO(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(BO):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(UO):null,r})}function BO(n){return Wr(n)||function(n){return n[t0]||null}(n)}function UO(n){return function(n){return n[n0]||null}(n)}const jO={};function bt(n){return Xe(()=>{const e={type:n.type,bootstrap:n.bootstrap||rn,declarations:n.declarations||rn,imports:n.imports||rn,exports:n.exports||rn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(jO[n.id]=n.type),e})}function HO(n,e){if(null==n)return qc;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const ge=wn;function Wr(n){return n[vm]||null}function ns(n,e){const t=n[VO]||null;if(!t&&!0===e)throw new Error(`Type ${Mt(n)} does not have '\u0275mod' property.`);return t}function Us(n){return Array.isArray(n)&&"object"==typeof n[1]}function Cs(n){return Array.isArray(n)&&!0===n[1]}function o0(n){return 0!=(8&n.flags)}function Em(n){return 2==(2&n.flags)}function Dm(n){return 1==(1&n.flags)}function Es(n){return null!==n.template}function TK(n){return 0!=(512&n[2])}function vl(n,e){return n.hasOwnProperty(Do)?n[Do]:null}class xK{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function dr(){return zO}function zO(n){return n.type.prototype.ngOnChanges&&(n.setInput=MK),AK}function AK(){const n=WO(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===qc)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function MK(n,e,t,r){const i=WO(n)||function(n,e){return n[GO]=e}(n,{previous:qc,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new xK(l&&l.currentValue,e,o===qc),n[r]=e}dr.ngInherit=!0;const GO="__ngSimpleChanges__";function WO(n){return n[GO]||null}let c0;function An(n){return!!n.listen}const QO={createRenderer:(n,e)=>void 0!==c0?c0:"undefined"!=typeof document?document:void 0};function Gn(n){for(;Array.isArray(n);)n=n[0];return n}function Tm(n,e){return Gn(e[n])}function ss(n,e){return Gn(e[n.index])}function d0(n,e){return n.data[e]}function Vi(n,e){const t=e[n];return Us(t)?t:t[0]}function YO(n){return 4==(4&n[2])}function h0(n){return 128==(128&n[2])}function ga(n,e){return null==e?null:n[e]}function XO(n){n[18]=0}function f0(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ot={lFrame:sP(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ZO(){return ot.bindingsEnabled}function he(){return ot.lFrame.lView}function Lt(){return ot.lFrame.tView}function bl(n){return ot.lFrame.contextLView=n,n[8]}function Jn(){let n=JO();for(;null!==n&&64===n.type;)n=n.parent;return n}function JO(){return ot.lFrame.currentTNode}function js(n,e){const t=ot.lFrame;t.currentTNode=n,t.isParent=e}function p0(){return ot.lFrame.isParent}function g0(){ot.lFrame.isParent=!1}function Sm(){return ot.isInCheckNoChangesMode}function Im(n){ot.isInCheckNoChangesMode=n}function oi(){const n=ot.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Jc(){return ot.lFrame.bindingIndex++}function So(n){const e=ot.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function GK(n,e){const t=ot.lFrame;t.bindingIndex=t.bindingRootIndex=n,m0(e)}function m0(n){ot.lFrame.currentDirectiveIndex=n}function nP(){return ot.lFrame.currentQueryIndex}function y0(n){ot.lFrame.currentQueryIndex=n}function qK(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function rP(n,e,t){if(t&K.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&K.Host||(i=qK(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ot.lFrame=iP();return r.currentTNode=e,r.lView=n,!0}function xm(n){const e=iP(),t=n[1];ot.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function iP(){const n=ot.lFrame,e=null===n?null:n.child;return null===e?sP(n):e}function sP(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function oP(){const n=ot.lFrame;return ot.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const aP=oP;function Am(){const n=oP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ai(){return ot.lFrame.selectedIndex}function ma(n){ot.lFrame.selectedIndex=n}function Mn(){const n=ot.lFrame;return d0(n.tView,n.selectedIndex)}function Mm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Rm(n,e,t){lP(n,e,3,t)}function km(n,e,t,r){(3&n[2])===t&&lP(n,e,t,r)}function v0(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function lP(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(n7(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function n7(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ah{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Om(n,e,t){const r=An(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];w0(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function cP(n){return 3===n||4===n||6===n}function w0(n){return 64===n.charCodeAt(0)}function Pm(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||uP(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function uP(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function dP(n){return-1!==n}function eu(n){return 32767&n}function tu(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let C0=!0;function Nm(n){const e=C0;return C0=n,e}let c7=0;function Rh(n,e){const t=D0(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,E0(r.data,n),E0(e,null),E0(r.blueprint,null));const i=Fm(n,e),s=n.injectorIndex;if(dP(i)){const o=eu(i),a=tu(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function E0(n,e){n.push(0,0,0,0,0,0,0,0,e)}function D0(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Fm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Lm(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Dh)&&(r=t[Dh]),null==r&&(r=t[Dh]=c7++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function pP(n,e,t){if(t&K.Optional)return n;Gc(e,"NodeInjector")}function gP(n,e,t,r){if(t&K.Optional&&void 0===r&&(r=null),0==(t&(K.Self|K.Host))){const i=n[9],s=He(void 0);try{return i?i.get(e,r,t&K.Optional):it(e,r,t&K.Optional)}finally{He(s)}}return pP(r,e,t)}function mP(n,e,t,r=K.Default,i){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Dh)?n[Dh]:void 0;return"number"==typeof e?e>=0?255&e:h7:e}(t);if("function"==typeof s){if(!rP(e,n,r))return r&K.Host?pP(i,t,r):gP(e,t,r,i);try{const o=s(r);if(null!=o||r&K.Optional)return o;Gc(t)}finally{aP()}}else if("number"==typeof s){let o=null,a=D0(n,e),l=-1,c=r&K.Host?e[16][6]:null;for((-1===a||r&K.SkipSelf)&&(l=-1===a?Fm(n,e):e[a+8],-1!==l&&vP(r,!1)?(o=e[1],a=eu(l),e=tu(l,e)):a=-1);-1!==a;){const u=e[1];if(yP(s,a,u.data)){const h=f7(a,e,t,o,r,c);if(h!==_P)return h}l=e[a+8],-1!==l&&vP(r,e[1].data[a+8]===c)&&yP(s,a,e)?(o=u,a=eu(l),e=tu(l,e)):a=-1}}}return gP(e,t,r,i)}const _P={};function h7(){return new nu(Jn(),he())}function f7(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=Vm(a,o,t,null==r?Em(a)&&C0:r!=o&&0!=(3&a.type),i&K.Host&&s===a);return null!==u?kh(e,o,u,a):_P}function Vm(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,p=i?a+u:n.directiveEnd;for(let y=r?a:a+u;y<p;y++){const D=o[y];if(y<l&&t===D||y>=l&&D.type===t)return y}if(i){const y=o[l];if(y&&Es(y)&&y.type===t)return l}return null}function kh(n,e,t,r){let i=n[t];const s=e.data;if(function(n){return n instanceof Ah}(i)){const o=i;o.resolving&&function(n,e){throw new $r("200",`Circular dependency in DI detected for ${n}`)}(xr(s[t]));const a=Nm(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?He(o.injectImpl):null;rP(n,r,K.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=zO(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&He(l),Nm(a),o.resolving=!1,aP()}}return i}function yP(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function vP(n,e){return!(n&K.Self||n&K.Host&&e)}class nu{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return mP(this._tNode,this._lView,e,r,t)}}function Xt(n){return Xe(()=>{const e=n.prototype.constructor,t=e[Do]||T0(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Do]||T0(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function T0(n){return _m(n)?()=>{const e=T0(dt(n));return e&&e()}:vl(n)}function wl(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(cP(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Jn(),n)}const iu="__parameters__";function ou(n,e,t){return Xe(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(iu)?l[iu]:Object.defineProperty(l,iu,{value:[]})[iu];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ye{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const m7=new ye("AnalyzeForEntryComponents");function os(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),os(r,e)):e!==n&&e.push(r)}return e}function Hs(n,e){n.forEach(t=>Array.isArray(t)?Hs(t,e):e(t))}function wP(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Bm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Nh(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Bi(n,e,t){let r=au(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function x0(n,e){const t=au(n,e);if(t>=0)return n[1|t]}function au(n,e){return function(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Fh={},M0="__NG_DI_FLAG__",jm="ngTempTokenPath",S7=/\n/gm,SP="__source",x7=Nt({provide:String,useValue:Nt});let Lh;function IP(n){const e=Lh;return Lh=n,e}function A7(n,e=K.Default){if(void 0===Lh)throw new Error("inject() must be called from an injection context");return null===Lh?it(n,void 0,e):Lh.get(n,e&K.Optional?null:void 0,e)}function oe(n,e=K.Default){return(Ee||A7)(dt(n),e)}const R0=oe;function k0(n){const e=[];for(let t=0;t<n.length;t++){const r=dt(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=K.Default;for(let o=0;o<r.length;o++){const a=r[o],l=M7(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(oe(i,s))}else e.push(oe(r))}return e}function Vh(n,e){return n[M0]=e,n.prototype[M0]=e,n}function M7(n){return n[M0]}const Bh=Vh(ou("Inject",n=>({token:n})),-1),jt=Vh(ou("Optional"),8),ya=Vh(ou("SkipSelf"),4);let $m;function cu(n){var e;return(null===(e=function(){if(void 0===$m&&($m=null,Jt.trustedTypes))try{$m=Jt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return $m}())||void 0===e?void 0:e.createHTML(n))||n}class Cl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $7 extends Cl{getTypeName(){return"HTML"}}class z7 extends Cl{getTypeName(){return"Style"}}class G7 extends Cl{getTypeName(){return"Script"}}class W7 extends Cl{getTypeName(){return"URL"}}class q7 extends Cl{getTypeName(){return"ResourceURL"}}function Ui(n){return n instanceof Cl?n.changingThisBreaksApplicationSecurity:n}function $s(n,e){const t=FP(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function FP(n){return n instanceof Cl&&n.getTypeName()||null}class J7{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(cu(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class eQ{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=cu(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=cu(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const nQ=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rQ=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function jh(n){return(n=String(n)).match(nQ)||n.match(rQ)?n:"unsafe:"+n}function zs(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Hh(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const BP=zs("area,br,col,hr,img,wbr"),UP=zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jP=zs("rp,rt"),F0=Hh(BP,Hh(UP,zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hh(jP,zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hh(jP,UP)),L0=zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),V0=zs("srcset"),HP=Hh(L0,V0,zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),iQ=zs("script,style,template");class sQ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!F0.hasOwnProperty(t))return this.sanitizedSomething=!0,!iQ.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!HP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;L0[a]&&(l=jh(l)),V0[a]&&(n=l,l=(n=String(n)).split(",").map(e=>jh(e.trim())).join(", ")),this.buf.push(" ",o,'="',$P(l),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();F0.hasOwnProperty(t)&&!BP.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push($P(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const oQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aQ=/([^\#-~ |!])/g;function $P(n){return n.replace(/&/g,"&amp;").replace(oQ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(aQ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gm;function zP(n,e){let t=null;try{Gm=Gm||function(n){const e=new eQ(n);return function(){try{return!!(new window.DOMParser).parseFromString(cu(""),"text/html")}catch(n){return!1}}()?new J7(e):e}(n);let r=e?String(e):"";t=Gm.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Gm.getInertBodyElement(r)}while(r!==s);return cu((new sQ).sanitizeChildren(B0(t)||t))}finally{if(t){const r=B0(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function B0(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Wt=(()=>((Wt=Wt||{})[Wt.NONE=0]="NONE",Wt[Wt.HTML=1]="HTML",Wt[Wt.STYLE=2]="STYLE",Wt[Wt.SCRIPT=3]="SCRIPT",Wt[Wt.URL=4]="URL",Wt[Wt.RESOURCE_URL=5]="RESOURCE_URL",Wt))();function Wm(n){const e=function(){const n=he();return n&&n[12]}();return e?e.sanitize(Wt.URL,n)||"":$s(n,"URL")?Ui(n):jh(st(n))}const qP="__ngContext__";function Kr(n,e){n[qP]=e}function j0(n){const e=function(n){return n[qP]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function $0(n){return n.ngOriginalError}function SQ(n,...e){n.error(...e)}class Io{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=(n=e)&&n.ngErrorLogger||SQ;var n;r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&$0(e);for(;t&&$0(t);)t=$0(t);return t||null}}const ZP=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Jt))();function Gs(n){return n instanceof Function?n():n}var ji=(()=>((ji=ji||{})[ji.Important=1]="Important",ji[ji.DashCase=2]="DashCase",ji))();function G0(n,e){return undefined(n,e)}function Gh(n){const e=n[3];return Cs(e)?e[3]:e}function W0(n){return rN(n[13])}function q0(n){return rN(n[4])}function rN(n){for(;null!==n&&!Cs(n);)n=n[4];return n}function du(n,e,t,r,i){if(null!=r){let s,o=!1;Cs(r)?s=r:Us(r)&&(o=!0,r=r[0]);const a=Gn(r);0===n&&null!==t?null==i?cN(e,t,a):El(e,t,a,i||null,!0):1===n&&null!==t?El(e,t,a,i||null,!0):2===n?function(n,e,t){const r=qm(n,e);r&&function(n,e,t,r){An(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,r,i){const s=t[7];s!==Gn(t)&&du(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];Wh(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function Q0(n,e,t){return An(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function sN(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,f0(i,-1)),t.splice(r,1)}function Y0(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&sN(i,r),e>0&&(n[t-1][4]=r[4]);const s=Bm(n,10+e);!function(n,e){Wh(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function oN(n,e){if(!(256&e[2])){const t=e[11];An(t)&&t.destroyNode&&Wh(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return X0(n[1],n);for(;e;){let t=null;if(Us(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Us(e)&&X0(e[1],e),e=e[3];null===e&&(e=n),Us(e)&&X0(e[1],e),t=e&&e[4]}e=t}}(e)}}function X0(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ah)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Gn(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&An(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Cs(e[3])){t!==e[3]&&sN(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function aN(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Ar.None||i===Ar.Emulated)return null}return ss(r,t)}(n,e.parent,t)}function El(n,e,t,r,i){An(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function cN(n,e,t){An(n)?n.appendChild(e,t):e.appendChild(t)}function uN(n,e,t,r,i){null!==r?El(n,e,t,r,i):cN(n,e,t)}function qm(n,e){return An(n)?n.parentNode(e):e.parentNode}function dN(n,e,t){return fN(n,e,t)}let fN=function(n,e,t){return 40&n.type?ss(n,t):null};function Km(n,e,t,r){const i=aN(n,r,e),s=e[11],a=dN(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)uN(s,i,t[l],a,!1);else uN(s,i,t,a,!1)}function Qm(n,e){if(null!==e){const t=e.type;if(3&t)return ss(e,n);if(4&t)return J0(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Qm(n,r);{const i=n[e.index];return Cs(i)?J0(-1,i):Gn(i)}}if(32&t)return G0(e,n)()||Gn(n[e.index]);{const r=gN(n,e);return null!==r?Array.isArray(r)?r[0]:Qm(Gh(n[16]),r):Qm(n,e.next)}}return null}function gN(n,e){return null!==e?n[16][6].projection[e.projection]:null}function J0(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Qm(r,i)}return e[7]}function eC(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Kr(Gn(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)eC(n,e,t.child,r,i,s,!1),du(e,n,i,a,s);else if(32&l){const c=G0(t,r);let u;for(;u=c();)du(e,n,i,u,s);du(e,n,i,a,s)}else 16&l?_N(n,e,r,t,i,s):du(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Wh(n,e,t,r,i,s){eC(t,r,n.firstChild,e,i,s,!1)}function _N(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)du(e,n,i,l[c],s);else eC(n,e,l,o[3],i,s,!0)}function yN(n,e,t){An(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function tC(n,e,t){An(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function vN(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const bN="ng-template";function eY(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==vN(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function wN(n){return 4===n.type&&n.value!==bN}function tY(n,e,t){return e===(4!==n.type||t?n.value:bN)}function nY(n,e,t){let r=4;const i=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(cP(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!tY(n,l,t)||""===l&&1===e.length){if(Ds(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!eY(n.attrs,c,t)){if(Ds(r))return!1;o=!0}continue}const h=rY(8&r?"class":l,i,wN(n),t);if(-1===h){if(Ds(r))return!1;o=!0;continue}if(""!==c){let p;p=h>s?"":i[h+1].toLowerCase();const y=8&r?p:null;if(y&&-1!==vN(y,c,0)||2&r&&c!==p){if(Ds(r))return!1;o=!0}}}}else{if(!o&&!Ds(r)&&!Ds(l))return!1;if(o&&Ds(l))continue;o=!1,r=l|1&r}}return Ds(r)||o}function Ds(n){return 0==(1&n)}function rY(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function CN(n,e,t=!1){for(let r=0;r<e.length;r++)if(nY(n,e[r],t))return!0;return!1}function aY(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function EN(n,e){return n?":not("+e.trim()+")":e}function lY(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ds(o)&&(e+=EN(s,i),i=""),r=o,s=s||!Ds(r);t++}return""!==i&&(e+=EN(s,i)),e}const ht={};function _t(n){DN(Lt(),he(),ai()+n,Sm())}function DN(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Rm(e,s,t)}else{const s=n.preOrderHooks;null!==s&&km(e,s,0,t)}ma(t)}function Ym(n,e){return n<<17|e<<2}function Ts(n){return n>>17&32767}function nC(n){return 2|n}function xo(n){return(131068&n)>>2}function rC(n,e){return-131069&n|e<<2}function iC(n){return 1|n}function NN(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];y0(i),o.contentQueries(2,e[s],s)}}}function qh(n,e,t,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,XO(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function hu(n,e,t,r,i){let s=n.data[e];if(null===s)s=function(n,e,t,r,i){const s=JO(),o=p0(),l=n.data[e]=function(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),ot.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function(){const n=ot.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return js(s,!0),s}function fu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Kh(n,e,t){xm(e);try{const r=n.viewQuery;null!==r&&CC(1,r,t);const i=n.template;null!==i&&FN(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&NN(n,e),n.staticViewQueries&&CC(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)zY(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Am()}}function pu(n,e,t,r){const i=e[2];if(256==(256&i))return;xm(e);const s=Sm();try{XO(e),function(n){ot.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&FN(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&Rm(e,c,null)}else{const c=n.preOrderHooks;null!==c&&km(e,c,0,null),v0(e,0)}if(function(n){for(let e=W0(n);null!==e;e=q0(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&f0(s,1),i[2]|=1024}}}(e),function(n){for(let e=W0(n);null!==e;e=q0(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];h0(r)&&pu(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&NN(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&Rm(e,c)}else{const c=n.contentHooks;null!==c&&km(e,c,1),v0(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ma(~i);else{const s=i,o=t[++r],a=t[++r];GK(o,s),a(2,e[s])}}}finally{ma(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)$Y(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&CC(2,l,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&Rm(e,c)}else{const c=n.viewHooks;null!==c&&km(e,c,2),v0(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,f0(e[3],-1))}finally{Am()}}function DY(n,e,t,r){const i=e[10],s=!Sm(),o=YO(e);try{s&&!o&&i.begin&&i.begin(),o&&Kh(n,e,r),pu(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function FN(n,e,t,r,i){const s=ai(),o=2&r;try{ma(-1),o&&e.length>20&&DN(n,e,20,Sm()),t(r,i)}finally{ma(s)}}function LN(n,e,t){if(o0(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function pC(n,e,t){!ZO()||(function(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Rh(t,e),Kr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=Es(l);c&&VY(e,t,l);const u=kh(e,n,a,t);Kr(u,e),null!==o&&BY(0,a-i,u,l,0,o),c&&(Vi(t.index,e)[8]=u)}}(n,e,t,ss(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=ot.lFrame.currentDirectiveIndex;try{ma(o);for(let l=r;l<i;l++){const c=n.data[l],u=e[l];m0(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&GN(c,u)}}finally{ma(-1),m0(a)}}(n,e,t))}function gC(n,e,t=ss){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function VN(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Jm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Jm(n,e,t,r,i,s,o,a,l,c){const u=20+r,h=u+i,p=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ht);return t}(u,h),y="function"==typeof c?c():c;return p[1]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1}}function jN(n,e,t,r){const i=XN(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&ZN(n).push(r,i.length-1))}function HN(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Hi(n,e,t,r,i,s,o,a){const l=ss(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(tF(n,t,u,r,i),Em(e)&&function(n,e){const t=Vi(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,An(s)?s.setProperty(l,r,i):w0(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function mC(n,e,t,r){let i=!1;if(ZO()){const s=function(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];CN(t,o.selectors,!1)&&(i||(i=[]),Lm(Rh(t,e),n,o.type),Es(o)?(WN(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,qN(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const h=s[u];h.providersResolver&&h.providersResolver(h)}let a=!1,l=!1,c=fu(n,e,s.length,null);for(let u=0;u<s.length;u++){const h=s[u];t.mergedAttrs=Pm(t.mergedAttrs,h.hostAttrs),KN(n,t,e,c,h),LY(c,h,o),null!==h.contentQueries&&(t.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=128);const p=h.type.prototype;!a&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],h=u.inputs,p=null===s||wN(e)?null:UY(h,s);o.push(p),a=HN(h,c,a),l=HN(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new $r("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Pm(t.mergedAttrs,t.attrs),i}function zN(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function GN(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function WN(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function LY(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Es(e)&&(t[""]=n)}}function qN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function KN(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=vl(i.type)),o=new Ah(s,Es(i),null);n.blueprint[r]=o,t[r]=o,zN(n,e,0,r,fu(n,t,i.hostVars,ht),i)}function VY(n,e,t){const r=ss(e,n),i=VN(t),s=n[10],o=e_(n,qh(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function Ws(n,e,t,r,i,s){const o=ss(n,e);!function(n,e,t,r,i,s,o){if(null==s)An(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?st(s):o(s,r||"",i);An(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function BY(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],h=o[l++];null!==a?r.setInput(t,h,c,u):t[u]=h}}}function UY(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function QN(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function $Y(n,e){const t=Vi(e,n);if(h0(t)){const r=t[1];80&t[2]?pu(r,t,r.template,t[8]):t[5]>0&&yC(t)}}function yC(n){for(let r=W0(n);null!==r;r=q0(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];pu(o,s,o.template,s[8])}else s[5]>0&&yC(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Vi(t[r],n);h0(i)&&i[5]>0&&yC(i)}}function zY(n,e){const t=Vi(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Kh(r,t,t[8])}function e_(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function vC(n){for(;n;){n[2]|=64;const e=Gh(n);if(TK(n)&&!e)return n;n=e}return null}function wC(n,e,t){const r=e[10];r.begin&&r.begin();try{pu(n,e,n.template,t)}catch(i){throw eF(e,i),i}finally{r.end&&r.end()}}function YN(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=j0(t),i=r[1];DY(i,r,i.template,t)}}(n[8])}function CC(n,e,t){y0(0),e(n,t)}const QY=(()=>Promise.resolve(null))();function XN(n){return n[7]||(n[7]=[])}function ZN(n){return n.cleanup||(n.cleanup=[])}function eF(n,e){const t=n[9],r=t?t.get(Io,null):null;r&&r.handleError(e)}function tF(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Ao(n,e,t){const r=Tm(e,n);!function(n,e,t){An(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function t_(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=vh(i,a):2==s&&(r=vh(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const EC=new ye("INJECTOR",-1);class nF{get(e,t=Fh){if(t===Fh){const r=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw r.name="NullInjectorError",r}return t}}const DC=new ye("Set Injector scope."),Qh={},ZY={};let TC;function rF(){return void 0===TC&&(TC=new nF),TC}function iF(n,e=null,t=null,r){const i=sF(n,e,t,r);return i._resolveInjectorDefTypes(),i}function sF(n,e=null,t=null,r){return new JY(n,t,e||rF(),r)}class JY{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Hs(t,a=>this.processProvider(a,e,t)),Hs([e],a=>this.processInjectorType(a,[],s)),this.records.set(EC,gu(void 0,this));const o=this.records.get(DC);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Mt(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Fh,r=K.Default){this.assertNotDestroyed();const i=IP(this),s=He(void 0);try{if(!(r&K.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=("function"==typeof(n=e)||"object"==typeof n&&n instanceof ye)&&_(e);a=l&&this.injectableDefInScope(l)?gu(SC(e),Qh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&K.Self?rF():this.parent).get(e,t=r&K.Optional&&t===Fh?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[jm]=o[jm]||[]).unshift(Mt(e)),i)throw o;return function(n,e,t,r){const i=n[jm];throw e[SP]&&i.unshift(e[SP]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Mt(e);if(Array.isArray(e))i=e.map(Mt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Mt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(S7,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[jm]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{He(s),IP(i)}var n}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Mt(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=dt(e)))return!1;let i=R(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=R(s)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(o);try{Hs(i.imports,h=>{this.processInjectorType(h,t,r)&&(void 0===u&&(u=[]),u.push(h))})}finally{}if(void 0!==u)for(let h=0;h<u.length;h++){const{ngModule:p,providers:y}=u[h];Hs(y,D=>this.processProvider(D,p,y||rn))}}this.injectorDefTypes.add(o);const l=vl(o)||(()=>new o);this.records.set(o,gu(l,Qh));const c=i.providers;if(null!=c&&!a){const u=e;Hs(c,h=>this.processProvider(h,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=mu(e=dt(e))?e:dt(e&&e.provide);const s=(n=e,aF(n)?gu(void 0,n.useValue):gu(oF(n),Qh));var n;if(mu(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=gu(void 0,Qh,!0),o.factory=()=>k0(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Qh&&(t.value=ZY,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}injectableDefInScope(e){if(!e.providedIn)return!1;const t=dt(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function SC(n){const e=_(n),t=null!==e?e.factory:vl(n);if(null!==t)return t;if(n instanceof ye)throw new Error(`Token ${Mt(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=Nh(e,"?");throw new Error(`Can't resolve all parameters for ${Mt(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[k]||n[L]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function oF(n,e,t){let r;if(mu(n)){const i=dt(n);return vl(i)||SC(i)}if(aF(n))r=()=>dt(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...k0(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>oe(dt(n.useExisting));else{const i=dt(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return vl(i)||SC(i);r=()=>new i(...k0(n.deps))}return r}function gu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function aF(n){return null!==n&&"object"==typeof n&&x7 in n}function mu(n){return"function"==typeof n}let an=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return iF({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return iF({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Fh,n.NULL=new nF,n.\u0275prov=S({token:n,providedIn:"any",factory:()=>oe(EC)}),n.__NG_ELEMENT_ID__=-1,n})();function g9(n,e){Mm(j0(n)[1],Jn())}function $e(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Es(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=AC(n.inputs),o.declaredInputs=AC(n.declaredInputs),o.outputs=AC(n.outputs);const a=i.hostBindings;a&&v9(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&_9(n,l),c&&y9(n,c),yh(n.inputs,i.inputs),yh(n.declaredInputs,i.declaredInputs),yh(n.outputs,i.outputs),Es(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===$e&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pm(i.hostAttrs,t=Pm(t,i.hostAttrs))}}(r)}function AC(n){return n===qc?{}:n===rn?[]:n}function _9(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function y9(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function v9(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let n_=null;function _u(){if(!n_){const n=Jt.Symbol;if(n&&n.iterator)n_=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(n_=r)}}}return n_}function Yh(n){return!!MC(n)&&(Array.isArray(n)||!(n instanceof Map)&&_u()in n)}function MC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function qs(n,e,t){return n[e]=t}function Qr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Dl(n,e,t,r){const i=Qr(n,e,t);return Qr(n,e+1,r)||i}function Yr(n,e,t,r){const i=he();return Qr(i,Jc(),e)&&(Lt(),Ws(Mn(),i,n,e,t,r)),Yr}function bu(n,e,t,r,i,s){const a=Dl(n,ot.lFrame.bindingIndex,t,i);return So(2),a?e+st(t)+r+st(i)+s:ht}function Ct(n,e,t,r,i,s,o,a){const l=he(),c=Lt(),u=n+20,h=c.firstCreatePass?function(n,e,t,r,i,s,o,a,l){const c=e.consts,u=hu(e,n,4,o||null,ga(c,a));mC(e,t,u,ga(c,l)),Mm(e,u);const h=u.tViews=Jm(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];js(h,!1);const p=l[11].createComment("");Km(c,l,p,h),Kr(p,l),e_(l,l[u]=QN(p,l,p,h)),Dm(h)&&pC(c,l,h),null!=o&&gC(l,h,a)}function i_(n){return function(n,e){return n[e]}(ot.lFrame.contextLView,20+n)}function V(n,e=K.Default){const t=he();return null===t?oe(n,e):mP(Jn(),t,dt(n),e)}function NC(){throw new Error("invalid")}function yt(n,e,t){const r=he();return Qr(r,Jc(),e)&&Hi(Lt(),Mn(),r,n,e,r[11],t,!1),yt}function FC(n,e,t,r,i){const o=i?"class":"style";tF(n,t,e.inputs[o],o,r)}function Be(n,e,t,r){const i=he(),s=Lt(),o=20+n,a=i[11],l=i[o]=Q0(a,e,ot.lFrame.currentNamespace),c=s.firstCreatePass?function(n,e,t,r,i,s,o){const a=e.consts,c=hu(e,n,2,i,ga(a,s));return mC(e,t,c,ga(a,o)),null!==c.attrs&&t_(c,c.attrs,!1),null!==c.mergedAttrs&&t_(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];js(c,!0);const u=c.mergedAttrs;null!==u&&Om(a,l,u);const h=c.classes;null!==h&&tC(a,l,h);const p=c.styles;null!==p&&yN(a,l,p),64!=(64&c.flags)&&Km(s,i,l,c),0===ot.lFrame.elementDepthCount&&Kr(l,i),ot.lFrame.elementDepthCount++,Dm(c)&&(pC(s,i,c),LN(s,c,i)),null!==r&&gC(i,c)}function Ue(){let n=Jn();p0()?g0():(n=n.parent,js(n,!1));const e=n;ot.lFrame.elementDepthCount--;const t=Lt();t.firstCreatePass&&(Mm(t,n),o0(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&FC(t,e,he(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&FC(t,e,he(),e.stylesWithoutHost,!1)}function tr(n,e,t,r){Be(n,e,t,r),Ue()}function Mo(n,e,t){const r=he(),i=Lt(),s=n+20,o=i.firstCreatePass?function(n,e,t,r,i){const s=e.consts,o=ga(s,r),a=hu(e,n,8,"ng-container",o);return null!==o&&t_(a,o,!0),mC(e,t,a,ga(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];js(o,!0);const a=r[s]=r[11].createComment("");Km(i,r,a,o),Kr(a,r),Dm(o)&&(pC(i,r,o),LN(i,o,r)),null!=t&&gC(r,o)}function Ro(){let n=Jn();const e=Lt();p0()?g0():(n=n.parent,js(n,!1)),e.firstCreatePass&&(Mm(e,n),o0(n)&&e.queries.elementEnd(n))}function ci(n,e,t){Mo(n,e,t),Ro()}function Zh(){return he()}function Jh(n){return!!n&&"function"==typeof n.then}const LC=function(n){return!!n&&"function"==typeof n.subscribe};function en(n,e,t,r){const i=he(),s=Lt(),o=Jn();return function(n,e,t,r,i,s,o,a){const l=Dm(r),u=n.firstCreatePass&&ZN(n),h=e[8],p=XN(e);let y=!0;if(3&r.type||a){const N=ss(r,e),z=a?a(N):N,j=p.length,ae=a?fe=>a(Gn(fe[r.index])):r.index;if(An(t)){let fe=null;if(!a&&l&&(fe=function(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==fe)(fe.__ngLastListenerFn__||fe).__ngNextListenerFn__=s,fe.__ngLastListenerFn__=s,y=!1;else{s=VC(r,e,h,s,!1);const Ie=t.listen(z,i,s);p.push(s,Ie),u&&u.push(i,ae,j,j+1)}}else s=VC(r,e,h,s,!0),z.addEventListener(i,s,o),p.push(s),u&&u.push(i,ae,j,o)}else s=VC(r,e,h,s,!1);const D=r.outputs;let M;if(y&&null!==D&&(M=D[i])){const N=M.length;if(N)for(let z=0;z<N;z+=2){const Ke=e[M[z]][M[z+1]].subscribe(s),gt=p.length;p.push(s,Ke),u&&u.push(i,r.index,gt,-(gt+1))}}}(s,i,i[11],o,n,e,!!t,r),en}function HF(n,e,t,r){try{return!1!==t(r)}catch(i){return eF(n,i),!1}}function VC(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?Vi(n.index,e):e;0==(32&e[2])&&vC(a);let l=HF(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=HF(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function ln(n=1){return function(n){return(ot.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,ot.lFrame.contextLView))[8]}(n)}function Y9(n,e){let t=null;const r=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?CN(n,s,!0):aY(r,s))return i}else t=i}return t}function wa(n){const e=he()[16][6];if(!e.projection){const r=e.projection=Nh(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?Y9(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function hr(n,e=0,t){const r=he(),i=Lt(),s=hu(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),g0(),64!=(64&s.flags)&&function(n,e,t){_N(e[11],0,e,t,aN(n,t,e),dN(t.parent||e[6],t,e))}(i,r,s)}function ZF(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Ts(s):xo(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];J9(n[a],e)&&(l=!0,n[a+1]=r?iC(u):nC(u)),a=r?Ts(u):xo(u)}l&&(n[t+1]=r?nC(s):iC(s))}function J9(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&au(n,e)>=0}function Cn(n,e){return function(n,e,t,r){const i=he(),s=Lt(),o=So(2);s.firstUpdatePass&&function(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[ai()],o=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(n,e,t,r){const i=function(n){const e=ot.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ef(t=UC(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=UC(i,n,e,t,r),null===s){let l=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==xo(r))return n[Ts(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=UC(null,n,e,l[1],r),l=ef(l,e.attrs,r),function(n,e,t,r){n[Ts(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ef(r,n[s].hostAttrs,t);return ef(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ts(o),l=xo(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const h=t;u=h[1],(null===u||au(h,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const p=Ts(n[a+1]);n[r+1]=Ym(p,a),0!==p&&(n[p+1]=rC(n[p+1],r)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Ym(a,0),0!==a&&(n[a+1]=rC(n[a+1],r)),a=r;else n[r+1]=Ym(l,0),0===a?a=r:n[l+1]=rC(n[l+1],r),l=r;c&&(n[r+1]=nC(n[r+1])),ZF(n,u,r,!0),ZF(n,u,r,!1),function(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&au(s,e)>=0&&(t[r+1]=iC(t[r+1]))}(e,u,n,r,s),o=Ym(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==ht&&Qr(i,o,e)&&function(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];o_(function(n){return 1==(1&n)}(c)?cL(l,e,t,i,xo(c),o):void 0)||(o_(s)||function(n){return 2==(2&n)}(c)&&(s=cL(l,null,t,i,a,o)),function(n,e,t,r,i){const s=An(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:ji.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=ji.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,Tm(ai(),t),i,s))}(s,s.data[ai()],i,i[11],n,i[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Mt(Ui(n)))),n}(e,t),r,o)}(n,e,null,!0),Cn}function UC(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=ef(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ef(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Bi(n,o,!!t||e[++s]))}return void 0===n?null:n}function cL(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let p=t[i+1];p===ht&&(p=h?rn:void 0);let y=h?x0(p,r):u===r?p:void 0;if(c&&!o_(y)&&(y=x0(l,r)),o_(y)&&(a=y,o))return a;const D=n[i+1];i=o?Ts(D):xo(D)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=x0(l,r))}return a}function o_(n){return void 0!==n}function Qt(n,e=""){const t=he(),r=Lt(),i=n+20,s=r.firstCreatePass?hu(r,i,1,e,null):r.data[i],o=t[i]=function(n,e){return An(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Km(r,t,o,s),js(s,!1)}function Tl(n){return $i("",n,""),Tl}function $i(n,e,t){const r=he(),i=function(n,e,t,r){return Qr(n,Jc(),t)?e+st(t)+r:ht}(r,n,e,t);return i!==ht&&Ao(r,ai(),i),$i}function jC(n,e,t,r,i){const s=he(),o=bu(s,n,e,t,r,i);return o!==ht&&Ao(s,ai(),o),jC}function HC(n,e,t){const r=he();return Qr(r,Jc(),e)&&Hi(Lt(),Mn(),r,n,e,r[11],t,!0),HC}const Sl=void 0;var PX=["en",[["a","p"],["AM","PM"],Sl],[["AM","PM"],Sl,Sl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sl,"{1} 'at' {0}",Sl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Mu={};function AL(n){return n in Mu||(Mu[n]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[n]),Mu[n]}var Ne=(()=>((Ne=Ne||{})[Ne.LocaleId=0]="LocaleId",Ne[Ne.DayPeriodsFormat=1]="DayPeriodsFormat",Ne[Ne.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ne[Ne.DaysFormat=3]="DaysFormat",Ne[Ne.DaysStandalone=4]="DaysStandalone",Ne[Ne.MonthsFormat=5]="MonthsFormat",Ne[Ne.MonthsStandalone=6]="MonthsStandalone",Ne[Ne.Eras=7]="Eras",Ne[Ne.FirstDayOfWeek=8]="FirstDayOfWeek",Ne[Ne.WeekendRange=9]="WeekendRange",Ne[Ne.DateFormat=10]="DateFormat",Ne[Ne.TimeFormat=11]="TimeFormat",Ne[Ne.DateTimeFormat=12]="DateTimeFormat",Ne[Ne.NumberSymbols=13]="NumberSymbols",Ne[Ne.NumberFormats=14]="NumberFormats",Ne[Ne.CurrencyCode=15]="CurrencyCode",Ne[Ne.CurrencySymbol=16]="CurrencySymbol",Ne[Ne.CurrencyName=17]="CurrencyName",Ne[Ne.Currencies=18]="Currencies",Ne[Ne.Directionality=19]="Directionality",Ne[Ne.PluralCase=20]="PluralCase",Ne[Ne.ExtraData=21]="ExtraData",Ne))();const a_="en-US";let ML=a_;function GC(n,e,t,r,i){if(n=dt(n),Array.isArray(n))for(let s=0;s<n.length;s++)GC(n[s],e,t,r,i);else{const s=Lt(),o=he();let a=mu(n)?n:dt(n.provide),l=oF(n);const c=Jn(),u=1048575&c.providerIndexes,h=c.directiveStart,p=c.providerIndexes>>20;if(mu(n)||!n.multi){const y=new Ah(l,i,V),D=qC(a,e,i?u:u+p,h);-1===D?(Lm(Rh(c,o),s,a),WC(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),o.push(y)):(t[D]=y,o[D]=y)}else{const y=qC(a,e,u+p,h),D=qC(a,e,u,u+p),M=y>=0&&t[y],N=D>=0&&t[D];if(i&&!N||!i&&!M){Lm(Rh(c,o),s,a);const z=function(n,e,t,r,i){const s=new Ah(n,t,V);return s.multi=[],s.index=e,s.componentProviders=0,e2(s,i,r&&!t),s}(i?kZ:RZ,t.length,i,r,l);!i&&N&&(t[D].providerFactory=z),WC(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(z),o.push(z)}else WC(s,n,y>-1?y:D,e2(t[i?D:y],l,!i&&r));!i&&r&&N&&t[D].componentProviders++}}}function WC(n,e,t,r){const i=mu(e),s=function(n){return!!n.useClass}(e);if(i||s){const l=(s?dt(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function e2(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function qC(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function RZ(n,e,t,r){return KC(this.multi,[])}function kZ(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=kh(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),KC(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],KC(i,s);return s}function KC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function at(n,e=[]){return t=>{t.providersResolver=(r,i)=>function(n,e,t){const r=Lt();if(r.firstCreatePass){const i=Es(n);GC(t,r.data,r.blueprint,i,!0),GC(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class t2{}class FZ{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${Mt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ko=(()=>{class n{}return n.NULL=new FZ,n})();function LZ(){return ku(Jn(),he())}function ku(n,e){return new Dt(ss(n,e))}let Dt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=LZ,n})();function VZ(n){return n instanceof Dt?n.nativeElement:n}class af{}let Oo=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function(){const n=he(),t=Vi(Jn().index,n);return function(n){return n[11]}(Us(t)?t:n)}(),n})(),jZ=(()=>{class n{}return n.\u0275prov=S({token:n,providedIn:"root",factory:()=>null}),n})();class Ca{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const r2=new Ca("13.1.1"),QC={};function h_(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Gn(s)),Cs(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&h_(l[1],l,c,r)}const o=t.type;if(8&o)h_(n,e,t.child,r);else if(32&o){const a=G0(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=gN(e,t);if(Array.isArray(a))r.push(...a);else{const l=Gh(e[16]);h_(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class lf{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return h_(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Cs(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Y0(e,r),Bm(t,r))}this._attachedToViewContainer=!1}oN(this._lView[1],this._lView)}onDestroy(e){jN(this._lView[1],this._lView,null,e)}markForCheck(){vC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wC(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){Im(!0);try{wC(n,e,t)}finally{Im(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Wh(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class HZ extends lf{constructor(e){super(e),this._view=e}detectChanges(){YN(this._view)}checkNoChanges(){!function(n){Im(!0);try{YN(n)}finally{Im(!1)}}(this._view)}get context(){return null}}class s2 extends ko{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Wr(e);return new YC(t,this.ngModule)}}function o2(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const zZ=new ye("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ZP});class YC extends t2{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(lY).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return o2(this.componentDef.inputs)}get outputs(){return o2(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function(n,e){return{get:(t,r,i)=>{const s=n.get(t,QC,i);return s!==QC||r===QC?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(af,QO),a=s.get(jZ,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function(n,e,t){if(An(n))return n.selectRootElement(e,t===Ar.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Q0(o.createRenderer(null,this.componentDef),c,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),h=this.componentDef.onPush?576:528,p=function(n,e){return{components:[],scheduler:n||ZP,clean:QY,playerHandler:e||null,flags:0}}(),y=Jm(0,null,null,1,0,null,null,null,null,null),D=qh(null,y,p,h,null,null,o,l,a,s);let M,N;xm(D);try{const z=function(n,e,t,r,i,s){const o=t[1];t[20]=n;const l=hu(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(t_(l,c,!0),null!==n&&(Om(i,n,c),null!==l.classes&&tC(i,n,l.classes),null!==l.styles&&yN(i,n,l.styles)));const u=r.createRenderer(n,e),h=qh(t,VN(e),null,e.onPush?64:16,t[20],l,r,u,s||null,null);return o.firstCreatePass&&(Lm(Rh(l,t),o,e.type),WN(o,l),qN(l,t.length,1)),e_(t,h),t[20]=h}(u,this.componentDef,D,o,l);if(u)if(r)Om(l,u,["ng-version",r2.full]);else{const{attrs:j,classes:ae}=function(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ds(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);j&&Om(l,u,j),ae&&ae.length>0&&tC(l,u,ae.join(" "))}if(N=d0(y,20),void 0!==t){const j=N.projection=[];for(let ae=0;ae<this.ngContentSelectors.length;ae++){const fe=t[ae];j.push(null!=fe?Array.from(fe):null)}}M=function(n,e,t,r,i){const s=t[1],o=function(n,e,t){const r=Jn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),KN(n,r,e,fu(n,e,1,null),t));const i=kh(e,n,r.directiveStart,r);Kr(i,e);const s=ss(r,e);return s&&Kr(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=Jn();e.contentQueries(1,o,l.directiveStart)}const a=Jn();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ma(a.index),zN(t[1],a,0,a.directiveStart,a.directiveEnd,e),GN(e,o)),o}(z,this.componentDef,D,p,[g9]),Kh(y,D,null)}finally{Am()}return new qZ(this.componentType,M,ku(N,D),D,N)}}class qZ extends class{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new HZ(i),this.componentType=e}get injector(){return new nu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Po{}class a2{}const Ou=new Map;class u2 extends Po{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new s2(this);const r=ns(e);this._bootstrapComponents=Gs(r.bootstrap),this._r3Injector=sF(e,t,[{provide:Po,useValue:this},{provide:ko,useValue:this.componentFactoryResolver}],Mt(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=an.THROW_IF_NOT_FOUND,r=K.Default){return e===an||e===Po||e===EC?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class XC extends a2{constructor(e){super(),this.moduleType=e,null!==ns(e)&&function(n){const e=new Set;!function t(r){const i=ns(r,!0),s=i.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Mt(e)} vs ${Mt(e.name)}`)}(s,Ou.get(s),r),Ou.set(s,r));const o=Gs(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new u2(this.moduleType,e)}}function d2(n,e,t,r){return function(n,e,t,r,i,s){const o=e+t;return Qr(n,o,i)?qs(n,o+1,s?r.call(s,i):r(i)):cf(n,o+1)}(he(),oi(),n,e,t,r)}function h2(n,e,t,r,i){return function(n,e,t,r,i,s,o){const a=e+t;return Dl(n,a,i,s)?qs(n,a+2,o?r.call(o,i,s):r(i,s)):cf(n,a+2)}(he(),oi(),n,e,t,r,i)}function cf(n,e){const t=n[e];return t===ht?void 0:t}function ZC(n){return e=>{setTimeout(n,void 0,e)}}const kt=class extends ve{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,l=t||(()=>null),c=r;if(e&&"object"==typeof e){const h=e;a=null===(i=h.next)||void 0===i?void 0:i.bind(h),l=null===(s=h.error)||void 0===s?void 0:s.bind(h),c=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}this.__isAsync&&(l=ZC(l),a&&(a=ZC(a)),c&&(c=ZC(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof E&&e.add(u),u}};function hJ(){return this._results[_u()]()}class Pu{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=_u(),r=Pu.prototype;r[t]||(r[t]=hJ)}get changes(){return this._changes||(this._changes=new kt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=os(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Fn=(()=>{class n{}return n.__NG_ELEMENT_ID__=gJ,n})();const fJ=Fn,pJ=class extends fJ{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=qh(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),Kh(t,r,e),new lf(r)}};function gJ(){return f_(Jn(),he())}function f_(n,e){return 4&n.type?new pJ(e,n,ku(n,e)):null}let Ln=(()=>{class n{}return n.__NG_ELEMENT_ID__=mJ,n})();function mJ(){return b2(Jn(),he())}const _J=Ln,y2=class extends _J{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ku(this._hostTNode,this._hostLView)}get injector(){return new nu(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fm(this._hostTNode,this._hostLView);if(dP(e)){const t=tu(e,this._hostLView),r=eu(e);return new nu(t[1].data[r+8],t)}return new nu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=v2(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!("function"==typeof e);let a;if(o)a=t;else{const h=t||{};a=h.index,r=h.injector,i=h.projectableNodes,s=h.ngModuleRef}const l=o?e:new YC(Wr(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule&&c){const h=c.get(Po,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(Cs(r[3])){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const h=r[3],p=new y2(h,h[6],h[3]);p.detach(p.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],wP(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=J0(s,o),l=r[11],c=qm(l,o[7]);return null!==c&&function(n,e,t,r,i,s){r[0]=i,r[6]=e,Wh(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),wP(JC(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=v2(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Y0(this._lContainer,t);r&&(Bm(JC(this._lContainer),t),oN(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Y0(this._lContainer,t);return r&&null!=Bm(JC(this._lContainer),t)?new lf(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function v2(n){return n[8]}function JC(n){return n[8]||(n[8]=[])}function b2(n,e){let t;const r=e[n.index];if(Cs(r))t=r;else{let i;if(8&n.type)i=Gn(r);else{const s=e[11];i=s.createComment("");const o=ss(n,e);El(s,qm(s,o),i,function(n,e){return An(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=QN(r,e,i,n),e_(e,t)}return new y2(t,n,e)}class eE{constructor(e){this.queryList=e,this.matches=null}clone(){return new eE(this.queryList)}setDirty(){this.queryList.setDirty()}}class tE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new tE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==T2(e,t).matches&&this.queries[t].setDirty()}}class w2{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class nE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new nE(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class rE{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new rE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,bJ(t,s)),this.matchTNodeWithReadOption(e,t,Vm(t,e,s,!1,!1))}else r===Fn?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Vm(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Dt||i===Ln||i===Fn&&4&t.type)this.addMatch(t.index,-2);else{const s=Vm(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function bJ(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function CJ(n,e,t,r){return-1===t?function(n,e){return 11&n.type?ku(n,e):4&n.type?f_(n,e):null}(e,n):-2===t?function(n,e,t){return t===Dt?ku(e,n):t===Fn?f_(e,n):t===Ln?b2(e,n):void 0}(n,e,r):kh(n,n[1],t,e)}function C2(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:CJ(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function iE(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=C2(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let h=10;h<u.length;h++){const p=u[h];p[17]===p[3]&&iE(p[1],p,c,r)}if(null!==u[9]){const h=u[9];for(let p=0;p<h.length;p++){const y=h[p];iE(y[1],y,c,r)}}}}}return r}function ft(n){const e=he(),t=Lt(),r=nP();y0(r+1);const i=T2(t,r);if(n.dirty&&YO(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?iE(t,e,r,[]):C2(t,e,i,r);n.reset(s,VZ),n.notifyOnChanges()}return!0}return!1}function Vn(n,e,t){const r=Lt();r.firstCreatePass&&(D2(r,new w2(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),E2(r,he(),e)}function mn(n,e,t,r){const i=Lt();if(i.firstCreatePass){const s=Jn();D2(i,new w2(e,t,r),s.index),function(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}E2(i,he(),t)}function pt(){return n=he(),e=nP(),n[19].queries[e].queryList;var n,e}function E2(n,e,t){const r=new Pu(4==(4&t));jN(n,e,r,r.destroy),null===e[19]&&(e[19]=new tE),e[19].queries.push(new eE(r))}function D2(n,e,t){null===n.queries&&(n.queries=new nE),n.queries.track(new rE(e,t))}function T2(n,e){return n.queries.getByIndex(e)}function p_(n,e){return f_(n,e)}function __(...n){}const hf=new ye("Application Initializer");let Fu=(()=>{class n{constructor(t){this.appInits=t,this.resolve=__,this.reject=__,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Jh(s))t.push(s);else if(LC(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(oe(hf,8))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();const ff=new ye("AppId"),$J={provide:ff,useFactory:function(){return`${uE()}${uE()}${uE()}`},deps:[]};function uE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const H2=new ye("Platform Initializer"),No=new ye("Platform ID"),$2=new ye("appBootstrapListener");let z2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();const Fo=new ye("LocaleId"),G2=new ye("DefaultCurrencyCode");class zJ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let y_=(()=>{class n{compileModuleSync(t){return new XC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Gs(ns(t).declarations).reduce((o,a)=>{const l=Wr(a);return l&&o.push(new YC(l)),o},[]);return new zJ(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();const WJ=(()=>Promise.resolve(0))();function dE(n){"undefined"==typeof Zone?WJ.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class nt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kt(!1),this.onMicrotaskEmpty=new kt(!1),this.onStable=new kt(!1),this.onError=new kt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=Jt.requestAnimationFrame,e=Jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Jt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,fE(n),n.isCheckStableRunning=!0,hE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),fE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return W2(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),q2(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return W2(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),q2(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,fE(n),hE(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(nt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,KJ,__,__);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const KJ={};function hE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function W2(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function q2(n){n._nesting--,hE(n)}class XJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kt,this.onMicrotaskEmpty=new kt,this.onStable=new kt,this.onError=new kt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let pE=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nt.assertNotInAngularZone(),dE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dE(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(oe(nt))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),K2=(()=>{class n{constructor(){this._applications=new Map,gE.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return gE.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();class ZJ{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let As,gE=new ZJ;const Q2=new ye("AllowMultipleToken");class Y2{constructor(e,t){this.name=e,this.token=t}}function X2(n,e,t=[]){const r=`Platform: ${e}`,i=new ye(r);return(s=[])=>{let o=Z2();if(!o||o.injector.get(Q2,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:DC,useValue:"platform"});!function(n){if(As&&!As.destroyed&&!As.injector.get(Q2,!1))throw new $r("400","");As=n.get(J2);const e=n.get(H2,null);e&&e.forEach(t=>t())}(an.create({providers:a,name:r}))}return function(n){const e=Z2();if(!e)throw new $r("401","");return e}()}}function Z2(){return As&&!As.destroyed?As:null}let J2=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function(n,e){let t;return t="noop"===n?new XJ:("zone.js"===n?void 0:n)||new nt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:nt,useValue:a}];return a.run(()=>{const c=an.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),h=u.injector.get(Io,null);if(!h)throw new $r("402","");return a.runOutsideAngular(()=>{const p=a.onError.subscribe({next:y=>{h.handleError(y)}});u.onDestroy(()=>{mE(this._modules,u),p.unsubscribe()})}),function(n,e,t){try{const r=t();return Jh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(h,a,()=>{const p=u.injector.get(Fu);return p.runInitializers(),p.donePromise.then(()=>(function(n){Gr(n,"Expected localeId to be defined"),"string"==typeof n&&(ML=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Fo,a_)||a_),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,r=[]){const i=eV({},r);return function(n,e,t){const r=new XC(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Il);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new $r("403","");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $r("404","");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(oe(an))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();function eV(n,e){return Array.isArray(e)?e.reduce(eV,n):Object.assign(Object.assign({},n),e)}let Il=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new W(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new W(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{nt.assertNotInAngularZone(),dE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{nt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),h.unsubscribe()}});this.isStable=Hr(a,l.pipe(mh()))}bootstrap(t,r){if(!this._initStatus.done)throw new $r("405","");let i;i=t instanceof t2?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Po),a=i.create(an.NULL,[],r||i.selector,s),l=a.location.nativeElement,c=a.injector.get(pE,null),u=c&&a.injector.get(K2);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),mE(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new $r("101","");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;mE(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get($2,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(oe(nt),oe(an),oe(Io),oe(ko),oe(Fu))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();function mE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let nV=!0,zi=(()=>{class n{}return n.__NG_ELEMENT_ID__=cee,n})();function cee(n){return function(n,e,t){if(Em(n)&&!t){const r=Vi(n.index,e);return new lf(r,r)}return 47&n.type?new lf(e[16],e):null}(Jn(),he(),16==(16&n))}class cV{constructor(){}supports(e){return Yh(e)}create(e){return new mee(e)}}const gee=(n,e)=>e;class mee{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gee}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<dV(r,i,s)?t:r,a=dV(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let p=0;p<c;p++){const y=p<s.length?s[p]:s[p]=0,D=y+p;u<=D&&D<c&&(s[p]=y+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Yh(e))throw new Error(`Error trying to diff '${Mt(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[_u()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new _ee(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new uV),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uV),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _ee{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yee{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class uV{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new yee,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dV(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class hV{constructor(){}supports(e){return e instanceof Map||MC(e)}create(){return new vee}}class vee{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||MC(e)))throw new Error(`Error trying to diff '${Mt(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new bee(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class bee{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fV(){return new Ys([new cV])}let Ys=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||fV()),deps:[[n,new ya,new jt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=S({token:n,providedIn:"root",factory:fV}),n})();function pV(){return new Lu([new hV])}let Lu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||pV()),deps:[[n,new ya,new jt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=S({token:n,providedIn:"root",factory:pV}),n})();const Cee=[new hV],Dee=new Ys([new cV]),Tee=new Lu(Cee),See=X2(null,"core",[{provide:No,useValue:"unknown"},{provide:J2,deps:[an]},{provide:K2,deps:[]},{provide:z2,deps:[]}]),Ree=[{provide:Il,useClass:Il,deps:[nt,an,Io,ko,Fu]},{provide:zZ,deps:[nt],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Fu,useClass:Fu,deps:[[new jt,hf]]},{provide:y_,useClass:y_,deps:[]},$J,{provide:Ys,useFactory:function(){return Dee},deps:[]},{provide:Lu,useFactory:function(){return Tee},deps:[]},{provide:Fo,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||a_},deps:[[new Bh(Fo),new jt,new ya]]},{provide:G2,useValue:"USD"}];let Oee=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(oe(Il))},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:Ree}),n})(),b_=null;function Xs(){return b_}const Ot=new ye("DocumentToken");let Al=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:function(){return oe(gV)},providedIn:"platform"}),n})();const Vee=new ye("Location Initialized");let gV=(()=>{class n extends Al{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xs().getBaseHref(this._doc)}onPopState(t){const r=Xs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Xs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){mV()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){mV()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(oe(Ot))},n.\u0275prov=S({token:n,factory:function(){return new gV(oe(Ot))},providedIn:"platform"}),n})();function mV(){return!!window.history.pushState}function wE(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function _V(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Lo(n){return n&&"?"!==n[0]?"?"+n:n}let Vu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:function(){return function(n){const e=oe(Ot).location;return new yV(oe(Al),e&&e.origin||"")}()},providedIn:"root"}),n})();const CE=new ye("appBaseHref");let yV=(()=>{class n extends Vu{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return wE(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Lo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Lo(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Lo(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(oe(Al),oe(CE,8))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),jee=(()=>{class n extends Vu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=wE(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Lo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Lo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(oe(Al),oe(CE,8))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),w_=(()=>{class n{constructor(t,r){this._subject=new kt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=_V(vV(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Lo(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,vV(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lo(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lo(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Lo,n.joinWithSlash=wE,n.stripTrailingSlash=_V,n.\u0275fac=function(t){return new(t||n)(oe(Vu),oe(Al))},n.\u0275prov=S({token:n,factory:function(){return new w_(oe(Vu),oe(Al))},providedIn:"root"}),n})();function vV(n){return n.replace(/\/index.html$/,"")}var Wn=(()=>((Wn=Wn||{})[Wn.Zero=0]="Zero",Wn[Wn.One=1]="One",Wn[Wn.Two=2]="Two",Wn[Wn.Few=3]="Few",Wn[Wn.Many=4]="Many",Wn[Wn.Other=5]="Other",Wn))();const Yee=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=AL(e);if(t)return t;const r=e.split("-")[0];if(t=AL(r),t)return t;if("en"===r)return PX;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[Ne.PluralCase]};class R_{}let Tte=(()=>{class n extends R_{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Yee(r||this.locale)(t)){case Wn.Zero:return"zero";case Wn.One:return"one";case Wn.Two:return"two";case Wn.Few:return"few";case Wn.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(oe(Fo))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();function xV(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let AV=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Yh(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Mt(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(V(Ys),V(Lu),V(Dt),V(Oo))},n.\u0275dir=ge({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ite{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let RE=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ite(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),MV(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{MV(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(V(Ln),V(Fn),V(Ys))},n.\u0275dir=ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function MV(n,e){n.context.$implicit=e.item}let mf=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new xte,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){RV("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){RV("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(V(Ln),V(Fn))},n.\u0275dir=ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class xte{constructor(){this.$implicit=null,this.ngIf=null}}function RV(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Mt(e)}'.`)}class kE{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let k_=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ge({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),kV=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new kE(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(V(Ln),V(Fn),V(k_,9))},n.\u0275dir=ge({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Ml=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[{provide:R_,useClass:Tte}]}),n})();const NV="browser";function NE(n){return n===NV}let rne=(()=>{class n{}return n.\u0275prov=S({token:n,providedIn:"root",factory:()=>new ine(oe(Ot),window)}),n})();class ine{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=FV(this.window.history)||FV(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function FV(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class LV{}class FE extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new FE,b_||(b_=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(_f=_f||document.querySelector("base"),_f?_f.getAttribute("href"):null);return null==t?null:function(n){O_=O_||document.createElement("a"),O_.setAttribute("href",n);const e=O_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_f=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xV(document.cookie,e)}}let O_,_f=null;const VV=new ye("TRANSITION_ID"),une=[{provide:hf,useFactory:function(n,e,t){return()=>{t.get(Fu).donePromise.then(()=>{const r=Xs(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[VV,Ot,an],multi:!0}];class LE{static init(){var n;n=new LE,gE=n}addToWindow(e){Jt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Jt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Jt.getAllAngularRootElements=()=>e.getAllRootElements(),Jt.frameworkStabilizers||(Jt.frameworkStabilizers=[]),Jt.frameworkStabilizers.push(r=>{const i=Jt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Xs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let dne=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();const P_=new ye("EventManagerPlugins");let N_=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(oe(P_),oe(nt))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();class BV{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Xs().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let UV=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),yf=(()=>{class n extends UV{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(jV),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(jV))}}return n.\u0275fac=function(t){return new(t||n)(oe(Ot))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();function jV(n){Xs().remove(n)}const VE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},BE=/%COMP%/g;function F_(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?F_(n,i,t):(i=i.replace(BE,n),t.push(i))}return t}function zV(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let L_=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new UE(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Ar.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new _ne(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Ar.ShadowDom:return new yne(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=F_(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(oe(N_),oe(yf),oe(ff))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();class UE{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(VE[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=VE[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=VE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ji.DashCase|ji.Important)?e.style.setProperty(t,r,i&ji.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ji.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,zV(r)):this.eventManager.addEventListener(e,t,zV(r))}}class _ne extends UE{constructor(e,t,r,i){super(e),this.component=r;const s=F_(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(BE,i+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(BE,i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class yne extends UE{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=F_(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let vne=(()=>{class n extends BV{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(oe(Ot))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();const WV=["alt","control","meta","shift"],wne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qV={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Cne={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ene=(()=>{class n extends BV{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(WV.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&qV.hasOwnProperty(e)&&(e=qV[e]))}return wne[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WV.forEach(s=>{s!=i&&Cne[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(oe(Ot))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();const xne=X2(See,"browser",[{provide:No,useValue:NV},{provide:H2,useValue:function(){FE.makeCurrent(),LE.init()},multi:!0},{provide:Ot,useFactory:function(){return n=document,c0=n,document;var n},deps:[]}]),Ane=[{provide:DC,useValue:"root"},{provide:Io,useFactory:function(){return new Io},deps:[]},{provide:P_,useClass:vne,multi:!0,deps:[Ot,nt,No]},{provide:P_,useClass:Ene,multi:!0,deps:[Ot]},{provide:L_,useClass:L_,deps:[N_,yf,ff]},{provide:af,useExisting:L_},{provide:UV,useExisting:yf},{provide:yf,useClass:yf,deps:[Ot]},{provide:pE,useClass:pE,deps:[nt]},{provide:N_,useClass:N_,deps:[P_,nt]},{provide:LV,useClass:dne,deps:[]}];let KV=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:ff,useValue:t.appId},{provide:VV,useExisting:ff},une]}}}return n.\u0275fac=function(t){return new(t||n)(oe(n,12))},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:Ane,imports:[Ml,Oee]}),n})();"undefined"!=typeof window&&window;let HE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:function(t){let r=null;return r=t?new(t||n):oe(XV),r},providedIn:"root"}),n})(),XV=(()=>{class n extends HE{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Wt.NONE:return r;case Wt.HTML:return $s(r,"HTML")?Ui(r):zP(this._doc,String(r)).toString();case Wt.STYLE:return $s(r,"Style")?Ui(r):r;case Wt.SCRIPT:if($s(r,"Script"))return Ui(r);throw new Error("unsafe value used in a script context");case Wt.URL:return FP(r),$s(r,"URL")?Ui(r):jh(String(r));case Wt.RESOURCE_URL:if($s(r,"ResourceURL"))return Ui(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(n){return new $7(n)}(t)}bypassSecurityTrustStyle(t){return function(n){return new z7(n)}(t)}bypassSecurityTrustScript(t){return function(n){return new G7(n)}(t)}bypassSecurityTrustUrl(t){return function(n){return new W7(n)}(t)}bypassSecurityTrustResourceUrl(t){return function(n){return new q7(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(oe(Ot))},n.\u0275prov=S({token:n,factory:function(t){let r=null;return r=t?new t:function(n){return new XV(n.get(Ot))}(oe(an)),r},providedIn:"root"}),n})();const{isArray:Une}=Array,{getPrototypeOf:jne,prototype:Hne,keys:$ne}=Object;function ZV(n){if(1===n.length){const e=n[0];if(Une(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&jne(n)===Hne}(e)){const t=$ne(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Gne}=Array;function $E(n){return Oe(e=>function(n,e){return Gne(e)?n(...e):n(e)}(n,e))}function JV(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function eB(...n){const e=fm(n),{args:t,keys:r}=ZV(n),i=new W(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;si(t[u]).subscribe(new qe(s,p=>{h||(h=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(r?JV(r,a):a),s.complete())}))}});return e?i.pipe($E(e)):i}let tB=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(V(Oo),V(Dt))},n.\u0275dir=ge({type:n}),n})(),Rl=(()=>{class n extends tB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ge({type:n,features:[$e]}),n})();const Zs=new ye("NgValueAccessor"),qne={provide:Zs,useExisting:qt(()=>zE),multi:!0};let zE=(()=>{class n extends Rl{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ge({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&en("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[at([qne]),$e]}),n})();const Kne={provide:Zs,useExisting:qt(()=>GE),multi:!0},Yne=new ye("CompositionEventMode");let GE=(()=>{class n extends tB{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Xs()?Xs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(V(Oo),V(Dt),V(Yne,8))},n.\u0275dir=ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&en("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[at([Kne]),$e]}),n})();function Da(n){return null==n||0===n.length}function nB(n){return null!=n&&"number"==typeof n.length}const Xr=new ye("NgValidators"),Ta=new ye("NgAsyncValidators"),Xne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Zne{static min(e){return n=e,e=>{if(Da(e.value)||Da(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null};var n}static max(e){return n=e,e=>{if(Da(e.value)||Da(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null};var n}static required(e){return sB(e)}static requiredTrue(e){return oB(e)}static email(e){return Da((n=e).value)||Xne.test(n.value)?null:{email:!0};var n}static minLength(e){return n=e,e=>Da(e.value)||!nB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null;var n}static maxLength(e){return n=e,e=>nB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null;var n}static pattern(e){return function(n){if(!n)return vf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Da(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return mB(e)}static composeAsync(e){return _B(e)}}function sB(n){return Da(n.value)?{required:!0}:null}function oB(n){return!0===n.value?null:{required:!0}}function vf(n){return null}function dB(n){return null!=n}function hB(n){const e=Jh(n)?bn(n):n;return LC(e),e}function fB(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function pB(n,e){return e.map(t=>t(n))}function gB(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function mB(n){if(!n)return null;const e=n.filter(dB);return 0==e.length?null:function(t){return fB(pB(t,e))}}function WE(n){return null!=n?mB(gB(n)):null}function _B(n){if(!n)return null;const e=n.filter(dB);return 0==e.length?null:function(t){return eB(pB(t,e).map(hB)).pipe(Oe(fB))}}function qE(n){return null!=n?_B(gB(n)):null}function yB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vB(n){return n._rawValidators}function bB(n){return n._rawAsyncValidators}function KE(n){return n?Array.isArray(n)?n:[n]:[]}function V_(n,e){return Array.isArray(n)?n.includes(e):n===e}function wB(n,e){const t=KE(e);return KE(n).forEach(i=>{V_(t,i)||t.push(i)}),t}function CB(n,e){return KE(e).filter(t=>!V_(n,t))}class EB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Bo extends EB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hi extends EB{get formDirective(){return null}get path(){return null}}class DB{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let TB=(()=>{class n extends DB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(V(Bo,2))},n.\u0275dir=ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Cn("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[$e]}),n})(),SB=(()=>{class n extends DB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(V(hi,10))},n.\u0275dir=ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Cn("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[$e]}),n})();function bf(n,e){XE(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&IB(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&IB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function j_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),$_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function H_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XE(n,e){const t=vB(n);null!==e.validator?n.setValidators(yB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=bB(n);null!==e.asyncValidator?n.setAsyncValidators(yB(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();H_(e._rawValidators,i),H_(e._rawAsyncValidators,i)}function $_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=vB(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=bB(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return H_(e._rawValidators,r),H_(e._rawAsyncValidators,r),t}function IB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xB(n,e){XE(n,e)}function AB(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function z_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const wf="VALID",G_="INVALID",Bu="PENDING",Cf="DISABLED";function eD(n){return(nD(n)?n.validators:n)||null}function MB(n){return Array.isArray(n)?WE(n):n||null}function tD(n,e){return(nD(e)?e.asyncValidators:n)||null}function RB(n){return Array.isArray(n)?qE(n):n||null}function nD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class rD{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=MB(this._rawValidators),this._composedAsyncValidatorFn=RB(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wf}get invalid(){return this.status===G_}get pending(){return this.status==Bu}get disabled(){return this.status===Cf}get enabled(){return this.status!==Cf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=MB(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=RB(e)}addValidators(e){this.setValidators(wB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CB(e,this._rawAsyncValidators))}hasValidator(e){return V_(this._rawValidators,e)}hasAsyncValidator(e){return V_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cf,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wf,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wf||this.status===Bu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cf:wf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bu,this._hasOwnPendingAsyncValidator=!0;const t=hB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof iD?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof dre&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new kt,this.statusChanges=new kt}_calculateStatus(){return this._allControlsDisabled()?Cf:this.errors?G_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bu)?Bu:this._anyControlsHaveStatus(G_)?G_:wf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class W_ extends rD{constructor(e=null,t,r){super(eD(t),tD(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){z_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){z_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class iD extends rD{constructor(e,t,r){super(eD(t),tD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof W_?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class dre extends rD{constructor(e,t,r){super(eD(t),tD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof W_?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const hre={provide:hi,useExisting:qt(()=>Df)},Ef=(()=>Promise.resolve(null))();let Df=(()=>{class n extends hi{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new kt,this.form=new iD({},WE(t),qE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ef.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),bf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ef.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),z_(this._directives,t)})}addFormGroup(t){Ef.then(()=>{const r=this._findContainer(t.path),i=new iD({});xB(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ef.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ef.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,AB(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(V(Xr,10),V(Ta,10))},n.\u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&en("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[at([hre]),$e]}),n})();const pre={provide:Bo,useExisting:qt(()=>sD)},PB=(()=>Promise.resolve(null))();let sD=(()=>{class n extends Bo{constructor(t,r,i,s){super(),this.control=new W_,this._registered=!1,this.update=new kt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===GE?t=s:function(n){return Object.getPrototypeOf(n.constructor)===Rl}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){PB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;PB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(V(hi,9),V(Xr,10),V(Ta,10),V(Zs,10))},n.\u0275dir=ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[at([pre]),$e,dr]}),n})(),NB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),LB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({}),n})();const bre={provide:hi,useExisting:qt(()=>q_)};let q_=(()=>{class n extends hi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new kt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return bf(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){j_(t.control||null,t,!1),z_(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,AB(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(j_(r||null,t),i instanceof W_&&(bf(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);xB(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return $_(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XE(this.form,this),this._oldForm&&$_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(V(Xr,10),V(Ta,10))},n.\u0275dir=ge({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&en("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[at([bre]),$e,dr]}),n})();const kre={provide:Xr,useExisting:qt(()=>uD),multi:!0},Ore={provide:Xr,useExisting:qt(()=>dD),multi:!0};let uD=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?sB(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ge({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Yr("required",r.required?"":null)},inputs:{required:"required"},features:[at([kre])]}),n})(),dD=(()=>{class n extends uD{validate(t){return this.required?oB(t):null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ge({type:n,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Yr("required",r.required?"":null)},features:[at([Ore]),$e]}),n})(),Vre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[LB]]}),n})(),Bre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[Vre]}),n})();function Q_(n){return new W(e=>{si(n()).subscribe(e)})}function hD(n,e){const t=d(n)?n:()=>n,r=i=>i.error(t());return new W(e?i=>e.schedule(r,0,i):r)}const Ure=["addListener","removeListener"],jre=["addEventListener","removeEventListener"],Hre=["on","off"];function Uo(n,e,t,r){if(d(t)&&(r=t,t=void 0),r)return Uo(n,e,t).pipe($E(r));const[i,s]=function(n){return d(n.addEventListener)&&d(n.removeEventListener)}(n)?jre.map(o=>a=>n[o](e,a,t)):function(n){return d(n.addListener)&&d(n.removeListener)}(n)?Ure.map(eU(n,e)):function(n){return d(n.on)&&d(n.off)}(n)?Hre.map(eU(n,e)):[];if(!i&&lh(n))return xn(o=>Uo(o,e,t))(si(n));if(!i)throw new TypeError("Invalid event target");return new W(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function eU(n,e){return t=>r=>n[t](e,r)}function Ye(...n){return bn(n,ts(n))}function Tf(...n){return Bs(1)(bn(n,ts(n)))}const Sa=new W(de);function Zr(n,e){return ke((t,r)=>{let i=0;t.subscribe(new qe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function us(n,e){return ke((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(new qe(r,l=>{null==i||i.unsubscribe();let c=0;const u=s++;si(n(l,u)).subscribe(i=new qe(r,h=>r.next(e?e(l,h,u,c++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function tU(){return ke((n,e)=>{let t=null;n._refCount++;const r=new qe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class nU extends W{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Me(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new E;const t=this.getSubject();e.add(this.source.subscribe(new qe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=E.EMPTY)}return e}refCount(){return tU()(this)}}const Kre={connector:()=>new ve};function rU(n,e=Kre){const{connector:t}=e;return ke((r,i)=>{const s=t();bn(n(function(n){return new W(e=>n.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}function ir(n,e,t){const r=d(n)||e||t?{next:n,error:e,complete:t}:n;return r?ke((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new qe(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):_e}class Xre extends E{constructor(e,t){super()}schedule(e,t=0){return this}}const Y_={setInterval(...n){const{delegate:e}=Y_;return((null==e?void 0:e.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:e}=Y_;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class X_ extends Xre{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Y_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;Y_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,w(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const iU={now:()=>(iU.delegate||Date).now(),delegate:void 0};class Sf{constructor(e,t=Sf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Sf.now=iU.now;class Z_ extends Sf{constructor(e,t=Sf.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const J_=new Z_(X_),sU=J_;function oU(n,e){return e?t=>Tf(e.pipe(pn(1),ke((n,e)=>{n.subscribe(new qe(e,de))})),t.pipe(oU(n))):xn((t,r)=>n(t,r).pipe(pn(1),function(n){return Oe(()=>n)}(t)))}function fD(n=0,e,t=sU){let r=-1;return null!=e&&(hm(e)?t=e:r=e),new W(i=>{let s=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const If="Service workers are disabled or not supported by this browser";class ey{constructor(e){if(this.serviceWorker=e,e){const r=Uo(e,"controllerchange").pipe(Oe(()=>e.controller)),s=Tf(Q_(()=>Ye(e.controller)),r);this.worker=s.pipe(Zr(u=>!!u)),this.registration=this.worker.pipe(us(()=>e.getRegistration()));const c=Uo(e,"message").pipe(Oe(u=>u.data)).pipe(Zr(u=>u&&u.type)).pipe(function(n){return n?e=>rU(n)(e):e=>function(n,e){const t=d(n)?n:()=>n;return d(e)?rU(e,{connector:t}):r=>new nU(r,t)}(new ve)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=(If,Q_(()=>hD(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(e,t){return this.worker.pipe(pn(1),ir(r=>{r.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Zr(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(pn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Zr(t=>t.nonce===e),pn(1),Oe(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let rie=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new ve,!t.isEnabled)return this.messages=Sa,this.notificationClicks=Sa,void(this.subscription=Sa);this.messages=this.sw.eventsOfType("PUSH").pipe(Oe(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Oe(i=>i.data)),this.pushManager=this.sw.registration.pipe(Oe(i=>i.pushManager));const r=this.pushManager.pipe(us(i=>i.getSubscription()));this.subscription=Hr(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(If));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(us(o=>o.subscribe(r)),pn(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(pn(1),us(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(If))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(oe(ey))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),aU=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Sa,this.available=Sa,this.activated=Sa,void(this.unrecoverable=Sa);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(Zr(r=>"VERSION_READY"===r.type),Oe(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(If));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(If));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(oe(ey))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();class ty{}const lU=new ye("NGSW_REGISTER_SCRIPT");function iie(n,e,t,r){return()=>{if(!NE(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)s=t.registrationStrategy();else{const[a,...l]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=Ye(null);break;case"registerWithDelay":s=cU(+l[0]||0);break;case"registerWhenStable":s=l[0]?Hr(uU(n),cU(+l[0])):uU(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(nt).runOutsideAngular(()=>s.pipe(pn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function cU(n){return Ye(null).pipe(function(n,e=J_){const t=fD(n,e);return oU(()=>t)}(n))}function uU(n){return n.get(Il).isStable.pipe(Zr(t=>t))}function sie(n,e){return new ey(NE(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let oie=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:lU,useValue:t},{provide:ty,useValue:r},{provide:ey,useFactory:sie,deps:[ty,No]},{provide:hf,useFactory:iie,deps:[an,lU,ty,No],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[rie,aU]}),n})();var aie=x(896),ny=x.n(aie);class dU{constructor(){this.items=new Map}addArticle(e){var t;const r=null!==(t=this.items.get(e))&&void 0!==t?t:0;this.items.set(e,0!==r?r+1:1)}clear(){this.items.clear()}get isEmpty(){return 0===this.items.size}get totalPrice(){let e=0;for(const t of this.items.entries())e+=t[0].price*t[1];return e}get contents(){let e=[];for(const t of this.items.entries())e.push(t);return e}}const xf_firebase={projectId:"pwa-gabi",appId:"1:378634587111:web:0ac92eccbc08d1416e0b42",databaseURL:"https://pwa-gabi-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"pwa-gabi.appspot.com",locationId:"europe-west",apiKey:"AIzaSyBDLFa6VLYrkSZ5kmBKIGEK8McImOA0XLM",authDomain:"pwa-gabi.firebaseapp.com",messagingSenderId:"378634587111",measurementId:"G-SV95K1103F"},lie=["rear","back","r\xfcck","arri\xe8re","trasera","tr\xe1s","traseira","posteriore","\u540e\u9762","\u5f8c\u9762","\u80cc\u9762","\u540e\u7f6e","\u5f8c\u7f6e","\u80cc\u7f6e","\u0437\u0430\u0434\u043d\u0435\u0439","\u0627\u0644\u062e\u0644\u0641\u064a\u0629","\ud6c4","arka","achterzijde","\u0e2b\u0e25\u0e31\u0e07","baksidan","bagside","sau","bak","tylny","takakamera","belakang","\u05d0\u05d7\u05d5\u05e8\u05d9\u05ea","\u03c0\u03af\u03c3\u03c9","spate","h\xe1ts\xf3","zadn\xed","darrere","zadn\xe1","\u0437\u0430\u0434\u043d\u044f","stra\u017enja","belakang","\u092c\u0948\u0915"];function Ti(n){return null!=n&&"false"!=`${n}`}function ry(n,e=0){return hU(n)?Number(n):e}function hU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function fU(n){return Array.isArray(n)?n:[n]}function Kn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function jo(n){return n instanceof Dt?n.nativeElement:n}function pD(n){return n&&"function"==typeof n.connect}class pU{applyChanges(e,t,r,i,s){e.forEachOperation((o,a,l)=>{let c,u;if(null==o.previousIndex){const h=r(o,a,l);c=t.createEmbeddedView(h.templateRef,h.context,h.index),u=1}else null==l?(t.remove(a),u=3):(c=t.get(a),t.move(c,l),u=2);s&&s({context:null==c?void 0:c.context,operation:u,record:o})})}detach(){}}const Af=new ye("_ViewRepeater");class Jr extends ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ei(n){return ke((e,t)=>{si(n).subscribe(new qe(t,()=>t.complete(),de)),!t.closed&&e.subscribe(t)})}const fie=new ye("cdk-dir-doc",{providedIn:"root",factory:function(){return R0(Ot)}}),gie=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let gD,Ia=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new kt,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?gie.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(oe(fie,8))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({}),n})();try{gD="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){gD=!1}let Uu,ti=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?NE(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!gD)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(oe(No))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mU=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _U(){if(Uu)return Uu;if("object"!=typeof document||!document)return Uu=new Set(mU),Uu;let n=document.createElement("input");return Uu=new Set(mU.filter(e=>(n.setAttribute("type",e),n.type===e))),Uu}let Rf,kl,mD;function kf(n){return function(){if(null==Rf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Rf=!0}))}finally{Rf=Rf||!1}return Rf}()?n:!!n.capture}function yie(){if(null==kl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return kl=!1,kl;if("scrollBehavior"in document.documentElement.style)kl=!0;else{const n=Element.prototype.scrollTo;kl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return kl}function Ol(n){return n.composedPath?n.composedPath()[0]:n.target}function _D(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const Of={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Of;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new E(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Of;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Of;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class extends Z_{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const s=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this._active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends X_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Of.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(Of.cancelAnimationFrame(t),e._scheduled=void 0)}});let yD,Die=1;const sy={};function yU(n){return n in sy&&(delete sy[n],!0)}const Tie={setImmediate(n){const e=Die++;return sy[e]=!0,yD||(yD=Promise.resolve()),yD.then(()=>yU(e)&&n()),e},clearImmediate(n){yU(n)}},{setImmediate:Sie,clearImmediate:Iie}=Tie,oy={setImmediate(...n){const{delegate:e}=oy;return((null==e?void 0:e.setImmediate)||Sie)(...n)},clearImmediate(n){const{delegate:e}=oy;return((null==e?void 0:e.clearImmediate)||Iie)(n)},delegate:void 0};new class extends Z_{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const s=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this._active=!1,r){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends X_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=oy.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(oy.clearImmediate(t),e._scheduled=void 0)}});function vU(n,e=sU){return function(n){return ke((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(new qe(t,c=>{r=!0,i=c,s||si(n()).subscribe(s=new qe(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>fD(n,e))}let Oie=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new ve,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new W(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(vU(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ye()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Zr(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=jo(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Uo(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(oe(nt),oe(ti),oe(Ot,8))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ju=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ve,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(vU(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(oe(ti),oe(nt),oe(Ot,8))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({}),n})(),bD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[Mf,vD],Mf,vD]}),n})();const Nie=[[["caption"]],[["colgroup"],["col"]]],Fie=["caption","colgroup, col"];function wD(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=Ti(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const Hu=new ye("CDK_TABLE");let $u=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(V(Fn))},n.\u0275dir=ge({type:n,selectors:[["","cdkCellDef",""]]}),n})(),zu=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(V(Fn))},n.\u0275dir=ge({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),ay=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(V(Fn))},n.\u0275dir=ge({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Uie{}const jie=wD(Uie);let Ho=(()=>{class n extends jie{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const r=this._stickyEnd;this._stickyEnd=Ti(t),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(V(Hu,8))},n.\u0275dir=ge({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,i){if(1&t&&(mn(i,$u,5),mn(i,zu,5),mn(i,ay,5)),2&t){let s;ft(s=pt())&&(r.cell=s.first),ft(s=pt())&&(r.headerCell=s.first),ft(s=pt())&&(r.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[at([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),$e]}),n})();class CD{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let ED=(()=>{class n extends CD{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(V(Ho),V(Dt))},n.\u0275dir=ge({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[$e]}),n})(),DD=(()=>{class n extends CD{constructor(t,r){var i;if(super(t,r),1===(null===(i=t._table)||void 0===i?void 0:i._elementRef.nativeElement.nodeType)){const s=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(V(Ho),V(Dt))},n.\u0275dir=ge({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[$e]}),n})();class wU{constructor(){this.tasks=[],this.endTasks=[]}}const TD=new ye("_COALESCED_STYLE_SCHEDULER");let CU=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new ve}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new wU,this._getScheduleObservable().pipe(ei(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new wU;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?bn(Promise.resolve(void 0)):this._ngZone.onStable.pipe(pn(1))}}return n.\u0275fac=function(t){return new(t||n)(oe(nt))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),SD=(()=>{class n{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Pf?t.headerCell.template:this instanceof Nf?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(V(Fn),V(Ys))},n.\u0275dir=ge({type:n,features:[dr]}),n})();class Hie extends SD{}const $ie=wD(Hie);let Pf=(()=>{class n extends $ie{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(V(Fn),V(Ys),V(Hu,8))},n.\u0275dir=ge({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[$e,dr]}),n})();class zie extends SD{}const Gie=wD(zie);let Nf=(()=>{class n extends Gie{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(V(Fn),V(Ys),V(Hu,8))},n.\u0275dir=ge({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[$e,dr]}),n})(),ly=(()=>{class n extends SD{constructor(t,r,i){super(t,r),this._table=i}}return n.\u0275fac=function(t){return new(t||n)(V(Fn),V(Ys),V(Hu,8))},n.\u0275dir=ge({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[$e]}),n})(),$o=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(V(Ln))},n.\u0275dir=ge({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),ID=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=wn({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&ci(0,0)},directives:[$o],encapsulation:2}),n})(),AD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=wn({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&ci(0,0)},directives:[$o],encapsulation:2}),n})(),cy=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(V(Fn))},n.\u0275dir=ge({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const EU=["top","bottom","left","right"];class Wie{constructor(e,t,r,i,s=!0,o=!0,a){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const r=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let s=0;s<i.children.length;s++)r.push(i.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(e,t,r,i=!0){if(!e.length||!this._isBrowser||!t.some(p=>p)&&!r.some(p=>p))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],o=s.children.length,a=this._getCellWidths(s,i),l=this._getStickyStartColumnPositions(a,t),c=this._getStickyEndColumnPositions(a,r),u=t.lastIndexOf(!0),h=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const p="rtl"===this.direction,y=p?"right":"left",D=p?"left":"right";for(const M of e)for(let N=0;N<o;N++){const z=M.children[N];t[N]&&this._addStickyStyle(z,y,l[N],N===u),r[N]&&this._addStickyStyle(z,D,c[N],N===h)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===u?[]:a.slice(0,u+1).map((M,N)=>t[N]?M:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===h?[]:a.slice(h).map((M,N)=>r[N+h]?M:null).reverse()}))})}stickRows(e,t,r){if(!this._isBrowser)return;const i="bottom"===r?e.slice().reverse():e,s="bottom"===r?t.slice().reverse():t,o=[],a=[],l=[];for(let u=0,h=0;u<i.length;u++){if(!s[u])continue;o[u]=h;const p=i[u];l[u]=this._isNativeHtmlTable?Array.from(p.children):[p];const y=p.getBoundingClientRect().height;h+=y,a[u]=y}const c=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var u,h;for(let p=0;p<i.length;p++){if(!s[p])continue;const y=o[p],D=p===c;for(const M of l[p])this._addStickyStyle(M,r,y,D)}"top"===r?null===(u=this._positionListener)||void 0===u||u.stickyHeaderRowsUpdated({sizes:a,offsets:o,elements:l}):null===(h=this._positionListener)||void 0===h||h.stickyFooterRowsUpdated({sizes:a,offsets:o,elements:l})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const r=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);EU.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of EU)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let s=0;s<i.length;s++)r.push(i[s].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let s=0;s<e.length;s++)t[s]&&(r[s]=i,i+=e[s]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let s=e.length;s>0;s--)t[s]&&(r[s]=i,i+=e[s]);return r}}const MD=new ye("CDK_SPL");let uy=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(V(Ln),V(Dt))},n.\u0275dir=ge({type:n,selectors:[["","rowOutlet",""]]}),n})(),dy=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(V(Ln),V(Dt))},n.\u0275dir=ge({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),hy=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(V(Ln),V(Dt))},n.\u0275dir=ge({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),fy=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(V(Ln),V(Dt))},n.\u0275dir=ge({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),py=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,h,p,y){this._differs=t,this._changeDetectorRef=r,this._elementRef=i,this._dir=o,this._platform=l,this._viewRepeater=c,this._coalescedStyleScheduler=u,this._viewportRuler=h,this._stickyPositioningListener=p,this._ngZone=y,this._onDestroy=new ve,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new kt,this.viewChange=new Jr({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Ti(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Ti(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(ei(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),pD(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,s,o)=>this._getEmbeddedViewArgs(i.item,o),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this._ngZone&&nt.isInAngularZone()?this._ngZone.onStable.pipe(pn(1),ei(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=t.length?"":"none");const s=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=t.length?"":"none");const s=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let a=0;a<r.length;a++)this._renderRows[a].rowDef===s&&o.push(r[a]);this._addStickyColumnStyles(o,s)}),i.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let s=this._data[i];const o=this._getRenderRowsForData(s,i,r.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let a=0;a<o.length;a++){let l=o[a];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),t.push(l)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(o=>{const a=i&&i.has(o)?i.get(o):[];if(a.length){const l=a.shift();return l.dataIndex=r,l}return{data:t,rowDef:o,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),gy(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=gy(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=gy(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=gy(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,a)=>o||!!a.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),r||i||s}_switchDataSource(t){this._data=[],pD(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;pD(this.dataSource)?t=this.dataSource.connect(this):function(n){return!!n&&(n instanceof W||d(n.lift)&&d(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Ye(this.dataSource)),this._renderChangeSubscription=t.pipe(ei(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r.columns||[]).map(a=>this._columnDefsByName.get(a)),s=i.map(a=>a.sticky),o=i.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const s=t.viewContainer.get(i);r.push(s.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(s=>!s.when||s.when(r,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(r,t))||this._defaultRowDef;s&&i.push(s)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,s={}){const o=t.viewContainer.createEmbeddedView(r.template,s,i);return this._renderCellTemplateForItem(r,s),o}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))$o.mostRecentCellOutlet&&$o.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const o=t.get(r).context;o.count=i,o.first=0===r,o.last=r===i-1,o.even=r%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[r].dataIndex,o.renderIndex=r):o.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const s=this._document.createElement(i.tag);s.setAttribute("role","rowgroup");for(const o of i.outlets)s.appendChild(o.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Wie(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ye()).pipe(ei(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const s=i.createEmbeddedView(t.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&(null==o?void 0:o.nodeType)===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else i.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(t){return new(t||n)(V(Ys),V(zi),V(Dt),wl("role"),V(Ia,8),V(Ot),V(ti),V(Af),V(TD),V(ju),V(MD,12),V(nt,8))},n.\u0275cmp=wn({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,i){if(1&t&&(mn(i,cy,5),mn(i,Ho,5),mn(i,ly,5),mn(i,Pf,5),mn(i,Nf,5)),2&t){let s;ft(s=pt())&&(r._noDataRow=s.first),ft(s=pt())&&(r._contentColumnDefs=s),ft(s=pt())&&(r._contentRowDefs=s),ft(s=pt())&&(r._contentHeaderRowDefs=s),ft(s=pt())&&(r._contentFooterRowDefs=s)}},viewQuery:function(t,r){if(1&t&&(Vn(uy,7),Vn(dy,7),Vn(hy,7),Vn(fy,7)),2&t){let i;ft(i=pt())&&(r._rowOutlet=i.first),ft(i=pt())&&(r._headerRowOutlet=i.first),ft(i=pt())&&(r._footerRowOutlet=i.first),ft(i=pt())&&(r._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,r){2&t&&Cn("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[at([{provide:Hu,useExisting:n},{provide:Af,useClass:pU},{provide:TD,useClass:CU},{provide:MD,useValue:null}])],ngContentSelectors:Fie,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(wa(Nie),hr(0),hr(1,1),ci(2,0),ci(3,1),ci(4,2),ci(5,3))},directives:[dy,uy,fy,hy],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function gy(n,e){return n.concat(Array.from(e))}let Kie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[bD]]}),n})();function SU(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function IU(n,e=J_){return ke((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(new qe(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function xU(n){return Zr((e,t)=>n<=t)}function AU(n,e=_e){return n=null!=n?n:fse,ke((t,r)=>{let i,s=!0;t.subscribe(new qe(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function fse(n,e){return n===e}let MU=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pse=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=jo(t);return new W(i=>{const o=this._observeElement(r).subscribe(i);return()=>{o.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new ve,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(oe(MU))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RU=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new kt,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ti(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ry(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(IU(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(V(pse),V(Dt),V(nt))},n.\u0275dir=ge({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),RD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[MU]}),n})();class yse extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ve,this._typeaheadSubscription=E.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new ve,this.change=new ve,e instanceof Pu&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ir(t=>this._pressedLetters.push(t)),IU(e),Zr(()=>this._pressedLetters.length>0),Oe(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,o=r[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||SU(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Pu?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function NU(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function FU(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Dse=new ye("cdk-input-modality-detector-options"),Tse={ignoreKeys:[18,17,224,91,16]},Gu=kf({passive:!0,capture:!0});let Sse=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Jr(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Ol(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(NU(o)?"keyboard":"mouse"),this._mostRecentTarget=Ol(o))},this._onTouchstart=o=>{FU(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ol(o))},this._options=Object.assign(Object.assign({},Tse),s),this.modalityDetected=this._modality.pipe(xU(1)),this.modalityChanged=this.modalityDetected.pipe(AU()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Gu),i.addEventListener("mousedown",this._onMousedown,Gu),i.addEventListener("touchstart",this._onTouchstart,Gu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gu),document.removeEventListener("mousedown",this._onMousedown,Gu),document.removeEventListener("touchstart",this._onTouchstart,Gu))}}return n.\u0275fac=function(t){return new(t||n)(oe(ti),oe(nt),oe(Ot),oe(Dse,8))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xse=new ye("cdk-focus-monitor-default-options"),my=kf({passive:!0,capture:!0});let Ase=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ve,this._rootNodeFocusAndBlurListener=a=>{const l=Ol(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,r=!1){const i=jo(t);if(!this._platform.isBrowser||1!==i.nodeType)return Ye(null);const s=function(n){if(function(){if(null==mD){const n="undefined"!=typeof document?document.head:null;mD=!(!n||!n.createShadowRoot&&!n.attachShadow)}return mD}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new ve,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=jo(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=jo(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Ol(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,my),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,my)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ei(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,my),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,my),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(oe(nt),oe(ti),oe(Sse),oe(Ot,8),oe(xse,8))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mse=(()=>{class n{constructor(t,r){this._elementRef=t,this._focusMonitor=r,this.cdkFocusChange=new kt}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>this.cdkFocusChange.emit(r))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(Ase))},n.\u0275dir=ge({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const VU="cdk-high-contrast-black-on-white",BU="cdk-high-contrast-white-on-black",kD="cdk-high-contrast-active";let UU=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(kD),t.remove(VU),t.remove(BU),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(kD),t.add(VU)):2===r&&(t.add(kD),t.add(BU))}}}return n.\u0275fac=function(t){return new(t||n)(oe(ti),oe(Ot))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rse=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(oe(UU))},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[RD]]}),n})();class jU{}const zo="*";function Js(n,e){return{type:7,name:n,definitions:e,options:{}}}function fi(n,e=null){return{type:4,styles:e,timings:n}}function HU(n,e=null){return{type:2,steps:n,options:e}}function Ht(n){return{type:6,styles:n,offset:null}}function sr(n,e,t){return{type:0,name:n,styles:e,options:t}}function Mr(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function GU(n){Promise.resolve(null).then(n)}class Wu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){GU(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class WU{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?GU(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function qU(){return"undefined"!=typeof window&&void 0!==window.document}function PD(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function xa(n){switch(n.length){case 0:return new Wu;case 1:return n[0];default:return new WU(n)}}function KU(n,e,t,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const h=u.offset,p=h==l,y=p&&c||{};Object.keys(u).forEach(D=>{let M=D,N=u[D];if("offset"!==D)switch(M=e.normalizePropertyName(M,o),N){case"!":N=i[D];break;case zo:N=s[D];break;default:N=e.normalizeStyleValue(D,M,N,o)}y[M]=N}),p||a.push(y),c=y,l=h}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function ND(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&FD(t,"start",n)));break;case"done":n.onDone(()=>r(t&&FD(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&FD(t,"destroy",n)))}}function FD(n,e,t){const r=t.totalTime,s=LD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function LD(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Gi(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function QU(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let VD=(n,e)=>!1,YU=(n,e,t)=>[];(PD()||"undefined"!=typeof Element)&&(VD=qU()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),YU=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let s=0;s<i.length;s++)r.push(i[s])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let Pl=null,XU=!1;function BD(n){Pl||(Pl=("undefined"!=typeof document?document.body:null)||{},XU=!!Pl.style&&"WebkitAppearance"in Pl.style);let e=!0;return Pl.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Pl.style,!e&&XU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Pl.style)),e}const UD=VD,jD=YU;function ZU(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let JU=(()=>{class n{validateStyleProperty(t){return BD(t)}matchesElement(t,r){return!1}containsElement(t,r){return UD(t,r)}query(t,r,i){return jD(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Wu(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),HD=(()=>{class n{}return n.NOOP=new JU,n})();const $D="ng-enter",yy="ng-leave",vy="ng-trigger",by=".ng-trigger",tj="ng-animating",zD=".ng-animating";function Nl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:GD(parseFloat(e[1]),e[2])}function GD(n,e){return"s"===e?1e3*n:n}function wy(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=GD(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=GD(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:s,easing:o}}(n,e,t)}function qu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Aa(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else qu(n,t);return t}function rj(n,e,t){return t?e+":"+t+";":""}function ij(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=rj(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=rj(0,Use(t),n.style[t]));n.setAttribute("style",e)}function eo(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=qD(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),PD()&&ij(n))}function Fl(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=qD(t);n.style[r]=""}),PD()&&ij(n))}function Ff(n){return Array.isArray(n)?1==n.length?n[0]:HU(n):n}const WD=new RegExp("{{\\s*(.+?)\\s*}}","g");function sj(n){let e=[];if("string"==typeof n){let t;for(;t=WD.exec(n);)e.push(t[1]);WD.lastIndex=0}return e}function Cy(n,e,t){const r=n.toString(),i=r.replace(WD,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return i==r?n:i}function Ey(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Bse=/-+([a-z0-9])/g;function qD(n){return n.replace(Bse,(...e)=>e[1].toUpperCase())}function Use(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function oj(n,e){return 0===n||0===e}function aj(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(l){a[l]=KD(n,l)})}}return e}function Wi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function KD(n,e){return window.getComputedStyle(n)[e]}function jse(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const l=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(lj(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(lj(o,i))}(r,t,e)):t.push(n),t}const Ty=new Set(["true","1"]),Sy=new Set(["false","0"]);function lj(n,e){const t=Ty.has(n)||Sy.has(n),r=Ty.has(e)||Sy.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Ty.has(n):Sy.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Ty.has(e):Sy.has(e)),o&&a}}const zse=new RegExp("s*:selfs*,?","g");function QD(n,e,t){return new Gse(n).build(e,t)}class Gse{constructor(e){this._driver=e}build(e,t){const r=new Kse(t);return this._resetContextStyleTimingState(r),Wi(this,Ff(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};if(r.styles.forEach(a=>{if(Iy(a)){const l=a;Object.keys(l).forEach(c=>{sj(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size){const a=Ey(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Wi(this,Ff(e.animation),t);return{type:1,matchers:jse(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ll(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Wi(this,r,t)),options:Ll(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Wi(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Ll(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return YD(wy(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=YD(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||wy(r,e),YD(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Ht({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=Ht(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==zo?r.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(Iy(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let c in a)if(a[c].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=sj(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(z=>{const j=this._makeStyleAst(z,t);let ae=null!=j.offset?j.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Iy(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Iy(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(j.styles),fe=0;return null!=ae&&(s++,fe=j.offset=ae),l=l||fe<0||fe>1,a=a||fe<c,c=fe,o.push(fe),j});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const h=e.steps.length;let p=0;s>0&&s<h?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(p=1/(h-1));const y=h-1,D=t.currentTime,M=t.currentAnimateTimings,N=M.duration;return u.forEach((z,j)=>{const ae=p>0?j==y?1:p*j:o[j],fe=ae*N;t.currentTime=D+M.delay+fe,M.duration=fe,this._validateStyleAst(z,t),z.offset=ae,r.styles.push(z)}),r}visitReference(e,t){return{type:8,animation:Wi(this,Ff(e.animation),t),options:Ll(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ll(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ll(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(zse,"")),n=n.replace(/@\*/g,by).replace(/@\w+/g,t=>by+"-"+t.substr(1)).replace(/:animating/g,zD),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Gi(t.collectedStyles,t.currentQuerySelector,{});const a=Wi(this,Ff(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ll(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:wy(e.timings,t.errors,!0);return{type:12,animation:Wi(this,Ff(e.animation),t),timings:r,options:null}}}class Kse{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Iy(n){return!Array.isArray(n)&&"object"==typeof n}function Ll(n){return n?(n=qu(n)).params&&(n.params=function(n){return n?qu(n):null}(n.params)):n={},n}function YD(n,e,t){return{duration:n,delay:e,easing:t}}function XD(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class xy{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Jse=new RegExp(":enter","g"),toe=new RegExp(":leave","g");function ZD(n,e,t,r,i,s={},o={},a,l,c=[]){return(new noe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class noe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new xy;const h=new JD(e,t,c,i,s,u,[]);h.options=l,h.currentTimeline.setStyles([o],null,h.errors,l),Wi(this,r,h);const p=h.timelines.filter(y=>y.containsAnimation());if(p.length&&Object.keys(a).length){const y=p[p.length-1];y.allowOnlyTimelineStyles()||y.setStyles([a],null,h.errors,l)}return p.length?p.map(y=>y.buildKeyframes()):[XD(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Nl(r.duration):null,a=null!=r.delay?Nl(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Wi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ay);const o=Nl(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Wi(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Nl(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Wi(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return wy(t.params?Cy(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Nl(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ay);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),Wi(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;Wi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}}const Ay={};class JD{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ay,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new My(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Nl(r.duration)),null!=r.delay&&(i.delay=Nl(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Cy(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new JD(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Ay,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new roe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Jse,"."+this._enterClassName)).replace(toe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class My{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new My(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||zo,this._currentKeyframe[t]=zo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=zo})):Aa(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=Cy(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:zo),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Aa(a,!0);Object.keys(c).forEach(u=>{const h=c[u];"!"==h?e.add(u):h==zo&&t.add(u)}),r||(c.offset=l/this.duration),i.push(c)});const s=e.size?Ey(e.values()):[],o=t.size?Ey(t.values()):[];if(r){const a=i[0],l=qu(a);a.offset=0,l.offset=1,i=[a,l]}return XD(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class roe extends My{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Aa(e[0],!1);l.offset=0,s.push(l);const c=Aa(e[0],!1);c.offset=dj(a),s.push(c);const u=e.length-1;for(let h=1;h<=u;h++){let p=Aa(e[h],!1);p.offset=dj((t+p.offset*r)/o),s.push(p)}r=o,t=0,i="",e=s}return XD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function dj(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class eT{}class soe extends eT{normalizePropertyName(e,t){return qD(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(ooe[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return o+s}}const ooe=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function hj(n,e,t,r,i,s,o,a,l,c,u,h,p){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:p}}const tT={};class fj{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,l,c,u){const h=[],p=this.ast.options&&this.ast.options.params||tT,D=this.buildStyles(r,a&&a.params||tT,h),M=l&&l.params||tT,N=this.buildStyles(i,M,h),z=new Set,j=new Map,ae=new Map,fe="void"===i,Ie={params:Object.assign(Object.assign({},p),M)},Ke=u?[]:ZD(e,t,this.ast.animation,s,o,D,N,Ie,c,h);let gt=0;if(Ke.forEach(jr=>{gt=Math.max(jr.duration+jr.delay,gt)}),h.length)return hj(t,this._triggerName,r,i,fe,D,N,[],[],j,ae,gt,h);Ke.forEach(jr=>{const wi=jr.element,ih=Gi(j,wi,{});jr.preStyleProps.forEach(Vs=>ih[Vs]=!0);const fa=Gi(ae,wi,{});jr.postStyleProps.forEach(Vs=>fa[Vs]=!0),wi!==t&&z.add(wi)});const $n=Ey(z.values());return hj(t,this._triggerName,r,i,fe,D,N,Ke,$n,j,ae,gt)}}class coe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=qu(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=Cy(l,i,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),r[c]=l})}}),r}}class doe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new coe(i.style,i.options&&i.options.params||{},r)}),pj(this.states,"true","1"),pj(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new fj(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new fj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function pj(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const foe=new xy;class poe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=QD(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,s=KU(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=ZD(this._driver,t,s,$D,yy,{},{},r,foe,i),o.forEach(u=>{const h=Gi(a,u.element,{});u.postStyleProps.forEach(p=>h[p]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((u,h)=>{Object.keys(u).forEach(p=>{u[p]=this._driver.computeStyle(h,p,zo)})});const c=xa(o.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,{},h)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const s=LD(t,"","","");return ND(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const gj="ng-animate-queued",nT="ng-animate-disabled",voe=[],mj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},boe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ds="__ng_removed";class rT{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const s=qu(e);delete s.value,this.options=s}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Lf="void",iT=new rT(Lf);class woe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,hs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const s=Gi(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Gi(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(hs(e,vy),hs(e,vy+"-"+t),a[t]=iT),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new sT(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(hs(e,vy),hs(e,vy+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new rT(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=iT),c.value!==Lf&&l.value===c.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const M=[],N=s.matchStyles(l.value,l.params,M),z=s.matchStyles(c.value,c.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{Fl(e,N),eo(e,z)})}return}const p=Gi(this._engine.playersByElement,e,[]);p.forEach(M=>{M.namespaceId==this.id&&M.triggerName==t&&M.queued&&M.destroy()});let y=s.matchTransition(l.value,c.value,e,c.params),D=!1;if(!y){if(!i)return;y=s.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:c,player:o,isFallbackTransition:D}),D||(hs(e,gj),o.onStart(()=>{Ku(e,gj)})),o.onDone(()=>{let M=this.players.indexOf(o);M>=0&&this.players.splice(M,1);const N=this._engine.playersByElement.get(e);if(N){let z=N.indexOf(o);z>=0&&N.splice(z,1)}}),this.players.push(o),p.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,by,!0);r.forEach(i=>{if(i[ds])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,Lf,i);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&xa(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,c=r[o]||iT,u=new rT(Lf),h=new sT(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ds];(!s||s===mj)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){hs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=LD(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,ND(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Coe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new woe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let s=r;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(Ry(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ry(t))return;const s=t[ds];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),hs(e,nT)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ku(e,nT))}removeNode(e,t,r,i){if(Ry(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[ds]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,s){return Ry(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,by,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,zD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xa(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[ds];if(r&&r.setForRemoval){if(e[ds]=mj,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(nT))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)hs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?xa(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new xy,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Ve=>{u.add(Ve);const Ze=this.driver.query(Ve,".ng-animate-queued",!0);for(let ut=0;ut<Ze.length;ut++)u.add(Ze[ut])});const h=this.bodyNode,p=Array.from(this.statesByElement.keys()),y=vj(p,this.collectedEnterElements),D=new Map;let M=0;y.forEach((Ve,Ze)=>{const ut=$D+M++;D.set(Ze,ut),Ve.forEach($t=>hs($t,ut))});const N=[],z=new Set,j=new Set;for(let Ve=0;Ve<this.collectedLeaveElements.length;Ve++){const Ze=this.collectedLeaveElements[Ve],ut=Ze[ds];ut&&ut.setForRemoval&&(N.push(Ze),z.add(Ze),ut.hasAnimation?this.driver.query(Ze,".ng-star-inserted",!0).forEach($t=>z.add($t)):j.add(Ze))}const ae=new Map,fe=vj(p,Array.from(z));fe.forEach((Ve,Ze)=>{const ut=yy+M++;ae.set(Ze,ut),Ve.forEach($t=>hs($t,ut))}),e.push(()=>{y.forEach((Ve,Ze)=>{const ut=D.get(Ze);Ve.forEach($t=>Ku($t,ut))}),fe.forEach((Ve,Ze)=>{const ut=ae.get(Ze);Ve.forEach($t=>Ku($t,ut))}),N.forEach(Ve=>{this.processLeaveNode(Ve)})});const Ie=[],Ke=[];for(let Ve=this._namespaceList.length-1;Ve>=0;Ve--)this._namespaceList[Ve].drainQueuedTransitions(t).forEach(ut=>{const $t=ut.player,Sr=ut.element;if(Ie.push($t),this.collectedEnterElements.length){const ys=Sr[ds];if(ys&&ys.setForMove)return void $t.destroy()}const vo=!h||!this.driver.containsElement(h,Sr),es=ae.get(Sr),dl=D.get(Sr),In=this._buildInstruction(ut,r,dl,es,vo);if(In.errors&&In.errors.length)return void Ke.push(In);if(vo)return $t.onStart(()=>Fl(Sr,In.fromStyles)),$t.onDestroy(()=>eo(Sr,In.toStyles)),void i.push($t);if(ut.isFallbackTransition)return $t.onStart(()=>Fl(Sr,In.fromStyles)),$t.onDestroy(()=>eo(Sr,In.toStyles)),void i.push($t);const hK=[];In.timelines.forEach(ys=>{ys.stretchStartingKeyframe=!0,this.disabledNodes.has(ys.element)||hK.push(ys)}),In.timelines=hK,r.append(Sr,In.timelines),o.push({instruction:In,player:$t,element:Sr}),In.queriedElements.forEach(ys=>Gi(a,ys,[]).push($t)),In.preStyleProps.forEach((ys,Yg)=>{const Ow=Object.keys(ys);if(Ow.length){let Hc=l.get(Yg);Hc||l.set(Yg,Hc=new Set),Ow.forEach(SO=>Hc.add(SO))}}),In.postStyleProps.forEach((ys,Yg)=>{const Ow=Object.keys(ys);let Hc=c.get(Yg);Hc||c.set(Yg,Hc=new Set),Ow.forEach(SO=>Hc.add(SO))})});if(Ke.length){const Ve=[];Ke.forEach(Ze=>{Ve.push(`@${Ze.triggerName} has failed due to:\n`),Ze.errors.forEach(ut=>Ve.push(`- ${ut}\n`))}),Ie.forEach(Ze=>Ze.destroy()),this.reportError(Ve)}const gt=new Map,$n=new Map;o.forEach(Ve=>{const Ze=Ve.element;r.has(Ze)&&($n.set(Ze,Ze),this._beforeAnimationBuild(Ve.player.namespaceId,Ve.instruction,gt))}),i.forEach(Ve=>{const Ze=Ve.element;this._getPreviousPlayers(Ze,!1,Ve.namespaceId,Ve.triggerName,null).forEach($t=>{Gi(gt,Ze,[]).push($t),$t.destroy()})});const jr=N.filter(Ve=>wj(Ve,l,c)),wi=new Map;yj(wi,this.driver,j,c,zo).forEach(Ve=>{wj(Ve,l,c)&&jr.push(Ve)});const fa=new Map;y.forEach((Ve,Ze)=>{yj(fa,this.driver,new Set(Ve),l,"!")}),jr.forEach(Ve=>{const Ze=wi.get(Ve),ut=fa.get(Ve);wi.set(Ve,Object.assign(Object.assign({},Ze),ut))});const Vs=[],sh=[],oh={};o.forEach(Ve=>{const{element:Ze,player:ut,instruction:$t}=Ve;if(r.has(Ze)){if(u.has(Ze))return ut.onDestroy(()=>eo(Ze,$t.toStyles)),ut.disabled=!0,ut.overrideTotalTime($t.totalTime),void i.push(ut);let Sr=oh;if($n.size>1){let es=Ze;const dl=[];for(;es=es.parentNode;){const In=$n.get(es);if(In){Sr=In;break}dl.push(es)}dl.forEach(In=>$n.set(In,Sr))}const vo=this._buildAnimation(ut.namespaceId,$t,gt,s,fa,wi);if(ut.setRealPlayer(vo),Sr===oh)Vs.push(ut);else{const es=this.playersByElement.get(Sr);es&&es.length&&(ut.parentPlayer=xa(es)),i.push(ut)}}else Fl(Ze,$t.fromStyles),ut.onDestroy(()=>eo(Ze,$t.toStyles)),sh.push(ut),u.has(Ze)&&i.push(ut)}),sh.forEach(Ve=>{const Ze=s.get(Ve.element);if(Ze&&Ze.length){const ut=xa(Ze);Ve.setRealPlayer(ut)}}),i.forEach(Ve=>{Ve.parentPlayer?Ve.syncPlayerEvents(Ve.parentPlayer):Ve.destroy()});for(let Ve=0;Ve<N.length;Ve++){const Ze=N[Ve],ut=Ze[ds];if(Ku(Ze,yy),ut&&ut.hasAnimation)continue;let $t=[];if(a.size){let vo=a.get(Ze);vo&&vo.length&&$t.push(...vo);let es=this.driver.query(Ze,zD,!0);for(let dl=0;dl<es.length;dl++){let In=a.get(es[dl]);In&&In.length&&$t.push(...In)}}const Sr=$t.filter(vo=>!vo.destroyed);Sr.length?Soe(this,Ze,Sr):this.processLeaveNode(Ze)}return N.length=0,Vs.forEach(Ve=>{this.players.push(Ve),Ve.onDone(()=>{Ve.destroy();const Ze=this.players.indexOf(Ve);this.players.splice(Ze,1)}),Ve.play()}),Vs}elementContainsData(e,t){let r=!1;const i=t[ds];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Lf;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,h=Gi(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(y=>{const D=y.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),y.destroy(),h.push(y)})}Fl(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,p=t.timelines.map(D=>{const M=D.element;u.add(M);const N=M[ds];if(N&&N.removedBeforeQueried)return new Wu(D.duration,D.delay);const z=M!==l,j=function(n){const e=[];return bj(n,e),e}((r.get(M)||voe).map(gt=>gt.getRealPlayer())).filter(gt=>!!gt.element&&gt.element===M),ae=s.get(M),fe=o.get(M),Ie=KU(0,this._normalizer,0,D.keyframes,ae,fe),Ke=this._buildPlayer(D,Ie,j);if(D.subTimeline&&i&&h.add(M),z){const gt=new sT(e,a,M);gt.setRealPlayer(Ke),c.push(gt)}return Ke});c.forEach(D=>{Gi(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,D.element,D))}),u.forEach(D=>hs(D,tj));const y=xa(p);return y.onDestroy(()=>{u.forEach(D=>Ku(D,tj)),eo(l,t.toStyles)}),h.forEach(D=>{Gi(i,D,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Wu(e.duration,e.delay)}}class sT{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Wu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>ND(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Gi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ry(n){return n&&1===n.nodeType}function _j(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function yj(n,e,t,r,i){const s=[];t.forEach(l=>s.push(_j(l)));const o=[];r.forEach((l,c)=>{const u={};l.forEach(h=>{const p=u[h]=e.computeStyle(c,h,i);(!p||0==p.length)&&(c[ds]=boe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>_j(l,s[a++])),o}function vj(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function hs(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Ku(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Soe(n,e,t){xa(t).onDone(()=>n.processLeaveNode(e))}function bj(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof WU?bj(r.players,e):e.push(r)}}function wj(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class ky{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Coe(e,t,r),this._timelineEngine=new poe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=QD(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,e,t){return new doe(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=QU(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=QU(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Cj(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=oT(e[0]),e.length>1&&(r=oT(e[e.length-1]))):e&&(t=oT(e)),t||r?new Aoe(n,t,r):null}let Aoe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&eo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(eo(this._element,this._initialStyles),this._endStyles&&(eo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fl(this._element,this._endStyles),this._endStyles=null),eo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function oT(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Moe(i)&&(e=e||{},e[i]=n[i])}return e}function Moe(n){return"display"===n||"position"===n}const Ej="animation",Dj="animationend";class Ooe{constructor(e,t,r,i,s,o,a){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,e){const t=lT(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),Oy(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ij(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Tj(this._element,this._name,"paused")}resume(){Tj(this._element,this._name,"running")}setPosition(e){const t=Sj(this._element,this._name);this._position=e*this._duration,Oy(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ij(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=lT(n,"").split(","),i=aT(r,e);i>=0&&(r.splice(i,1),Oy(n,"",r.join(",")))}(this._element,this._name))}}function Tj(n,e,t){Oy(n,"PlayState",t,Sj(n,e))}function Sj(n,e){const t=lT(n,"");return t.indexOf(",")>0?aT(t.split(","),e):aT([t],e)}function aT(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function Ij(n,e,t){t?n.removeEventListener(Dj,e):n.addEventListener(Dj,e)}function Oy(n,e,t,r){const i=Ej+e;if(null!=r){const s=n.style[i];if(s.length){const o=s.split(",");o[r]=t,t=o.join(",")}}n.style[i]=t}function lT(n,e){return n.style[Ej+e]||""}class xj{constructor(e,t,r,i,s,o,a,l){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Ooe(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:KD(this.element,r))})}this.currentSnapshot=e}}class Boe extends Wu{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=ZU(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Mj{constructor(){this._count=0}validateStyleProperty(e){return BD(e)}matchesElement(e,t){return!1}containsElement(e,t){return UD(e,t)}query(e,t,r){return jD(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(a=>ZU(a));let i=`@keyframes ${t} {\n`,s="";r.forEach(a=>{s=" ";const l=parseFloat(a.offset);i+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(i+=`${s}animation-timing-function: ${u};\n`));default:return void(i+=`${s}${c}: ${u};\n`)}}),i+=`${s}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(e,t,r,i,s,o=[],a){const l=o.filter(N=>N instanceof xj),c={};oj(r,i)&&l.forEach(N=>{let z=N.currentSnapshot;Object.keys(z).forEach(j=>c[j]=z[j])});const u=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=aj(e,t,c));if(0==r)return new Boe(e,u);const h="gen_css_kf_"+this._count++,p=this.buildKeyframeElement(e,h,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(p);const D=Cj(e,t),M=new xj(e,t,h,r,i,s,u,D);return M.onDestroy(()=>{var n;(n=p).parentNode.removeChild(n)}),M}}class kj{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:KD(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class zoe{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Oj().toString()),this._cssKeyframesDriver=new Mj}validateStyleProperty(e){return BD(e)}matchesElement(e,t){return!1}containsElement(e,t){return UD(e,t)}query(e,t,r){return jD(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,s,o);const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const h={},p=o.filter(D=>D instanceof kj);oj(r,i)&&p.forEach(D=>{let M=D.currentSnapshot;Object.keys(M).forEach(N=>h[N]=M[N])});const y=Cj(e,t=aj(e,t=t.map(D=>Aa(D,!1)),h));return new kj(e,t,u,y)}}function Oj(){return qU()&&Element.prototype.animate||{}}let Woe=(()=>{class n extends jU{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Ar.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?HU(t):t;return Pj(this._renderer,null,r,"register",[i]),new qoe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(oe(af),oe(Ot))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();class qoe extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Koe(this._id,e,t||{},this._renderer)}}class Koe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Pj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Pj(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Nj="@.disabled";let Qoe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new Fj("",s,this.engine),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new Yoe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(oe(af),oe(ky),oe(nt))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();class Fj{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Nj?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Yoe extends Fj{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Nj?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Joe=(()=>{class n extends ky{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(oe(Ot),oe(HD),oe(eT))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();const ks=new ye("AnimationModuleType"),Lj=[{provide:jU,useClass:Woe},{provide:eT,useFactory:function(){return new soe}},{provide:ky,useClass:Joe},{provide:af,useFactory:function(n,e,t){return new Qoe(n,e,t)},deps:[L_,ky,nt]}],Vj=[{provide:HD,useFactory:function(){return"function"==typeof Oj()?new zoe:new Mj}},{provide:ks,useValue:"BrowserAnimations"},...Lj],rae=[{provide:HD,useClass:JU},{provide:ks,useValue:"NoopAnimations"},...Lj];let Bj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?rae:Vj}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:Vj,imports:[KV]}),n})();const aae=new ye("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let fr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!_D()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(oe(UU),oe(aae,8),oe(Ot))},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[Mf],Mf]}),n})();function jj(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ti(e)}}}function cT(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function lae(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ti(e)}}}function cae(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new ve,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let Hj=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dae{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $j={enterDuration:225,exitDuration:150},uT=kf({passive:!0}),zj=["mousedown","touchstart"],Gj=["mouseup","mouseleave","touchend","touchcancel"];class fae{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=jo(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},$j),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const h=new dae(this,u,r);return h.state=0,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const p=h===this._mostRecentTransientRipple;h.state=1,!r.persistent&&(!p||!this._isPointerDown)&&h.fadeOut()},c),h}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},$j),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=jo(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(zj))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Gj),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=NU(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!FU(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,uT)})})}_removeTriggerEvents(){this._triggerElement&&(zj.forEach(e=>{this._triggerElement.removeEventListener(e,this,uT)}),this._pointerUpEventsRegistered&&Gj.forEach(e=>{this._triggerElement.removeEventListener(e,this,uT)}))}}const mae=new ye("mat-ripple-global-options");let Wj=(()=>{class n{constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new fae(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(nt),V(ti),V(mae,8),V(ks,8))},n.\u0275dir=ge({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Cn("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),qj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[fr],fr]}),n})(),_ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[fr]]}),n})(),Kj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[qj,Ml,fr,_ae]]}),n})();function Ny(...n){const e=ts(n),t=fm(n),{args:r,keys:i}=ZV(n);if(0===r.length)return bn([],e);const s=new W(function(n,e,t=_e){return r=>{Qj(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)Qj(e,()=>{const c=bn(n[l],e);let u=!1;c.subscribe(new qe(r,h=>{s[l]=h,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>JV(i,o):_e));return t?s.pipe($E(t)):s}function Qj(n,e,t){n?Pi(t,n,e):e()}const vae=[[["caption"]],[["colgroup"],["col"]]],bae=["caption","colgroup, col"];let Yj=(()=>{class n extends py{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275cmp=wn({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,r){2&t&&Cn("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[at([{provide:Af,useClass:pU},{provide:py,useExisting:n},{provide:Hu,useExisting:n},{provide:TD,useClass:CU},{provide:MD,useValue:null}]),$e],ngContentSelectors:bae,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(wa(vae),hr(0),hr(1,1),ci(2,0),ci(3,1),ci(4,2),ci(5,3))},directives:[dy,uy,fy,hy],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),dT=(()=>{class n extends $u{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ge({type:n,selectors:[["","matCellDef",""]],features:[at([{provide:$u,useExisting:n}]),$e]}),n})(),hT=(()=>{class n extends zu{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ge({type:n,selectors:[["","matHeaderCellDef",""]],features:[at([{provide:zu,useExisting:n}]),$e]}),n})(),fT=(()=>{class n extends Ho{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ge({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[at([{provide:Ho,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),$e]}),n})(),pT=(()=>{class n extends ED{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ge({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[$e]}),n})(),gT=(()=>{class n extends DD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ge({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[$e]}),n})(),Xj=(()=>{class n extends Pf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ge({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[at([{provide:Pf,useExisting:n}]),$e]}),n})(),Zj=(()=>{class n extends ly{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275dir=ge({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[at([{provide:ly,useExisting:n}]),$e]}),n})(),Jj=(()=>{class n extends ID{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275cmp=wn({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[at([{provide:ID,useExisting:n}]),$e],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&ci(0,0)},directives:[$o],encapsulation:2}),n})(),eH=(()=>{class n extends AD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Xt(n)))(r||n)}}(),n.\u0275cmp=wn({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[at([{provide:AD,useExisting:n}]),$e],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&ci(0,0)},directives:[$o],encapsulation:2}),n})(),mT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[Kie,fr],fr]}),n})();class _T extends class extends class{}{constructor(e=[]){super(),this._renderData=new Jr([]),this._filter=new Jr(""),this._internalPageChanges=new ve,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,r)=>{const i=t[r];if(hU(i)){const s=Number(i);return s<9007199254740991?s:i}return i},this.sortData=(t,r)=>{const i=r.active,s=r.direction;return i&&""!=s?t.sort((o,a)=>{let l=this.sortingDataAccessor(o,i),c=this.sortingDataAccessor(a,i);const u=typeof l,h=typeof c;u!==h&&("number"===u&&(l+=""),"number"===h&&(c+=""));let p=0;return null!=l&&null!=c?l>c?p=1:l<c&&(p=-1):null!=l?p=1:null!=c&&(p=-1),p*("asc"==s?1:-1)}):t},this.filterPredicate=(t,r)=>{const i=Object.keys(t).reduce((o,a)=>o+t[a]+"\u25ec","").toLowerCase(),s=r.trim().toLowerCase();return-1!=i.indexOf(s)},this._data=new Jr(e),this._updateChangeSubscription()}get data(){return this._data.value}set data(e){e=Array.isArray(e)?e:[],this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}_updateChangeSubscription(){var e;const t=this._sort?Hr(this._sort.sortChange,this._sort.initialized):Ye(null),r=this._paginator?Hr(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ye(null),s=Ny([this._data,this._filter]).pipe(Oe(([l])=>this._filterData(l))),o=Ny([s,t]).pipe(Oe(([l])=>this._orderData(l))),a=Ny([o,r]).pipe(Oe(([l])=>this._pageData(l)));null===(e=this._renderChangesSubscription)||void 0===e||e.unsubscribe(),this._renderChangesSubscription=a.subscribe(l=>this._renderData.next(l))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=e,t.pageIndex>0)){const r=Math.ceil(t.length/t.pageSize)-1||0,i=Math.min(t.pageIndex,r);i!==t.pageIndex&&(t.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var e;null===(e=this._renderChangesSubscription)||void 0===e||e.unsubscribe(),this._renderChangesSubscription=null}}{}function to(n){return ke((e,t)=>{let s,r=null,i=!1;r=e.subscribe(new qe(t,void 0,void 0,o=>{s=si(n(o,to(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Qu(n,e){return d(e)?xn(n,e,1):xn(n,1)}class tH{}class nH{}class Go{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Go?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Go;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Go?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class kae{encodeKey(e){return rH(e)}encodeValue(e){return rH(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Pae=/%(\d[a-f0-9])/gi,Nae={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function rH(n){return encodeURIComponent(n).replace(Pae,(e,t)=>{var r;return null!==(r=Nae[t])&&void 0!==r?r:e})}function iH(n){return`${n}`}class Ma{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new kae,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ma({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(iH(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(iH(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Fae{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function sH(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function oH(n){return"undefined"!=typeof Blob&&n instanceof Blob}function aH(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Bf{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Go),this.context||(this.context=new Fae),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ma,this.urlWithParams=t}serializeBody(){return null===this.body?null:sH(this.body)||oH(this.body)||aH(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Ma?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||aH(this.body)?null:oH(this.body)?this.body.type||null:sH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ma?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const h=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((p,y)=>p.set(y,e.setHeaders[y]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((p,y)=>p.set(y,e.setParams[y]),u)),new Bf(r,i,o,{params:u,headers:c,context:h,reportProgress:l,responseType:s,withCredentials:a})}}var Qn=(()=>((Qn=Qn||{})[Qn.Sent=0]="Sent",Qn[Qn.UploadProgress=1]="UploadProgress",Qn[Qn.ResponseHeader=2]="ResponseHeader",Qn[Qn.DownloadProgress=3]="DownloadProgress",Qn[Qn.Response=4]="Response",Qn[Qn.User=5]="User",Qn))();class yT{constructor(e,t=200,r="OK"){this.headers=e.headers||new Go,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class vT extends yT{constructor(e={}){super(e),this.type=Qn.ResponseHeader}clone(e={}){return new vT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Fy extends yT{constructor(e={}){super(e),this.type=Qn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Fy({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class lH extends yT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function bT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ly=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Bf)s=t;else{let l,c;l=i.headers instanceof Go?i.headers:new Go(i.headers),i.params&&(c=i.params instanceof Ma?i.params:new Ma({fromObject:i.params})),s=new Bf(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=Ye(s).pipe(Qu(l=>this.handler.handle(l)));if(t instanceof Bf||"events"===i.observe)return o;const a=o.pipe(Zr(l=>l instanceof Fy));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Oe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Oe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Oe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Oe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ma).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,bT(i,r))}post(t,r,i={}){return this.request("POST",t,bT(i,r))}put(t,r,i={}){return this.request("PUT",t,bT(i,r))}}return n.\u0275fac=function(t){return new(t||n)(oe(tH))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();class cH{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const uH=new ye("HTTP_INTERCEPTORS");let Bae=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();const Uae=/^\)\]\}',?\n/;let dH=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new W(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((y,D)=>i.setRequestHeader(y,D.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const y=t.detectContentTypeHeader();null!==y&&i.setRequestHeader("Content-Type",y)}if(t.responseType){const y=t.responseType.toLowerCase();i.responseType="json"!==y?y:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const y=1223===i.status?204:i.status,D=i.statusText||"OK",M=new Go(i.getAllResponseHeaders()),N=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new vT({headers:M,status:y,statusText:D,url:N}),o},l=()=>{let{headers:y,status:D,statusText:M,url:N}=a(),z=null;204!==D&&(z=void 0===i.response?i.responseText:i.response),0===D&&(D=z?200:0);let j=D>=200&&D<300;if("json"===t.responseType&&"string"==typeof z){const ae=z;z=z.replace(Uae,"");try{z=""!==z?JSON.parse(z):null}catch(fe){z=ae,j&&(j=!1,z={error:fe,text:z})}}j?(r.next(new Fy({body:z,headers:y,status:D,statusText:M,url:N||void 0})),r.complete()):r.error(new lH({error:z,headers:y,status:D,statusText:M,url:N||void 0}))},c=y=>{const{url:D}=a(),M=new lH({error:y,status:i.status||0,statusText:i.statusText||"Unknown Error",url:D||void 0});r.error(M)};let u=!1;const h=y=>{u||(r.next(a()),u=!0);let D={type:Qn.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(D.total=y.total),"text"===t.responseType&&!!i.responseText&&(D.partialText=i.responseText),r.next(D)},p=y=>{let D={type:Qn.UploadProgress,loaded:y.loaded};y.lengthComputable&&(D.total=y.total),r.next(D)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",h),null!==s&&i.upload&&i.upload.addEventListener("progress",p)),i.send(s),r.next({type:Qn.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",h),null!==s&&i.upload&&i.upload.removeEventListener("progress",p)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(oe(LV))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();const wT=new ye("XSRF_COOKIE_NAME"),CT=new ye("XSRF_HEADER_NAME");class hH{}let Hae=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=xV(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(oe(Ot),oe(No),oe(wT))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),ET=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(oe(hH),oe(CT))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),$ae=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(uH,[]);this.chain=r.reduceRight((i,s)=>new cH(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(oe(nH),oe(an))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),zae=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:ET,useClass:Bae}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:wT,useValue:t.cookieName}:[],t.headerName?{provide:CT,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[ET,{provide:uH,useExisting:ET,multi:!0},{provide:hH,useClass:Hae},{provide:wT,useValue:"XSRF-TOKEN"},{provide:CT,useValue:"X-XSRF-TOKEN"}]}),n})(),Gae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[Ly,{provide:tH,useClass:$ae},dH,{provide:nH,useExisting:dH}],imports:[[zae.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),Wae=(()=>{class n{constructor(t){this.http=t}beep(){const t=new Audio;t.src="assets/beep.wav",t.load(),t.play()}getDocs(){const t="http://localhost:4000/business";return console.log(t),this.http.get(t).pipe(Oe(r=>(console.warn("Mongo DB:",r),r)),to(r=>hD(r)))}}return n.\u0275fac=function(t){return new(t||n)(oe(Ly))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qae=(()=>{class n{constructor(t){this.swUpdate=t,t.available.subscribe(r=>{window.confirm("A new update is available. Would you like to load the latest version?")&&t.activateUpdate().then(()=>document.location.reload())})}checkForUpdates(){this.swUpdate.checkForUpdate()}}return n.\u0275fac=function(t){return new(t||n)(oe(aU))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DT{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Kae extends DT{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class TT extends DT{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Qae extends DT{constructor(e){super(),this.element=e instanceof Dt?e.nativeElement:e}}class fH{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Kae?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof TT?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Qae?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Yae extends fH{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||an.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Xae=(()=>{class n extends TT{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(V(Fn),V(Ln))},n.\u0275dir=ge({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[$e]}),n})(),ST=(()=>{class n extends fH{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new kt,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(V(ko),V(Ln),V(Ot))},n.\u0275dir=ge({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[$e]}),n})(),pH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({}),n})();function Vl(...n){const e=ts(n);return ke((t,r)=>{(e?Tf(n,t,e):Tf(n,t)).subscribe(r)})}function Zae(n,e){1&n&&hr(0)}const gH=["*"];function Jae(n,e){}const ele=function(n){return{animationDuration:n}},tle=function(n,e){return{value:n,params:e}},nle=["tabListContainer"],rle=["tabList"],ile=["tabListInner"],sle=["nextPaginator"],ole=["previousPaginator"],ale=["tabBodyWrapper"],lle=["tabHeader"];function cle(n,e){}function ule(n,e){1&n&&Ct(0,cle,0,0,"ng-template",10),2&n&&yt("cdkPortalOutlet",ln().$implicit.templateLabel)}function dle(n,e){1&n&&Qt(0),2&n&&Tl(ln().$implicit.textLabel)}function hle(n,e){if(1&n){const t=Zh();Be(0,"div",6),en("click",function(){const i=bl(t),s=i.$implicit,o=i.index,a=ln(),l=i_(1);return a._handleClick(s,l,o)})("cdkFocusChange",function(i){const o=bl(t).index;return ln()._tabFocusChanged(i,o)}),Be(1,"div",7),Ct(2,ule,1,1,"ng-template",8),Ct(3,dle,1,1,"ng-template",null,9,p_),Ue(),Ue()}if(2&n){const t=e.$implicit,r=e.index,i=i_(4),s=ln();Cn("mat-tab-label-active",s.selectedIndex===r),yt("id",s._getTabLabelId(r))("ngClass",t.labelClass)("disabled",t.disabled)("matRippleDisabled",t.disabled||s.disableRipple),Yr("tabIndex",s._getTabIndex(t,r))("aria-posinset",r+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(r))("aria-selected",s.selectedIndex===r)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),_t(2),yt("ngIf",t.templateLabel)("ngIfElse",i)}}function fle(n,e){if(1&n){const t=Zh();Be(0,"mat-tab-body",11),en("_onCentered",function(){return bl(t),ln()._removeTabBodyWrapperHeight()})("_onCentering",function(i){return bl(t),ln()._setTabBodyWrapperHeight(i)}),Ue()}if(2&n){const t=e.$implicit,r=e.index,i=ln();Cn("mat-tab-body-active",i.selectedIndex===r),yt("id",i._getTabContentId(r))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",i.animationDuration),Yr("tabindex",null!=i.contentTabIndex&&i.selectedIndex===r?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(r))}}const ple=new ye("MatInkBarPositioner",{providedIn:"root",factory:function(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let mH=(()=>{class n{constructor(t,r,i,s){this._elementRef=t,this._ngZone=r,this._inkBarPositioner=i,this._animationMode=s}alignToElement(t){this.show(),this._ngZone.onStable.pipe(pn(1)).subscribe(()=>{const r=this._inkBarPositioner(t),i=this._elementRef.nativeElement;i.style.left=r.left,i.style.width=r.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(nt),V(ple),V(ks,8))},n.\u0275dir=ge({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,r){2&t&&Cn("_mat-animation-noopable","NoopAnimations"===r._animationMode)}}),n})();const mle=new ye("MatTabContent"),_H=new ye("MatTabLabel"),yH=new ye("MAT_TAB");let _le=(()=>{class n extends Xae{constructor(t,r,i){super(t,r),this._closestTab=i}}return n.\u0275fac=function(t){return new(t||n)(V(Fn),V(Ln),V(yH,8))},n.\u0275dir=ge({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[at([{provide:_H,useExisting:n}]),$e]}),n})();const yle=jj(class{}),vH=new ye("MAT_TAB_GROUP");let bH=(()=>{class n extends yle{constructor(t,r){super(),this._viewContainerRef=t,this._closestTabGroup=r,this.textLabel="",this._contentPortal=null,this._stateChanges=new ve,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new TT(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}}return n.\u0275fac=function(t){return new(t||n)(V(Ln),V(vH,8))},n.\u0275cmp=wn({type:n,selectors:[["mat-tab"]],contentQueries:function(t,r,i){if(1&t&&(mn(i,_H,5),mn(i,mle,7,Fn)),2&t){let s;ft(s=pt())&&(r.templateLabel=s.first),ft(s=pt())&&(r._explicitContent=s.first)}},viewQuery:function(t,r){if(1&t&&Vn(Fn,7),2&t){let i;ft(i=pt())&&(r._implicitContent=i.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[at([{provide:yH,useExisting:n}]),$e,dr],ngContentSelectors:gH,decls:1,vars:0,template:function(t,r){1&t&&(wa(),Ct(0,Zae,1,0,"ng-template"))},encapsulation:2}),n})();const vle={translateTab:Js("translateTab",[sr("center, void, left-origin-center, right-origin-center",Ht({transform:"none"})),sr("left",Ht({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),sr("right",Ht({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Mr("* => left, * => right, left => center, right => center",fi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Mr("void => left-origin-center",[Ht({transform:"translate3d(-100%, 0, 0)"}),fi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Mr("void => right-origin-center",[Ht({transform:"translate3d(100%, 0, 0)"}),fi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ble=(()=>{class n extends ST{constructor(t,r,i,s){super(t,r,s),this._host=i,this._centeringSub=E.EMPTY,this._leavingSub=E.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Vl(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(V(ko),V(Ln),V(qt(()=>wH)),V(Ot))},n.\u0275dir=ge({type:n,selectors:[["","matTabBodyHost",""]],features:[$e]}),n})(),wle=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._dir=r,this._dirChangeSubscription=E.EMPTY,this._translateTabComplete=new ve,this._onCentering=new kt,this._beforeCentering=new kt,this._afterLeavingCenter=new kt,this._onCentered=new kt(!0),this.animationDuration="500ms",r&&(this._dirChangeSubscription=r.change.subscribe(s=>{this._computePositionAnimationState(s),i.markForCheck()})),this._translateTabComplete.pipe(AU((s,o)=>s.fromState===o.fromState&&s.toState===o.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const r=this._isCenterPosition(t.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const r=this._getLayoutDirection();return"ltr"==r&&t<=0||"rtl"==r&&t>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(Ia,8),V(zi))},n.\u0275dir=ge({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),wH=(()=>{class n extends wle{constructor(t,r,i){super(t,r,i)}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(Ia,8),V(zi))},n.\u0275cmp=wn({type:n,selectors:[["mat-tab-body"]],viewQuery:function(t,r){if(1&t&&Vn(ST,5),2&t){let i;ft(i=pt())&&(r._portalHost=i.first)}},hostAttrs:[1,"mat-tab-body"],features:[$e],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,r){1&t&&(Be(0,"div",0,1),en("@translateTab.start",function(s){return r._onTranslateTabStarted(s)})("@translateTab.done",function(s){return r._translateTabComplete.next(s)}),Ct(2,Jae,0,0,"ng-template",2),Ue()),2&t&&yt("@translateTab",h2(3,tle,r._position,d2(1,ele,r.animationDuration)))},directives:[ble],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[vle.translateTab]}}),n})();const CH=new ye("MAT_TABS_CONFIG"),Cle=jj(class{});let EH=(()=>{class n extends Cle{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(t){return new(t||n)(V(Dt))},n.\u0275dir=ge({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,r){2&t&&(Yr("aria-disabled",!!r.disabled),Cn("mat-tab-disabled",r.disabled))},inputs:{disabled:"disabled"},features:[$e]}),n})();const DH=kf({passive:!0});let Tle=(()=>{class n{constructor(t,r,i,s,o,a,l){this._elementRef=t,this._changeDetectorRef=r,this._viewportRuler=i,this._dir=s,this._ngZone=o,this._platform=a,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new ve,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new ve,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new kt,this.indexFocused=new kt,o.runOutsideAngular(()=>{Uo(t.nativeElement,"mouseleave").pipe(ei(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=ry(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){Uo(this._previousPaginator.nativeElement,"touchstart",DH).pipe(ei(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Uo(this._nextPaginator.nativeElement,"touchstart",DH).pipe(ei(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Ye("ltr"),r=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new yse(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(pn(1)).subscribe(i),Hr(t,r,this._items.changes,this._itemsResized()).pipe(ei(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),i()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(ei(this._destroyed)).subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?Ni:this._items.changes.pipe(Vl(this._items),us(t=>new W(r=>this._ngZone.runOutsideAngular(()=>{const i=new ResizeObserver(()=>{r.next()});return t.forEach(s=>{i.observe(s.elementRef.nativeElement)}),()=>{i.disconnect()}}))),xU(1))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!SU(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const r=this._items?this._items.toArray()[t]:null;return!!r&&!r.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const r=this._items?this._items.toArray()[t]:null;if(!r)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:o}=r.elementRef.nativeElement;let a,l;"ltr"==this._getLayoutDirection()?(a=s,l=a+o):(l=this._tabListInner.nativeElement.offsetWidth-s,a=l-o);const c=this.scrollDistance,u=this.scrollDistance+i;a<c?this.scrollDistance-=c-a+60:l>u&&(this.scrollDistance+=l-u+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=t?t.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),fD(650,100).pipe(ei(Hr(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:i,distance:s}=this._scrollHeader(t);(0===s||s>=i)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(zi),V(ju),V(Ia,8),V(nt),V(ti),V(ks,8))},n.\u0275dir=ge({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),Sle=(()=>{class n extends Tle{constructor(t,r,i,s,o,a,l){super(t,r,i,s,o,a,l),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ti(t)}_itemSelected(t){t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(zi),V(ju),V(Ia,8),V(nt),V(ti),V(ks,8))},n.\u0275dir=ge({type:n,inputs:{disableRipple:"disableRipple"},features:[$e]}),n})(),Ile=(()=>{class n extends Sle{constructor(t,r,i,s,o,a,l){super(t,r,i,s,o,a,l)}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(zi),V(ju),V(Ia,8),V(nt),V(ti),V(ks,8))},n.\u0275cmp=wn({type:n,selectors:[["mat-tab-header"]],contentQueries:function(t,r,i){if(1&t&&mn(i,EH,4),2&t){let s;ft(s=pt())&&(r._items=s)}},viewQuery:function(t,r){if(1&t&&(Vn(mH,7),Vn(nle,7),Vn(rle,7),Vn(ile,7),Vn(sle,5),Vn(ole,5)),2&t){let i;ft(i=pt())&&(r._inkBar=i.first),ft(i=pt())&&(r._tabListContainer=i.first),ft(i=pt())&&(r._tabList=i.first),ft(i=pt())&&(r._tabListInner=i.first),ft(i=pt())&&(r._nextPaginator=i.first),ft(i=pt())&&(r._previousPaginator=i.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,r){2&t&&Cn("mat-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[$e],ngContentSelectors:gH,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,r){1&t&&(wa(),Be(0,"button",0,1),en("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(s){return r._handlePaginatorPress("before",s)})("touchend",function(){return r._stopInterval()}),tr(2,"div",2),Ue(),Be(3,"div",3,4),en("keydown",function(s){return r._handleKeydown(s)}),Be(5,"div",5,6),en("cdkObserveContent",function(){return r._onContentChanges()}),Be(7,"div",7,8),hr(9),Ue(),tr(10,"mat-ink-bar"),Ue(),Ue(),Be(11,"button",9,10),en("mousedown",function(s){return r._handlePaginatorPress("after",s)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),tr(13,"div",2),Ue()),2&t&&(Cn("mat-tab-header-pagination-disabled",r._disableScrollBefore),yt("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),_t(5),Cn("_mat-animation-noopable","NoopAnimations"===r._animationMode),_t(6),Cn("mat-tab-header-pagination-disabled",r._disableScrollAfter),yt("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},directives:[Wj,RU,mH],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),n})(),xle=0;class Ale{}const Mle=cT(lae(class{constructor(n){this._elementRef=n}}),"primary");let Rle=(()=>{class n extends Mle{constructor(t,r,i,s){var o;super(t),this._changeDetectorRef=r,this._animationMode=s,this._tabs=new Pu,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=E.EMPTY,this._tabLabelSubscription=E.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new kt,this.focusChange=new kt,this.animationDone=new kt,this.selectedTabChange=new kt(!0),this._groupId=xle++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight,this.contentTabIndex=null!==(o=null==i?void 0:i.contentTabIndex)&&void 0!==o?o:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Ti(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=ry(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t+"")?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=ry(t,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const r=this._elementRef.nativeElement;r.classList.remove(`mat-background-${this.backgroundColor}`),t&&r.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const r=null==this._selectedIndex;if(!r){this.selectedTabChange.emit(this._createChangeEvent(t));const i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,s)=>i.isActive=s===t),r||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,i)=>{r.position=i-t,null!=this._selectedIndex&&0==r.position&&!r.origin&&(r.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const r=this._tabs.toArray();let i;for(let s=0;s<r.length;s++)if(r[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,i=r[s];break}!i&&r[t]&&Promise.resolve().then(()=>{r[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Vl(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const r=this._tabHeader;r&&(r.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const r=new Ale;return r.index=t,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[t]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Hr(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,r,i){t.disabled||(this.selectedIndex=r.focusIndex=i)}_getTabIndex(t,r){var i;return t.disabled?null:r===(null!==(i=this._lastFocusedTabIndex)&&void 0!==i?i:this.selectedIndex)?0:-1}_tabFocusChanged(t,r){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=r)}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(zi),V(CH,8),V(ks,8))},n.\u0275dir=ge({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[$e]}),n})(),kle=(()=>{class n extends Rle{constructor(t,r,i,s){super(t,r,i,s)}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(zi),V(CH,8),V(ks,8))},n.\u0275cmp=wn({type:n,selectors:[["mat-tab-group"]],contentQueries:function(t,r,i){if(1&t&&mn(i,bH,5),2&t){let s;ft(s=pt())&&(r._allTabs=s)}},viewQuery:function(t,r){if(1&t&&(Vn(ale,5),Vn(lle,5)),2&t){let i;ft(i=pt())&&(r._tabBodyWrapper=i.first),ft(i=pt())&&(r._tabHeader=i.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,r){2&t&&Cn("mat-tab-group-dynamic-height",r.dynamicHeight)("mat-tab-group-inverted-header","below"===r.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[at([{provide:vH,useExisting:n}]),$e],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,r){1&t&&(Be(0,"mat-tab-header",0,1),en("indexFocused",function(s){return r._focusChanged(s)})("selectFocusedIndex",function(s){return r.selectedIndex=s}),Ct(2,hle,5,15,"div",2),Ue(),Be(3,"div",3,4),Ct(5,fle,1,10,"mat-tab-body",5),Ue()),2&t&&(yt("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),_t(2),yt("ngForOf",r._tabs),_t(1),Cn("_mat-animation-noopable","NoopAnimations"===r._animationMode),_t(2),yt("ngForOf",r._tabs))},directives:[Ile,RE,EH,Wj,Mse,AV,mf,ST,wH],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})(),Ole=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[Ml,fr,pH,qj,RD,Rse],fr]}),n})();const Ple=["*",[["mat-card-footer"]]],Nle=["*","mat-card-footer"];let Fle=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(V(ks,8))},n.\u0275cmp=wn({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&Cn("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:Nle,decls:2,vars:0,template:function(t,r){1&t&&(wa(Ple),hr(0),hr(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),SH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[fr],fr]}),n})();const Lle=["connectionContainer"],Vle=["inputContainer"],Ble=["label"];function Ule(n,e){1&n&&(Mo(0),Be(1,"div",14),tr(2,"div",15),tr(3,"div",16),tr(4,"div",17),Ue(),Be(5,"div",18),tr(6,"div",15),tr(7,"div",16),tr(8,"div",17),Ue(),Ro())}function jle(n,e){if(1&n){const t=Zh();Be(0,"div",19),en("cdkObserveContent",function(){return bl(t),ln().updateOutlineGap()}),hr(1,1),Ue()}2&n&&yt("cdkObserveContentDisabled","outline"!=ln().appearance)}function Hle(n,e){if(1&n&&(Mo(0),hr(1,2),Be(2,"span"),Qt(3),Ue(),Ro()),2&n){const t=ln(2);_t(3),Tl(t._control.placeholder)}}function $le(n,e){1&n&&hr(0,3,["*ngSwitchCase","true"])}function zle(n,e){1&n&&(Be(0,"span",23),Qt(1," *"),Ue())}function Gle(n,e){if(1&n){const t=Zh();Be(0,"label",20,21),en("cdkObserveContent",function(){return bl(t),ln().updateOutlineGap()}),Ct(2,Hle,4,1,"ng-container",12),Ct(3,$le,1,0,"ng-content",12),Ct(4,zle,2,0,"span",22),Ue()}if(2&n){const t=ln();Cn("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),yt("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Yr("for",t._control.id)("aria-owns",t._control.id),_t(2),yt("ngSwitchCase",!1),_t(1),yt("ngSwitchCase",!0),_t(1),yt("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Wle(n,e){1&n&&(Be(0,"div",24),hr(1,4),Ue())}function qle(n,e){if(1&n&&(Be(0,"div",25),tr(1,"span",26),Ue()),2&n){const t=ln();_t(1),Cn("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Kle(n,e){1&n&&(Be(0,"div"),hr(1,5),Ue()),2&n&&yt("@transitionMessages",ln()._subscriptAnimationState)}function Qle(n,e){if(1&n&&(Be(0,"div",30),Qt(1),Ue()),2&n){const t=ln(2);yt("id",t._hintLabelId),_t(1),Tl(t.hintLabel)}}function Yle(n,e){if(1&n&&(Be(0,"div",27),Ct(1,Qle,2,2,"div",28),hr(2,6),tr(3,"div",29),hr(4,7),Ue()),2&n){const t=ln();yt("@transitionMessages",t._subscriptAnimationState),_t(1),yt("ngIf",t.hintLabel)}}const Xle=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Zle=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Jle=new ye("MatError"),ece={transitionMessages:Js("transitionMessages",[sr("enter",Ht({opacity:1,transform:"translateY(0%)"})),Mr("void => enter",[Ht({opacity:0,transform:"translateY(-5px)"}),fi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let IT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ge({type:n}),n})();const tce=new ye("MatHint");let IH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ge({type:n,selectors:[["mat-label"]]}),n})(),nce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ge({type:n,selectors:[["mat-placeholder"]]}),n})();const rce=new ye("MatPrefix"),ice=new ye("MatSuffix");let xH=0;const oce=cT(class{constructor(n){this._elementRef=n}},"primary"),ace=new ye("MAT_FORM_FIELD_DEFAULT_OPTIONS"),MH=new ye("MatFormField");let lce=(()=>{class n extends oce{constructor(t,r,i,s,o,a,l){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ve,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+xH++,this._labelId="mat-form-field-label-"+xH++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ti(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Vl(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ei(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ei(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Hr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Vl(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Vl(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ei(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Uo(this._label.nativeElement,"transitionend").pipe(pn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const u=r.querySelectorAll(`${i}, ${s}`);for(let h=0;h<u.length;h++)u[h].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,a=0;const l=r.querySelectorAll(i),c=r.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const u=r.getBoundingClientRect();if(0===u.width&&0===u.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const h=this._getStartEnd(u),p=t.children,y=this._getStartEnd(p[0].getBoundingClientRect());let D=0;for(let M=0;M<p.length;M++)D+=p[M].offsetWidth;o=Math.abs(y-h)-5,a=D>0?.75*D+10:0}for(let u=0;u<l.length;u++)l[u].style.width=`${o}px`;for(let u=0;u<c.length;u++)c[u].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(zi),V(Ia,8),V(ace,8),V(ti),V(nt),V(ks,8))},n.\u0275cmp=wn({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(mn(i,IT,5),mn(i,IT,7),mn(i,IH,5),mn(i,IH,7),mn(i,nce,5),mn(i,Jle,5),mn(i,tce,5),mn(i,rce,5),mn(i,ice,5)),2&t){let s;ft(s=pt())&&(r._controlNonStatic=s.first),ft(s=pt())&&(r._controlStatic=s.first),ft(s=pt())&&(r._labelChildNonStatic=s.first),ft(s=pt())&&(r._labelChildStatic=s.first),ft(s=pt())&&(r._placeholderChild=s.first),ft(s=pt())&&(r._errorChildren=s),ft(s=pt())&&(r._hintChildren=s),ft(s=pt())&&(r._prefixChildren=s),ft(s=pt())&&(r._suffixChildren=s)}},viewQuery:function(t,r){if(1&t&&(Vn(Lle,7),Vn(Vle,5),Vn(Ble,5)),2&t){let i;ft(i=pt())&&(r._connectionContainerRef=i.first),ft(i=pt())&&(r._inputContainerRef=i.first),ft(i=pt())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&Cn("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[at([{provide:MH,useExisting:n}]),$e],ngContentSelectors:Zle,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(wa(Xle),Be(0,"div",0),Be(1,"div",1,2),en("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),Ct(3,Ule,9,0,"ng-container",3),Ct(4,jle,2,1,"div",4),Be(5,"div",5,6),hr(7),Be(8,"span",7),Ct(9,Gle,5,16,"label",8),Ue(),Ue(),Ct(10,Wle,2,0,"div",9),Ue(),Ct(11,qle,2,4,"div",10),Be(12,"div",11),Ct(13,Kle,2,1,"div",12),Ct(14,Yle,5,2,"div",13),Ue(),Ue()),2&t&&(_t(3),yt("ngIf","outline"==r.appearance),_t(1),yt("ngIf",r._prefixChildren.length),_t(5),yt("ngIf",r._hasFloatingLabel()),_t(1),yt("ngIf",r._suffixChildren.length),_t(1),yt("ngIf","outline"!=r.appearance),_t(1),yt("ngSwitch",r._getDisplayedMessages()),_t(1),yt("ngSwitchCase","error"),_t(1),yt("ngSwitchCase","hint"))},directives:[mf,k_,kV,RU],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[ece.transitionMessages]},changeDetection:0}),n})(),xT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[Ml,fr,RD],fr]}),n})();const RH=kf({passive:!0});let cce=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ni;const r=jo(t),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new ve,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||r.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&r.classList.contains(o)&&(r.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(r.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",a,RH),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",a,RH)}}),s}stopMonitoring(t){const r=jo(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(oe(ti),oe(nt))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({}),n})();const uce=new ye("MAT_INPUT_VALUE_ACCESSOR"),dce=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let hce=0;const fce=cae(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let pce=(()=>{class n extends fce{constructor(t,r,i,s,o,a,l,c,u,h){super(a,s,o,i),this._elementRef=t,this._platform=r,this._autofillMonitor=c,this._formField=h,this._uid="mat-input-"+hce++,this.focused=!1,this.stateChanges=new ve,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(D=>_U().has(D)),this._iOSKeyupListener=D=>{const M=D.target;!M.value&&0===M.selectionStart&&0===M.selectionEnd&&(M.setSelectionRange(1,1),M.setSelectionRange(0,0))};const p=this._elementRef.nativeElement,y=p.nodeName.toLowerCase();this._inputValueAccessor=l||p,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===y,this._isTextarea="textarea"===y,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ti(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(Zne.required))&&void 0!==s&&s}set required(t){this._required=Ti(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&_U().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ti(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=i,i?s.setAttribute("placeholder",i):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){dce.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(ti),V(Bo,10),V(Df,8),V(q_,8),V(Hj),V(uce,10),V(cce),V(nt),V(MH,8))},n.\u0275dir=ge({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&en("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(HC("disabled",r.disabled)("required",r.required),Yr("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),Cn("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[at([{provide:IT,useExisting:n}]),$e,dr]}),n})(),OH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[Hj],imports:[[kH,xT,fr],kH,xT]}),n})();function gce(n,e){if(1&n&&(Be(0,"div",1),tr(1,"img",2),Be(2,"div",3),Qt(3),Ue(),Be(4,"div",4),Qt(5),Ue(),Ue()),2&n){const t=ln();_t(1),yt("src",t.article.image,Wm)("alt",t.article.name),_t(2),Tl(t.article.name),_t(2),Tl(t.count)}}let mce=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=wn({type:n,selectors:[["app-shopping-cart-item"]],inputs:{article:"article",count:"count"},decls:1,vars:1,consts:[["class","shopping-cart-item",4,"ngIf"],[1,"shopping-cart-item"],[1,"article-image",3,"src","alt"],[1,"article-name"],[1,"article-count"]],template:function(t,r){1&t&&Ct(0,gce,6,4,"div",0),2&t&&yt("ngIf",void 0!==r.article)},directives:[mf],styles:[".shopping-cart-item[_ngcontent-%COMP%]{padding:16px;vertical-align:center;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#aaa;display:flex;flex-direction:row;align-items:center}.article-image[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover}.article-name[_ngcontent-%COMP%]{margin-left:8px;font-size:1.4em}.article-count[_ngcontent-%COMP%]{margin-left:auto;font-size:1.4em;text-align:right}"]}),n})();function PH(n){return ke((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const _ce=["*"];let Vy;function Uf(n){var e;return(null===(e=function(){if(void 0===Vy&&(Vy=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Vy=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Vy}())||void 0===e?void 0:e.createHTML(n))||n}function NH(n){return Error(`Unable to find icon with the name "${n}"`)}function FH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function LH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Bl{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let By=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Bl(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const o=this._sanitizer.sanitize(Wt.HTML,i);if(!o)throw LH(i);const a=Uf(o);return this._addSvgIconConfig(t,r,new Bl("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Bl(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(Wt.HTML,r);if(!s)throw LH(r);const o=Uf(s);return this._addSvgIconSetConfig(t,new Bl("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Wt.RESOURCE_URL,t);if(!r)throw FH(t);const i=this._cachedIconsByUrl.get(r);return i?Ye(Uy(i)):this._loadSvgIconFromConfig(new Bl(t,null)).pipe(ir(s=>this._cachedIconsByUrl.set(r,s)),Oe(s=>Uy(s)))}getNamedSvgIcon(t,r=""){const i=VH(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):hD(NH(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ye(Uy(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Oe(r=>Uy(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Ye(i):eB(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(to(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Wt.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Ye(null)})))).pipe(Oe(()=>{const o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw NH(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ir(r=>t.svgText=r),Oe(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ye(null):this._fetchIcon(t).pipe(ir(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const a=this._svgElementFromString(Uf("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Uf("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:o,value:a}=i[s];"id"!==o&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:s}=t,o=null!==(r=null==s?void 0:s.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(Wt.RESOURCE_URL,i);if(!a)throw FH(i);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(Oe(u=>Uf(u)),PH(()=>this._inProgressUrlFetches.delete(a)),mh());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(VH(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return wce(s)?new Bl(s.url,null,s.options):new Bl(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(oe(Ly,8),oe(HE),oe(Ot,8),oe(Io))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uy(n){return n.cloneNode(!0)}function VH(n,e){return n+":"+e}function wce(n){return!(!n.url||!n.options)}const Cce=cT(class{constructor(n){this._elementRef=n}}),Ece=new ye("mat-icon-location",{providedIn:"root",factory:function(){const n=R0(Ot),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),BH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Tce=BH.map(n=>`[${n}]`).join(", "),Sce=/^url\(['"]?#(.*?)['"]?\)$/;let Ice=(()=>{class n extends Cce{constructor(t,r,i,s,o){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=E.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Ti(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(Tce),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)BH.forEach(o=>{const a=r[s],l=a.getAttribute(o),c=l?l.match(Sce):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(pn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(V(Dt),V(By),wl("aria-hidden"),V(Ece),V(Io))},n.\u0275cmp=wn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(Yr("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Cn("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[$e],ngContentSelectors:_ce,decls:1,vars:0,template:function(t,r){1&t&&(wa(),hr(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),xce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[fr],fr]}),n})();function Ace(n,e){if(1&n&&(Be(0,"div",24),Qt(1),Ue()),2&n){const t=ln();_t(1),$i(" ",t.errorMessage,"\n")}}function Mce(n,e){if(1&n&&(Be(0,"li"),Qt(1),Ue()),2&n){const t=e.$implicit;_t(1),jC("",t.name,", pre\u021b: ",t.price,"")}}function Rce(n,e){if(1&n&&tr(0,"app-shopping-cart-item",27),2&n){const t=e.$implicit;yt("article",t[0])("count",t[1])}}function kce(n,e){if(1&n&&(Ct(0,Rce,1,2,"app-shopping-cart-item",25),Be(1,"div",26),Qt(2),Ue()),2&n){const t=ln();yt("ngForOf",t.items),_t(2),$i(" Total: ",t.totalPrice," Lei ")}}function Oce(n,e){1&n&&(Be(0,"span"),Qt(1,"Lista e goal\u0103"),Ue())}function Pce(n,e){1&n&&(Be(0,"mat-icon",28),Qt(1,"qr_code"),Ue(),Qt(2," Scan\u0103ri "))}function Nce(n,e){if(1&n&&tr(0,"app-shopping-cart-item",27),2&n){const t=e.$implicit;yt("article",t[0])("count",t[1])}}function Fce(n,e){if(1&n&&(Ct(0,Nce,1,2,"app-shopping-cart-item",25),Be(1,"div",26),Qt(2),Ue()),2&n){const t=ln();yt("ngForOf",t.items),_t(2),$i(" Total: ",t.totalPrice," Lei ")}}function Lce(n,e){1&n&&(Be(0,"mat-icon",28),Qt(1,"store"),Ue(),Qt(2," Produse "))}function Vce(n,e){1&n&&(Be(0,"th",29),Qt(1," Name "),Ue())}function Bce(n,e){if(1&n&&(Be(0,"td",30),Qt(1),Ue()),2&n){const t=e.$implicit;_t(1),$i(" ",t.name," ")}}function Uce(n,e){1&n&&(Be(0,"th",29),Qt(1," Ean "),Ue())}function jce(n,e){if(1&n&&(Be(0,"td",30),Qt(1),Ue()),2&n){const t=e.$implicit;_t(1),$i(" ",t.ean," ")}}function Hce(n,e){1&n&&(Be(0,"th",29),Qt(1," Price "),Ue())}function $ce(n,e){if(1&n&&(Be(0,"td",30),Qt(1),Ue()),2&n){const t=e.$implicit;_t(1),$i(" ",t.price," ")}}function zce(n,e){1&n&&tr(0,"tr",31)}function Gce(n,e){1&n&&tr(0,"tr",32)}let Wce=(()=>{class n{constructor(t,r,i){this.changeDetectorRef=t,this.beepService=r,this.updateService=i,this.acceptAnyCode=!0,this.items=[],this.totalPrice=0,this.catalogue=[{name:"Classy Crab (red)",ean:"7601234567890",image:"assets/classy_crab_red.png",price:10},{name:"Classy Crab (blue)",ean:"7601234561232",image:"assets/classy_crab_blue.png",price:10},{name:"Classy Crab (gold, ltd. ed.)",ean:"7601234564561",image:"assets/classy_crab_gold.png",price:50},{name:"Cafea",ean:"8000070038028",image:"https://www.lavazza.ro/ro/cafea/macinata/qualita-rossa.html",price:50}],this.catalogue2=[],this.EmpData=[{id:1,name:"Mellie",lastname:"Gabbott",email:"mgabbott0@indiatimes.com",gender:"Female",department:"Support",jobtitle:"Support Analyst"},{id:2,name:"Yehudi",lastname:"Ainsby",email:"yainsby1@w3.org",gender:"Female",department:"Support",jobtitle:"Support Analyst"},{id:3,name:"Noellyn",lastname:"Primett",email:"nprimett2@ning.com",gender:"Female",department:"Human Resources",jobtitle:"Project Manager"},{id:4,name:"Stefanie",lastname:"Yurenin",email:"syurenin3@boston.com",gender:"Female",department:"Marketing",jobtitle:"Senior officer"},{id:5,name:"Stormi",lastname:"O'Lunny",email:"solunny4@patch.com",gender:"Female",department:"Engineering",jobtitle:"Software Engineer"},{id:6,name:"Keelia",lastname:"Giraudy",email:"kgiraudy5@nba.com",gender:"Male",department:"Marketing",jobtitle:"Senior officer"},{id:7,name:"Ikey",lastname:"Laight",email:"ilaight6@wiley.com",gender:"Male",department:"Support",jobtitle:"Support Analyst"},{id:8,name:"Adrianna",lastname:"Ruddom",email:"aruddom7@seattletimes.com",gender:"Male",department:"Marketing",jobtitle:"Senior officer"},{id:9,name:"Dionysus",lastname:"McCory",email:"dmccory8@ox.ac.uk",gender:"Male",department:"Engineering",jobtitle:"Software Engineer"},{id:10,name:"Claybourne",lastname:"Shellard",email:"cshellard9@rediff.com",gender:"Male",department:"Engineering",jobtitle:"Software Engineer"}],this.displayedColumns=["name","ean","price"],this.dataSource=new _T(this.catalogue2),this.dataSourceFilters=new _T(this.catalogue2),this.shoppingCart=new dU}ngAfterViewInit(){navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?(this.initializeScanner(),setTimeout(()=>{this.updateService.checkForUpdates()},3e3),this.getDocsForTable(),console.log(this.dataSource,this.dataSourceFilters)):this.errorMessage="getUserMedia is not supported"}applyFilter(t){console.log(t);const r=t.target.value;return console.log(r),this.dataSource.filter=r.trim().toLowerCase()}getDocsForTable(){this.beepService.getDocs().subscribe(t=>{this.dataSource=new _T(t),this.catalogue2=t,console.log("table docs=>",this.dataSource)})}initializeScanner(){return navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?ny().CameraAccess.enumerateVideoDevices().then(t=>{const r=function(n){const t=n.filter(r=>function(n){const e=n.toLowerCase();return lie.some(t=>e.includes(t))}(r.label)).sort((r,i)=>r.label.localeCompare(i.label));return t.length>0?t[0]:void 0}(t);return r?(console.log(`Using ${r.label} (${r.deviceId}) as initial camera`),this.initializeScannerWithDevice(r.deviceId)):(console.error("Unable to determine suitable camera, will fall back to default handling"),this.initializeScannerWithDevice(void 0))}).catch(t=>{this.errorMessage=`Failed to enumerate devices: ${t}`,this.started=!1}):(this.errorMessage="getUserMedia is not supported. Please use Chrome on Android or Safari on iOS",this.started=!1,Promise.reject(this.errorMessage))}initializeScannerWithDevice(t){var r;console.log("Initializing Quagga scanner...");const i={};return t?i.deviceId=t:i.facingMode="environment",ny().init({inputStream:{type:"LiveStream",constraints:i,area:{top:"25%",right:"10%",left:"10%",bottom:"25%"},target:null!==(r=document.querySelector("#scanner-container"))&&void 0!==r?r:void 0},decoder:{readers:["ean_reader"],multiple:!1},locate:!1},s=>{s?(console.error(`Quagga initialization failed: ${s}`),this.errorMessage=`Initialization error: ${s}`,this.started=!1):(console.log("Quagga initialization succeeded"),ny().start(),this.started=!0,this.changeDetectorRef.detectChanges(),ny().onDetected(o=>{o.codeResult.code&&this.onBarcodeScanned(o.codeResult.code)}))})}onBarcodeScanned(t){const r=(new Date).getTime();if(t===this.lastScannedCode&&void 0!==this.lastScannedCodeDate&&r<this.lastScannedCodeDate+3500)return;let i=this.catalogue.find(s=>s.ean===t);if(!i){if(!this.acceptAnyCode)return;i=this.createUnknownArticle(t)}this.shoppingCart.addArticle(i),this.items=this.shoppingCart.contents,this.totalPrice=this.shoppingCart.totalPrice,this.lastScannedCode=t,this.lastScannedCodeDate=r,this.beepService.beep(),this.changeDetectorRef.detectChanges()}clearCart(){this.shoppingCart.clear(),this.items=this.shoppingCart.contents}createUnknownArticle(t){function r(i){let s=0,o=1;for(let a=i.length-2;a>=0;a--)s+=parseInt(i.charAt(a))*(1+o%2*2),o++;return(10-s%10)%10}return r(t),alert(r(t)),{ean:t,name:`Codul: ${t}`,image:"assets/classy_crab_unknown.png",price:0}}}return n.\u0275fac=function(t){return new(t||n)(V(zi),V(Wae),V(qae))},n.\u0275cmp=wn({type:n,selectors:[["app-root"]],decls:41,vars:8,consts:[["class","error-message",4,"ngIf"],["id","scanner-container"],[1,"instructions"],[4,"ngFor","ngForOf"],[1,"controls"],["id","acceptAnyCode","type","checkbox","name","acceptAnyCode","required","",3,"ngModel","ngModelChange"],["for","acceptAnyCode"],[3,"click"],[1,"shopping-cart"],["shoppingCartItems",""],[4,"ngIf","ngIfElse"],["mat-align-tabs","center"],["mat-tab-label",""],["appearance","standard"],["matInput","","placeholder","...",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","ean"],["matColumnDef","price"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"error-message"],[3,"article","count",4,"ngFor","ngForOf"],[1,"shopping-cart-total"],[3,"article","count"],[1,"example-tab-icon"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,r){if(1&t&&(Ct(0,Ace,2,1,"div",0),tr(1,"div",1),Be(2,"div",2),Be(3,"ul"),Ct(4,Mce,2,2,"li",3),Ue(),Ue(),Be(5,"div",4),Be(6,"form"),Be(7,"input",5),en("ngModelChange",function(s){return r.acceptAnyCode=s}),Ue(),Be(8,"label",6),Qt(9,"Accept\u0103 \u0219i coduri ne\xeenregistrate \xeen sistem"),Ue(),Qt(10," \xa0 "),Be(11,"button",7),en("click",function(){return r.clearCart()}),Qt(12,"\u0218terge selec\u021bii"),Ue(),Ue(),Ue(),Be(13,"div",8),Ct(14,kce,3,2,"ng-template",null,9,p_),Ct(16,Oce,2,0,"span",10),Be(17,"mat-tab-group",11),Be(18,"mat-card"),Be(19,"mat-tab"),Ct(20,Pce,3,0,"ng-template",12),Ct(21,Fce,3,2,"ng-template",null,9,p_),Ue(),Ue(),Be(23,"mat-tab"),Be(24,"mat-card"),Be(25,"mat-form-field",13),Be(26,"input",14,15),en("keyup",function(s){return r.applyFilter(s)}),Ue(),Ue(),Ct(28,Lce,3,0,"ng-template",12),Be(29,"table",16),Mo(30,17),Ct(31,Vce,2,0,"th",18),Ct(32,Bce,2,1,"td",19),Ro(),Mo(33,20),Ct(34,Uce,2,0,"th",18),Ct(35,jce,2,1,"td",19),Ro(),Mo(36,21),Ct(37,Hce,2,0,"th",18),Ct(38,$ce,2,1,"td",19),Ro(),Ct(39,zce,1,0,"tr",22),Ct(40,Gce,1,0,"tr",23),Ue(),Ue(),Ue(),Ue(),Ue()),2&t){const i=i_(15);yt("ngIf",r.errorMessage),_t(4),yt("ngForOf",r.catalogue2),_t(3),yt("ngModel",r.acceptAnyCode),_t(9),yt("ngIf",0===r.items.length)("ngIfElse",i),_t(13),yt("dataSource",r.dataSource),_t(10),yt("matHeaderRowDef",r.displayedColumns),_t(1),yt("matRowDefColumns",r.displayedColumns)}},directives:[mf,RE,NB,SB,Df,dD,zE,TB,sD,kle,Fle,bH,_le,lce,pce,Yj,fT,hT,dT,Xj,Zj,mce,Ice,pT,gT,Jj,eH],styles:[".error-message[_ngcontent-%COMP%]{background-color:#000;text-align:center;color:red;padding:8px}#scanner-container[_ngcontent-%COMP%]{height:300px;position:relative}#scanner-container[_ngcontent-%COMP%]  canvas{visibility:hidden;position:absolute;left:0;top:0}#scanner-container[_ngcontent-%COMP%]  video{width:100%;height:300px;object-fit:cover}.controls[_ngcontent-%COMP%]{padding-top:8px;padding-left:16px;padding-right:16px}.shopping-cart[_ngcontent-%COMP%]{padding:16px}.instructions[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px;padding-top:16px;font-size:.6em;z-index:100}.shopping-cart-total[_ngcontent-%COMP%]{margin-top:16px;font-size:1.6em;font-weight:700;text-align:right}table[_ngcontent-%COMP%]{width:100%}mat-tab-label[_ngcontent-%COMP%]{min-width:0%}"]}),n})();const jy=f(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function qce(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(new qe(o,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function UH(n,e){return ke(qce(n,e,arguments.length>=2,!0))}function AT(n){return n<=0?()=>Ni:ke((e,t)=>{let r=[];e.subscribe(new qe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function jH(n=Kce){return ke((e,t)=>{let r=!1;e.subscribe(new qe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Kce(){return new jy}function HH(n){return ke((e,t)=>{let r=!1;e.subscribe(new qe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Yu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zr((i,s)=>n(i,s,r)):_e,pn(1),t?HH(e):jH(()=>new jy))}class Wo{constructor(e,t){this.id=e,this.url=t}}class MT extends Wo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jf extends Wo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $H extends Wo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yce extends Wo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xce extends Wo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zce extends Wo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jce extends Wo{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eue extends Wo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tue extends Wo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zH{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class GH{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nue{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rue{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iue{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sue{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WH{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xt="primary";class oue{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xu(n){return new oue(n)}const qH="ngNavigationCancelingError";function RT(n){const e=Error("NavigationCancelingError: "+n);return e[qH]=!0,e}function lue(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function no(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!KH(n[i],e[i]))return!1;return!0}function KH(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function QH(n){return Array.prototype.concat.apply([],n)}function YH(n){return n.length>0?n[n.length-1]:null}function Rr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ro(n){return LC(n)?n:Jh(n)?bn(Promise.resolve(n)):Ye(n)}const due={exact:function JH(n,e,t){if(!jl(n.segments,e.segments)||!Hy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!JH(n.children[r],e.children[r],t))return!1;return!0},subset:e$},XH={exact:function(n,e){return no(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>KH(n[t],e[t]))},ignored:()=>!0};function ZH(n,e,t){return due[t.paths](n.root,e.root,t.matrixParams)&&XH[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function e$(n,e,t){return t$(n,e,e.segments,t)}function t$(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!jl(i,t)||e.hasChildren()||!Hy(i,t,r))}if(n.segments.length===t.length){if(!jl(n.segments,t)||!Hy(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!e$(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(jl(n.segments,i)&&Hy(n.segments,i,r)&&n.children[xt])&&t$(n.children[xt],e,s,r)}}function Hy(n,e,t){return e.every((r,i)=>XH[t](n[i].parameters,r.parameters))}class Ul{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xu(this.queryParams)),this._queryParamMap}toString(){return mue.serialize(this)}}class Ft{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Rr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $y(this)}}class Hf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xu(this.parameters)),this._parameterMap}toString(){return o$(this)}}function jl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class n${}class r${parse(e){const t=new Tue(e);return new Ul(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$f(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${zy(t)}=${zy(i)}`).join("&"):`${zy(t)}=${zy(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const mue=new r$;function $y(n){return n.segments.map(e=>o$(e)).join("/")}function $f(n,e){if(!n.hasChildren())return $y(n);if(e){const t=n.children[xt]?$f(n.children[xt],!1):"",r=[];return Rr(n.children,(i,s)=>{s!==xt&&r.push(`${s}:${$f(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Rr(n.children,(r,i)=>{i===xt&&(t=t.concat(e(r,i)))}),Rr(n.children,(r,i)=>{i!==xt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===xt?[$f(n.children[xt],!1)]:[`${i}:${$f(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[xt]?`${$y(n)}/${t[0]}`:`${$y(n)}/(${t.join("//")})`}}function i$(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zy(n){return i$(n).replace(/%3B/gi,";")}function kT(n){return i$(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gy(n){return decodeURIComponent(n)}function s$(n){return Gy(n.replace(/\+/g,"%20"))}function o$(n){return`${kT(n.path)}${function(n){return Object.keys(n).map(e=>`;${kT(e)}=${kT(n[e])}`).join("")}(n.parameters)}`}const bue=/^[^\/()?;=#]+/;function Wy(n){const e=n.match(bue);return e?e[0]:""}const wue=/^[^=?&#]+/,Eue=/^[^&#]+/;class Tue{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[xt]=new Ft(e,t)),r}parseSegment(){const e=Wy(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Hf(Gy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Wy(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Wy(this.remaining);i&&(r=i,this.capture(r))}e[Gy(t)]=Gy(r)}parseQueryParam(e){const t=function(n){const e=n.match(wue);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(Eue);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=s$(t),s=s$(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Wy(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=xt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[xt]:new Ft([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class a${constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=OT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=OT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=PT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return PT(e,this._root).map(t=>t.value)}}function OT(n,e){if(n===e.value)return e;for(const t of e.children){const r=OT(n,t);if(r)return r}return null}function PT(n,e){if(n===e.value)return[e];for(const t of e.children){const r=PT(n,t);if(r.length)return r.unshift(e),r}return[]}class qo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class l$ extends a${constructor(e,t){super(e),this.snapshot=t,NT(this,e)}toString(){return this.snapshot.toString()}}function c$(n,e){const t=function(n,e){const o=new qy([],{},{},"",{},xt,e,null,n.root,-1,{});return new d$("",new qo(o,[]))}(n,e),r=new Jr([new Hf("",{})]),i=new Jr({}),s=new Jr({}),o=new Jr({}),a=new Jr(""),l=new Ju(r,i,o,a,s,xt,e,t.root);return l.snapshot=t.root,new l$(new qo(l,[]),t)}class Ju{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(e=>Xu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(e=>Xu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function u$(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qy{constructor(e,t,r,i,s,o,a,l,c,u,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class d$ extends a${constructor(e,t){super(t),this.url=e,NT(this,t)}toString(){return h$(this._root)}}function NT(n,e){e.value._routerState=n,e.children.forEach(t=>NT(n,t))}function h$(n){const e=n.children.length>0?` { ${n.children.map(h$).join(", ")} } `:"";return`${n.value}${e}`}function FT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,no(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),no(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!no(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),no(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function LT(n,e){const t=no(n.params,e.params)&&function(n,e){return jl(n,e)&&n.every((t,r)=>no(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||LT(n.parent,e.parent))}function zf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return zf(n,r,i);return zf(n,r)})}(n,e,t);return new qo(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>zf(n,a)),o}}const r=function(n){return new Ju(new Jr(n.url),new Jr(n.params),new Jr(n.queryParams),new Jr(n.fragment),new Jr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>zf(n,s));return new qo(r,i)}}function Ky(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Gf(n){return"object"==typeof n&&null!=n&&n.outlets}function VT(n,e,t,r,i){let s={};return r&&Rr(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new Ul(t.root===n?e:f$(t.root,n,e),s,i)}function f$(n,e,t){const r={};return Rr(n.children,(i,s)=>{r[s]=i===e?t:f$(i,e,t)}),new Ft(n.segments,r)}class p${constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ky(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Gf);if(i&&i!==YH(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class BT{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function g$(n,e,t){if(n||(n=new Ft([],{})),0===n.segments.length&&n.hasChildren())return Qy(n,e,t);const r=function(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Gf(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!_$(l,c,o))return s;r+=2}else{if(!_$(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ft(n.segments.slice(0,r.pathIndex),{});return s.children[xt]=new Ft(n.segments.slice(r.pathIndex),n.children),Qy(s,0,i)}return r.match&&0===i.length?new Ft(n.segments,{}):r.match&&!n.hasChildren()?UT(n,e,t):r.match?Qy(n,0,i):UT(n,e,t)}function Qy(n,e,t){if(0===t.length)return new Ft(n.segments,{});{const r=function(n){return Gf(n[0])?n[0].outlets:{[xt]:n}}(t),i={};return Rr(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=g$(n.children[o],e,s))}),Rr(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ft(n.segments,i)}}function UT(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Gf(s)){const l=Lue(s.outlets);return new Ft(r,l)}if(0===i&&Ky(t[0])){r.push(new Hf(n.segments[e].path,m$(t[0]))),i++;continue}const o=Gf(s)?s.outlets[xt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Ky(a)?(r.push(new Hf(o,m$(a))),i+=2):(r.push(new Hf(o,{})),i++)}return new Ft(r,{})}function Lue(n){const e={};return Rr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=UT(new Ft([],{}),0,t))}),e}function m$(n){const e={};return Rr(n,(t,r)=>e[r]=`${t}`),e}function _$(n,e,t){return n==t.path&&no(e,t.parameters)}class Bue{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),FT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Zu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Rr(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Zu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Zu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Zu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new sue(s.value.snapshot))}),e.children.length&&this.forwardEvent(new rue(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(FT(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),FT(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class jT{constructor(e,t){this.routes=e,this.module=t}}function Ra(n){return"function"==typeof n}function Hl(n){return n instanceof Ul}const Wf=Symbol("INITIAL_VALUE");function qf(){return us(n=>Ny(n.map(e=>e.pipe(pn(1),Vl(Wf)))).pipe(UH((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Wf?i:(s===Wf&&(r=!0),r||!1!==s&&o!==t.length-1&&!Hl(s)?i:s),e)},Wf),Zr(e=>e!==Wf),Oe(e=>Hl(e)?e:!0===e),pn(1)))}class Wue{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Kf,this.attachRef=null}}class Kf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Wue,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let y$=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new kt,this.deactivateEvents=new kt,this.attachEvents=new kt,this.detachEvents=new kt,this.name=s||xt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new que(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(V(Kf),V(Ln),V(ko),wl("name"),V(zi))},n.\u0275dir=ge({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class que{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ju?this.route:e===Kf?this.childContexts:this.parent.get(e,t)}}let v$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=wn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&tr(0,"router-outlet")},directives:[y$],encapsulation:2}),n})();function b$(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Kue(r,Que(e,r))}}function Kue(n,e){n.children&&b$(n.children,e)}function Que(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function HT(n){const e=n.children&&n.children.map(HT),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==xt&&(t.component=v$),t}function fs(n){return n.outlet||xt}function w$(n,e){const t=n.filter(r=>fs(r)===e);return t.push(...n.filter(r=>fs(r)!==e)),t}const C$={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Yy(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},C$):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||lue)(t,n,e);if(!s)return Object.assign({},C$);const o={};Rr(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Xy(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Zy(n,e,r)&&fs(r)!==xt)}(n,t,r)){const o=new Ft(e,function(n,e,t,r){const i={};i[xt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&fs(s)!==xt){const o=new Ft([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[fs(s)]=o}return i}(n,e,r,new Ft(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Zy(n,e,r))}(n,t,r)){const o=new Ft(n.segments,function(n,e,t,r,i,s){const o={};for(const a of r)if(Zy(n,t,a)&&!i[fs(a)]){const l=new Ft([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[fs(a)]=l}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Ft(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Zy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function E$(n,e,t,r){return!!(fs(n)===r||r!==xt&&Zy(e,t,n))&&("**"===n.path||Yy(e,n,t).matched)}function D$(n,e,t){return 0===e.length&&!n.children[t]}class Qf{constructor(e){this.segmentGroup=e||null}}class T${constructor(e){this.urlTree=e}}function Jy(n){return new W(e=>e.error(new Qf(n)))}function S$(n){return new W(e=>e.error(new T$(n)))}function ede(n){return new W(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class rde{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Po)}apply(){const e=Xy(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ft(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,xt).pipe(Oe(s=>this.createUrlTree($T(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(to(s=>{if(s instanceof T$)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Qf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,xt).pipe(Oe(i=>this.createUrlTree($T(i),e.queryParams,e.fragment))).pipe(to(i=>{throw i instanceof Qf?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ft([],{[xt]:e}):e;return new Ul(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Oe(s=>new Ft([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return bn(i).pipe(Qu(s=>{const o=r.children[s],a=w$(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Oe(l=>({segment:l,outlet:s})))}),UH((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zr((i,s)=>n(i,s,r)):_e,AT(1),t?HH(e):jH(()=>new jy))}())}expandSegment(e,t,r,i,s,o){return bn(r).pipe(Qu(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(to(c=>{if(c instanceof Qf)return Ye(null);throw c}))),Yu(a=>!!a),to((a,l)=>{if(a instanceof jy||"EmptyError"===a.name){if(D$(t,i,s))return Ye(new Ft([],{}));throw new Qf(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return E$(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Jy(t):Jy(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?S$(s):this.lineralizeSegments(r,s).pipe(xn(o=>{const a=new Ft(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=Yy(t,i,s);if(!a)return Jy(t);const h=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?S$(h):this.lineralizeSegments(i,h).pipe(xn(p=>this.expandSegment(e,t,r,p.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ye(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Oe(p=>(r._loadedConfig=p,new Ft(i,{})))):Ye(new Ft(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=Yy(t,r,i);if(!o)return Jy(t);const c=i.slice(l);return this.getChildConfig(e,r,i).pipe(xn(h=>{const p=h.module,y=h.routes,{segmentGroup:D,slicedSegments:M}=Xy(t,a,c,y),N=new Ft(D.segments,D.children);if(0===M.length&&N.hasChildren())return this.expandChildren(p,y,N).pipe(Oe(fe=>new Ft(a,fe)));if(0===y.length&&0===M.length)return Ye(new Ft(a,{}));const z=fs(r)===s;return this.expandSegment(p,N,y,M,z?xt:s,!0).pipe(Oe(ae=>new Ft(a.concat(ae.segments),ae.children)))}))}getChildConfig(e,t,r){return t.children?Ye(new jT(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ye(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(xn(i=>{return i?this.configLoader.load(e.injector,t).pipe(Oe(s=>(t._loadedConfig=s,s))):(n=t,new W(e=>e.error(RT(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):Ye(new jT([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Ye(i.map(o=>{const a=e.get(o);let l;if((n=a)&&Ra(n.canLoad))l=a.canLoad(t,r);else{if(!Ra(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}var n;return ro(l)})).pipe(qf(),ir(o=>{if(!Hl(o))return;const a=RT(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Oe(o=>!0===o)):Ye(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ye(r);if(i.numberOfChildren>1||!i.children[xt])return ede(e.redirectTo);i=i.children[xt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Ul(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Rr(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Rr(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new Ft(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function $T(n){const e={};for(const r of Object.keys(n.children)){const s=$T(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(n){if(1===n.numberOfChildren&&n.children[xt]){const e=n.children[xt];return new Ft(n.segments.concat(e.segments),e.children)}return n}(new Ft(n.segments,e))}class I${constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ev{constructor(e,t){this.component=e,this.route=t}}function ode(n,e,t){const r=n._root;return Yf(r,e?e._root:null,t,[r.value])}function tv(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Yf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zu(e);return n.children.forEach(o=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!jl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!jl(n.url,e.url)||!no(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LT(n,e)||!no(n.queryParams,e.queryParams);default:return!LT(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new I$(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Yf(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ev(a.outlet.component,o))}else o&&Xf(e,a,i),i.canActivateChecks.push(new I$(r)),Yf(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Rr(s,(o,a)=>Xf(o,t.getContext(a),i)),i}function Xf(n,e,t){const r=Zu(n),i=n.value;Rr(r,(s,o)=>{Xf(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new ev(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class vde{}function x$(n){return new W(e=>e.error(n))}class wde{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Xy(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,xt);if(null===t)return null;const r=new qy([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new qo(r,t),s=new d$(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=u$(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=w$(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=A$(r);return i.sort((e,t)=>e.value.outlet===xt?-1:t.value.outlet===xt?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return D$(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!E$(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const y=r.length>0?YH(r).parameters:{};s=new qy(r,y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,k$(e),fs(e),e.component,e,M$(t),R$(t)+r.length,O$(e))}else{const y=Yy(t,e,r);if(!y.matched)return null;o=y.consumedSegments,a=r.slice(y.lastChild),s=new qy(o,y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,k$(e),fs(e),e.component,e,M$(t),R$(t)+o.length,O$(e))}const l=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:u}=Xy(t,o,a,l.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);var n;if(0===u.length&&c.hasChildren()){const y=this.processChildren(l,c);return null===y?null:[new qo(s,y)]}if(0===l.length&&0===u.length)return[new qo(s,[])];const h=fs(e)===i,p=this.processSegment(l,c,u,h?xt:i);return null===p?null:[new qo(s,p)]}}function Dde(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function A$(n){const e=[],t=new Set;for(const r of n){if(!Dde(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=A$(r.children);e.push(new qo(r.value,i))}return e.filter(r=>!t.has(r))}function M$(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function R$(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function k$(n){return n.data||{}}function O$(n){return n.resolve||{}}function zT(n){return us(e=>{const t=n(e);return t?bn(t).pipe(Oe(()=>e)):Ye(e)})}class kde extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const GT=new ye("ROUTES");class P${constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Oe(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new jT(QH(o.injector.get(GT,void 0,K.Self|K.Optional)).map(HT),o)}),to(s=>{throw t._loader$=void 0,s}));return t._loader$=new nU(i,()=>new ve).pipe(tU()),t._loader$}loadModuleFactory(e){return ro(e()).pipe(xn(t=>t instanceof a2?Ye(t):bn(this.compiler.compileModuleAsync(t))))}}class Pde{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Nde(n){throw n}function Fde(n,e,t){return e.parse("/")}function N$(n,e){return Ye(null)}const Lde={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vde={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{class n{constructor(t,r,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ve,this.errorHandler=Nde,this.malformedUriErrorHandler=Fde,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:N$,afterPreactivation:N$},this.urlHandlingStrategy=new Pde,this.routeReuseStrategy=new kde,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Po),this.console=o.get(z2);const h=o.get(nt);this.isNgZoneEnabled=h instanceof nt&&nt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Ul(new Ft([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new P$(o,a,p=>this.triggerEvent(new zH(p)),p=>this.triggerEvent(new GH(p))),this.routerState=c$(this.currentUrlTree,this.rootComponentType),this.transitions=new Jr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Zr(i=>0!==i.id),Oe(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),us(i=>{let s=!1,o=!1;return Ye(i).pipe(ir(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),us(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return nv(a.source)&&(this.browserUrlTree=a.extractedUrl),Ye(a).pipe(us(h=>{const p=this.transitions.getValue();return r.next(new MT(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions.getValue()?Ni:Promise.resolve(h)}),function(n,e,t,r){return us(i=>function(n,e,t,r,i){return new rde(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Oe(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ir(h=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:h.urlAfterRedirects})}),function(n,e,t,r,i){return xn(s=>function(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new wde(n,e,t,r,i,s).recognize();return null===o?x$(new vde):Ye(o)}catch(o){return x$(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Oe(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),ir(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const y=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(y,h)}this.browserUrlTree=h.urlAfterRedirects}const p=new Xce(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);r.next(p)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:p,extractedUrl:y,source:D,restoredState:M,extras:N}=a,z=new MT(p,this.serializeUrl(y),D,M);r.next(z);const j=c$(y,this.rootComponentType).snapshot;return Ye(Object.assign(Object.assign({},a),{targetSnapshot:j,urlAfterRedirects:y,extras:Object.assign(Object.assign({},N),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ni}),zT(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:p,replaceUrl:y}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!p,replaceUrl:!!y})}),ir(a=>{const l=new Zce(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Oe(a=>Object.assign(Object.assign({},a),{guards:ode(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return xn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Ye(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return bn(n).pipe(xn(i=>function(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ye(s.map(a=>{const l=tv(a,e,i);let c;if(function(n){return n&&Ra(n.canDeactivate)}(l))c=ro(l.canDeactivate(n,e,t,r));else{if(!Ra(l))throw new Error("Invalid CanDeactivate guard");c=ro(l(n,e,t,r))}return c.pipe(Yu())})).pipe(qf()):Ye(!0)}(i.component,i.route,t,e,r)),Yu(i=>!0!==i,!0))}(o,r,i,n).pipe(xn(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,r){return bn(e).pipe(Qu(i=>Tf(function(n,e){return null!==n&&e&&e(new nue(n)),Ye(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new iue(n)),Ye(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Q_(()=>Ye(o.guards.map(l=>{const c=tv(l,o.node,t);let u;if(function(n){return n&&Ra(n.canActivateChild)}(c))u=ro(c.canActivateChild(r,n));else{if(!Ra(c))throw new Error("Invalid CanActivateChild guard");u=ro(c(r,n))}return u.pipe(Yu())})).pipe(qf())));return Ye(s).pipe(qf())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ye(!0);const i=r.map(s=>Q_(()=>{const o=tv(s,e,t);let a;if(function(n){return n&&Ra(n.canActivate)}(o))a=ro(o.canActivate(e,n));else{if(!Ra(o))throw new Error("Invalid CanActivate guard");a=ro(o(e,n))}return a.pipe(Yu())}));return Ye(i).pipe(qf())}(n,i.route,t))),Yu(i=>!0!==i,!0))}(r,s,n,e):Ye(a)),Oe(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ir(a=>{if(Hl(a.guardsResult)){const c=RT(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new Jce(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Zr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),zT(a=>{if(a.guards.canActivateChecks.length)return Ye(a).pipe(ir(l=>{const c=new eue(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),us(l=>{let c=!1;return Ye(l).pipe(function(n,e){return xn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ye(t);let s=0;return bn(i).pipe(Qu(o=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return Ye({});const s={};return bn(i).pipe(xn(o=>function(n,e,t,r){const i=tv(n,e,r);return ro(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(ir(a=>{s[o]=a}))),AT(1),xn(()=>Object.keys(s).length===i.length?Ye(s):Ni))}(n._resolve,n,e,r).pipe(Oe(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),u$(n,t).resolve),null)))}(o.route,r,n,e)),ir(()=>s++),AT(1),xn(o=>s===i.length?Ye(t):Ni))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ir({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),ir(l=>{const c=new tue(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),zT(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:p,replaceUrl:y}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!p,replaceUrl:!!y})}),Oe(a=>{const l=function(n,e,t){const r=zf(n,e._root,t?t._root:void 0);return new l$(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),ir(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Oe(r=>(new Bue(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ir({next(){s=!0},complete(){s=!0}}),PH(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),to(a=>{if(o=!0,function(n){return n&&n[qH]}(a)){const l=Hl(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new $H(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nv(i.source)};this.scheduleNavigation(u,"imperative",null,h,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new Yce(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Ni}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){b$(t),this.config=t.map(HT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let h=null;switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}return null!==h&&(h=this.removeEmptyProps(h)),function(n,e,t,r,i){if(0===t.length)return VT(e.root,e.root,e,r,i);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new p$(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Rr(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new p$(t,e,r)}(t);if(s.toRoot())return VT(e.root,new Ft([],{}),e,r,i);const o=function(n,e,t){if(n.isAbsolute)return new BT(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new BT(s,s===e.root,0)}const r=Ky(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new BT(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Qy(o.segmentGroup,o.index,s.commands):g$(o.segmentGroup,o.index,s.commands);return VT(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,null!=u?u:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Hl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Lde):!1===r?Object.assign({},Vde):r,Hl(t))return ZH(this.currentUrlTree,t,i);const s=this.parseUrl(t);return ZH(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new jf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,l,c;if(this.disposed)return Promise.resolve(!1);const u=this.transitions.value,h=nv(r)&&u&&!nv(u.source),p=u.rawUrl.toString()===t.toString(),y=u.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(h&&p&&y)return Promise.resolve(!0);let M,N,z;o?(M=o.resolve,N=o.reject,z=o.promise):z=new Promise((fe,Ie)=>{M=fe,N=Ie});const j=++this.navigationId;let ae;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),ae=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):ae=0,this.setTransition({id:j,targetPageId:ae,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:M,reject:N,promise:z,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),z.catch(fe=>Promise.reject(fe))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new $H(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){NC()},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();function nv(n){return"imperative"!==n}class F${}class L${preload(e,t){return Ye(null)}}let V$=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new P$(i,r,l=>t.triggerEvent(new zH(l)),l=>t.triggerEvent(new GH(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zr(t=>t instanceof jf),Qu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Po);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return bn(i).pipe(Bs(),Oe(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ye(r._loadedConfig):this.loader.load(t.injector,r)).pipe(xn(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(oe(qi),oe(y_),oe(an),oe(F$))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})(),KT=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof MT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof WH&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new WH(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){NC()},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();const $l=new ye("ROUTER_CONFIGURATION"),B$=new ye("ROUTER_FORROOT_GUARD"),$de=[w_,{provide:n$,useClass:r$},{provide:qi,useFactory:function(n,e,t,r,i,s,o={},a,l){const c=new qi(null,n,e,t,r,i,QH(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var h,p;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(p=console.groupEnd)||void 0===p||p.call(console)}),c},deps:[n$,Kf,w_,an,y_,GT,$l,[class{},new jt],[class{},new jt]]},Kf,{provide:Ju,useFactory:function(n){return n.routerState.root},deps:[qi]},V$,L$,class{preload(e,t){return t().pipe(to(()=>Ye(null)))}},{provide:$l,useValue:{enableTracing:!1}}];function zde(){return new Y2("Router",qi)}let U$=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[$de,j$(t),{provide:B$,useFactory:qde,deps:[[qi,new jt,new ya]]},{provide:$l,useValue:r||{}},{provide:Vu,useFactory:Wde,deps:[Al,[new Bh(CE),new jt],$l]},{provide:KT,useFactory:Gde,deps:[qi,rne,$l]},{provide:F$,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:L$},{provide:Y2,multi:!0,useFactory:zde},[QT,{provide:hf,multi:!0,useFactory:Xde,deps:[QT]},{provide:H$,useFactory:Zde,deps:[QT]},{provide:$2,multi:!0,useExisting:H$}]]}}static forChild(t){return{ngModule:n,providers:[j$(t)]}}}return n.\u0275fac=function(t){return new(t||n)(oe(B$,8),oe(qi,8))},n.\u0275mod=bt({type:n}),n.\u0275inj=C({}),n})();function Gde(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new KT(n,e,t)}function Wde(n,e,t={}){return t.useHash?new jee(n,e):new yV(n,e)}function qde(n){return"guarded"}function j$(n){return[{provide:m7,multi:!0,useValue:n},{provide:GT,multi:!0,useValue:n}]}let QT=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ve}appInitializer(){return this.injector.get(Vee,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(qi),o=this.injector.get($l);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Ye(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get($l),i=this.injector.get(V$),s=this.injector.get(KT),o=this.injector.get(qi),a=this.injector.get(Il);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(oe(an))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();function Xde(n){return n.appInitializer.bind(n)}function Zde(n){return n.bootstrapListener.bind(n)}const H$=new ye("Router Initializer"),ehe=[{path:"",redirectTo:"AppComponent",pathMatch:"full"},{path:"produse",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=wn({type:n,selectors:[["app-afisare-produse"]],decls:2,vars:0,template:function(t,r){1&t&&(Be(0,"p"),Qt(1,"afisare-produse works!"),Ue())},styles:[""]}),n})()},{path:"cart",component:dU}];let the=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[U$.forRoot(ehe)]]}),n})();function $$(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function $(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){$$(s,r,i,o,a,"next",l)}function a(l){$$(s,r,i,o,a,"throw",l)}o(void 0)})}}const Ae=function(n,e){if(!n)throw td(e)},td=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},z$=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let p=(15&a)<<2|c>>6,y=63&c;l||(y=64,o||(p=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[p],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(z$(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==h)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},G$=function(n){const e=z$(n);return rv.encodeByteArray(e,!0)},iv=function(n){return G$(n).replace(/\./g,"")},XT=function(n){try{return rv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rhe(n){return W$(void 0,n)}function W$(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!ihe(t)||(n[t]=W$(n[t],e[t]));return n}function ihe(n){return"__proto__"!==n}class nd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function pr(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ZT(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function JT(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function q$(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function zl(){return"object"==typeof indexedDB}function Zf(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function eS(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ps extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,io.prototype.create)}}class io{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(n,e){return n.replace(che,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ps(i,`${this.serviceName}: ${o} (${i}).`,r)}}const che=/\{\$([^}]+)}/g;function Jf(n){return JSON.parse(n)}function kr(n){return JSON.stringify(n)}const sv=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Jf(XT(s[0])||""),t=Jf(XT(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch(s){}return{header:e,claims:t,data:r,signature:i}};function Qo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function rd(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function tS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ov(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function av(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(K$(s)&&K$(o)){if(!av(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function K$(n){return null!==n&&"object"==typeof n}function ep(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class hhe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let h=0;h<16;h++)r[h]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let h=0;h<16;h++)r[h]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let h=16;h<80;h++){const p=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=4294967295&(p<<1|p>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):h<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const p=(i<<5|i>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class phe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function(n,e){if("object"!=typeof n||null===n)return!1;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(e)?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=nS),void 0===i.error&&(i.error=nS),void 0===i.complete&&(i.complete=nS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nS(){}const cv=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function rS(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function ka(n){return n&&n._delegate?n._delegate:n}class gr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gl="[DEFAULT]";class Che{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new nd;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Gl})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Gl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return $(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Gl){return this.instances.has(e)}getOptions(e=Gl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Gl?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=Gl){return this.component?this.component.multipleInstances?e:Gl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class The{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Che(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const iS=[];var zt=(()=>{return(n=zt||(zt={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",zt;var n})();const Q$={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},She=zt.INFO,Ihe={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},xhe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Ihe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Wl{constructor(e){this.name=e,this._logLevel=She,this._logHandler=xhe,this._userLogHandler=null,iS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Q$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}let Y$,X$;const Z$=new WeakMap,sS=new WeakMap,J$=new WeakMap,oS=new WeakMap,aS=new WeakMap;let lS={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return sS.get(n);if("objectStoreNames"===e)return n.objectStoreNames||J$.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Fhe(n){return"function"==typeof n?function(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(X$||(X$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...e){return n.apply(cS(this),e),Yo(Z$.get(this))}:function(...e){return Yo(n.apply(cS(this),e))}:function(e,...t){const r=n.call(cS(this),e,...t);return J$.set(r,e.sort?e.sort():[e]),Yo(r)}}(n):(n instanceof IDBTransaction&&function(n){if(sS.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});sS.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,Y$||(Y$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(n,lS):n)}function Yo(n){if(n instanceof IDBRequest)return function(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Yo(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Z$.set(t,n)}).catch(()=>{}),aS.set(e,n),e}(n);if(oS.has(n))return oS.get(n);const e=Fhe(n);return e!==n&&(oS.set(n,e),aS.set(e,n)),e}const cS=n=>aS.get(n);function uv(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Yo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Yo(o.result),l.oldVersion,l.newVersion,Yo(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function uS(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Yo(t).then(()=>{})}const Lhe=["get","getKey","getAll","getAllKeys","count"],Vhe=["put","add","delete","clear"],dS=new Map;function e3(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(dS.get(e))return dS.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Vhe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Lhe.includes(t))return;const s=function(){var o=$(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return dS.set(e,s),s}var n;lS=mK(gK({},n=lS),{get:(e,t,r)=>e3(e,t)||n.get(e,t,r),has:(e,t)=>!!e3(e,t)||n.has(e,t)});class Bhe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const hS="@firebase/app",ql=new Wl("@firebase/app"),fS="[DEFAULT]",hfe={[hS]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kl=new Map,dv=new Map;function ffe(n,e){try{n.container.addComponent(e)}catch(t){ql.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Or(n){const e=n.name;if(dv.has(e))return ql.debug(`There were multiple attempts to register component ${e}.`),!1;dv.set(e,n);for(const t of Kl.values())ffe(t,n);return!0}function Oa(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Pa=new io("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gfe{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pa.create("app-deleted",{appName:this._name})}}const Ql="9.9.3";function mfe(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:fS,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw Pa.create("bad-app-name",{appName:String(r)});const i=Kl.get(r);if(i){if(av(n,i.options)&&av(t,i.config))return i;throw Pa.create("duplicate-app",{appName:r})}const s=new The(r);for(const a of dv.values())s.addComponent(a);const o=new gfe(n,t,s);return Kl.set(r,o),o}function tp(n=fS){const e=Kl.get(n);if(!e)throw Pa.create("no-app",{appName:n});return e}function n3(){return Array.from(Kl.values())}function tn(n,e,t){var r;let i=null!==(r=hfe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ql.warn(a.join(" "))}Or(new gr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const np="firebase-heartbeat-store";let gS=null;function r3(){return gS||(gS=uv("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(np)}}).catch(n=>{throw Pa.create("idb-open",{originalErrorMessage:n.message})})),gS}function mS(){return mS=$(function*(n){var e;try{return(yield r3()).transaction(np).objectStore(np).get(o3(n))}catch(t){if(t instanceof ps)ql.warn(t.message);else{const r=Pa.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});ql.warn(r.message)}}}),mS.apply(this,arguments)}function s3(n,e){return _S.apply(this,arguments)}function _S(){return _S=$(function*(n,e){var t;try{const i=(yield r3()).transaction(np,"readwrite");return yield i.objectStore(np).put(e,o3(n)),i.done}catch(r){if(r instanceof ps)ql.warn(r.message);else{const i=Pa.create("idb-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message});ql.warn(i.message)}}}),_S.apply(this,arguments)}function o3(n){return`${n.name}!${n.options.appId}`}class Cfe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Dfe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return $(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=a3();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return $(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=a3(),{heartbeatsToSend:r,unsentEntries:i}=function(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),l3(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),l3(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=iv(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function a3(){return(new Date).toISOString().substring(0,10)}class Dfe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return $(function*(){return!!zl()&&Zf().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return $(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function(n){return mS.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return $(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return s3(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return $(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return s3(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function l3(n){return iv(JSON.stringify({version:2,heartbeats:n})).length}Or(new gr("platform-logger",e=>new Bhe(e),"PRIVATE")),Or(new gr("heartbeat",e=>new Cfe(e),"PRIVATE")),tn(hS,"0.7.31",""),tn(hS,"0.7.31","esm2017"),tn("fire-js",""),tn("firebase","9.9.3","app");const c3="@firebase/installations",yS="0.5.12",d3=`w:${yS}`,h3="FIS_v2",Xo=new io("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function f3(n){return n instanceof ps&&n.code.includes("request-failed")}function vS({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function p3(n){return{token:n.token,requestStatus:2,expiresIn:Ofe(n.expiresIn),creationTime:Date.now()}}function bS(n,e){return wS.apply(this,arguments)}function wS(){return wS=$(function*(n,e){const r=(yield e.json()).error;return Xo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),wS.apply(this,arguments)}function g3({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function m3(n,{refreshToken:e}){const t=g3(n);return t.append("Authorization",function(n){return`${h3} ${n}`}(e)),t}function CS(n){return ES.apply(this,arguments)}function ES(){return ES=$(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e}),ES.apply(this,arguments)}function Ofe(n){return Number(n.replace("s","000"))}function Nfe(n,e){return DS.apply(this,arguments)}function DS(){return DS=$(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=vS(n),i=g3(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:h3,appId:n.appId,sdkVersion:d3})},l=yield CS(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:p3(c.authToken)}}throw yield bS("Create Installation",l)}),DS.apply(this,arguments)}function _3(n){return new Promise(e=>{setTimeout(e,n)})}const Lfe=/^[cdef][\w-]{21}$/;function Vfe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function(n){return function(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Lfe.test(t)?t:""}catch(n){return""}}function id(n){return`${n.appName}!${n.appId}`}const sd=new Map;function y3(n,e){const t=id(n);v3(t,e),function(n,e){const t=(!Yl&&"BroadcastChannel"in self&&(Yl=new BroadcastChannel("[Firebase] FID Change"),Yl.onmessage=n=>{v3(n.data.key,n.data.fid)}),Yl);t&&t.postMessage({key:n,fid:e}),0===sd.size&&Yl&&(Yl.close(),Yl=null)}(t,e)}function v3(n,e){const t=sd.get(n);if(t)for(const r of t)r(e)}let Yl=null;const Xl="firebase-installations-store";let SS=null;function IS(){return SS||(SS=uv("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Xl)}})),SS}function hv(n,e){return xS.apply(this,arguments)}function xS(){return xS=$(function*(n,e){const t=id(n),i=(yield IS()).transaction(Xl,"readwrite"),s=i.objectStore(Xl),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&y3(n,e.fid),e}),xS.apply(this,arguments)}function AS(n){return MS.apply(this,arguments)}function MS(){return MS=$(function*(n){const e=id(n),r=(yield IS()).transaction(Xl,"readwrite");yield r.objectStore(Xl).delete(e),yield r.done}),MS.apply(this,arguments)}function rp(n,e){return RS.apply(this,arguments)}function RS(){return RS=$(function*(n,e){const t=id(n),i=(yield IS()).transaction(Xl,"readwrite"),s=i.objectStore(Xl),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&y3(n,a.fid),a}),RS.apply(this,arguments)}function kS(n){return OS.apply(this,arguments)}function OS(){return OS=$(function*(n){let e;const t=yield rp(n.appConfig,r=>{const i=Gfe(r),s=Wfe(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),OS.apply(this,arguments)}function Gfe(n){return E3(n||{fid:Vfe(),registrationStatus:0})}function Wfe(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Xo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(n,e){return PS.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Kfe(n)}:{installationEntry:e}}function PS(){return PS=$(function*(n,e){try{const t=yield Nfe(n,e);return hv(n.appConfig,t)}catch(t){throw f3(t)&&409===t.customData.serverCode?yield AS(n.appConfig):yield hv(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),PS.apply(this,arguments)}function Kfe(n){return NS.apply(this,arguments)}function NS(){return NS=$(function*(n){let e=yield C3(n.appConfig);for(;1===e.registrationStatus;)yield _3(100),e=yield C3(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield kS(n);return r||t}return e}),NS.apply(this,arguments)}function C3(n){return rp(n,e=>{if(!e)throw Xo.create("installation-not-found");return E3(e)})}function E3(n){return function(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Yfe(n,e){return FS.apply(this,arguments)}function FS(){return FS=$(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=Xfe(n,t),i=m3(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:d3,appId:n.appId}})},l=yield CS(()=>fetch(r,a));if(l.ok)return p3(yield l.json());throw yield bS("Generate Auth Token",l)}),FS.apply(this,arguments)}function Xfe(n,{fid:e}){return`${vS(n)}/${e}/authTokens:generate`}function LS(n){return VS.apply(this,arguments)}function VS(){return VS=$(function*(n,e=!1){let t;const r=yield rp(n.appConfig,s=>{if(!T3(s))throw Xo.create("not-registered");const o=s.authToken;if(!e&&epe(o))return s;if(1===o.requestStatus)return t=Zfe(n,e),s;{if(!navigator.onLine)throw Xo.create("app-offline");const a=npe(s);return t=Jfe(n,a),a}});return t?yield t:r.authToken}),VS.apply(this,arguments)}function Zfe(n,e){return BS.apply(this,arguments)}function BS(){return BS=$(function*(n,e){let t=yield D3(n.appConfig);for(;1===t.authToken.requestStatus;)yield _3(100),t=yield D3(n.appConfig);const r=t.authToken;return 0===r.requestStatus?LS(n,e):r}),BS.apply(this,arguments)}function D3(n){return rp(n,e=>{if(!T3(e))throw Xo.create("not-registered");return function(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Jfe(n,e){return US.apply(this,arguments)}function US(){return US=$(function*(n,e){try{const t=yield Yfe(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield hv(n.appConfig,r),t}catch(t){if(!f3(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield hv(n.appConfig,r)}else yield AS(n.appConfig);throw t}}),US.apply(this,arguments)}function T3(n){return void 0!==n&&2===n.registrationStatus}function epe(n){return 2===n.requestStatus&&!function(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function npe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function jS(){return jS=$(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield kS(e);return r?r.catch(console.error):LS(e).catch(console.error),t.fid}),jS.apply(this,arguments)}function HS(){return HS=$(function*(n,e=!1){const t=n;return yield ope(t),(yield LS(t,e)).token}),HS.apply(this,arguments)}function ope(n){return $S.apply(this,arguments)}function $S(){return $S=$(function*(n){const{registrationPromise:e}=yield kS(n);e&&(yield e)}),$S.apply(this,arguments)}function WS(n){return Xo.create("missing-app-config-values",{valueName:n})}const S3="installations";Or(new gr(S3,n=>{const e=n.getProvider("app").getImmediate(),t=function(n){if(!n||!n.options)throw WS("App Configuration");if(!n.name)throw WS("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw WS(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Oa(e,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),Or(new gr("installations-internal",n=>{const t=Oa(n.getProvider("app").getImmediate(),S3).getImmediate();return{getId:()=>function(n){return jS.apply(this,arguments)}(t),getToken:i=>function(n){return HS.apply(this,arguments)}(t,i)}},"PRIVATE")),tn(c3,yS),tn(c3,yS,"esm2017");const qS="@firebase/remote-config",Si=new io("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Dpe{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return $(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Tpe(n=navigator){return n.languages&&n.languages[0]||n.language}class Spe{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return $(function*(){var r,i,s;const[o,a]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},h={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:t.appId,language_code:Tpe()},p={method:"POST",headers:u,body:JSON.stringify(h)},y=fetch(c,p),D=new Promise((fe,Ie)=>{e.signal.addEventListener(()=>{const Ke=new Error("The operation was aborted.");Ke.name="AbortError",Ie(Ke)})});let M;try{yield Promise.race([y,D]),M=yield y}catch(fe){let Ie="fetch-client-network";throw"AbortError"===(null===(r=fe)||void 0===r?void 0:r.name)&&(Ie="fetch-timeout"),Si.create(Ie,{originalErrorMessage:null===(i=fe)||void 0===i?void 0:i.message})}let N=M.status;const z=M.headers.get("ETag")||void 0;let j,ae;if(200===M.status){let fe;try{fe=yield M.json()}catch(Ie){throw Si.create("fetch-client-parse",{originalErrorMessage:null===(s=Ie)||void 0===s?void 0:s.message})}j=fe.entries,ae=fe.state}if("INSTANCE_STATE_UNSPECIFIED"===ae?N=500:"NO_CHANGE"===ae?N=304:("NO_TEMPLATE"===ae||"EMPTY_CONFIG"===ae)&&(j={}),304!==N&&200!==N)throw Si.create("fetch-status",{httpStatus:N});return{status:N,eTag:z,config:j}})()}}class Ape{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return $(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return $(function*(){yield function(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Si.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(n){if(!(n instanceof ps&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+rS(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class kpe{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pv(n,e){var t;const r=n.target.error||void 0;return Si.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const Zl="app_namespace_store";class Fpe{constructor(e,t,r,i=function(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(pv(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Zl,{keyPath:"compositeKey"})}}catch(r){e(Si.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return $(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([Zl],"readonly").objectStore(Zl),c=t.createCompositeKey(e);try{const u=l.get(c);u.onerror=h=>{s(pv(h,"storage-get"))},u.onsuccess=h=>{const p=h.target.result;i(p?p.value:void 0)}}catch(u){s(Si.create("storage-get",{originalErrorMessage:null===(o=u)||void 0===o?void 0:o.message}))}})})()}set(e,t){var r=this;return $(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([Zl],"readwrite").objectStore(Zl),u=r.createCompositeKey(e);try{const h=c.put({compositeKey:u,value:t});h.onerror=p=>{o(pv(p,"storage-set"))},h.onsuccess=()=>{s()}}catch(h){o(Si.create("storage-set",{originalErrorMessage:null===(a=h)||void 0===a?void 0:a.message}))}})})()}delete(e){var t=this;return $(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([Zl],"readwrite").objectStore(Zl),c=t.createCompositeKey(e);try{const u=l.delete(c);u.onerror=h=>{s(pv(h,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(Si.create("storage-delete",{originalErrorMessage:null===(o=u)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Lpe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return $(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Bpe(){return ZS.apply(this,arguments)}function ZS(){return(ZS=$(function*(){if(!zl())return!1;try{return yield Zf()}catch(n){return!1}})).apply(this,arguments)}Or(new gr("remote-config",function(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Si.create("registration-window");if(!zl())throw Si.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Si.create("registration-project-id");if(!o)throw Si.create("registration-api-key");if(!a)throw Si.create("registration-app-id");const l=new Fpe(a,r.name,t=t||"firebase"),c=new Lpe(l),u=new Wl(qS);u.logLevel=zt.ERROR;const h=new Spe(i,Ql,t,s,o,a),p=new Ape(h,l),y=new Dpe(p,l,c,u),D=new kpe(r,y,c,l,u);return function(n){const e=ka(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(D),D},"PUBLIC").setMultipleInstances(!0)),tn(qS,"0.3.11"),tn(qS,"0.3.11","esm2017");const Upe="/firebase-messaging-sw.js",jpe="/firebase-cloud-messaging-push-scope",M3="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",R3="google.c.a.c_id",$pe="google.c.a.c_l",zpe="google.c.a.ts",Gpe="google.c.a.e";var od=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(od||(od={})),od))();function Zo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wpe(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const JS="fcm_token_details_db",k3="fcm_token_object_Store";function Kpe(n){return eI.apply(this,arguments)}function eI(){return eI=$(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(JS))return null;let e=null;return(yield uv(JS,5,{upgrade:(r=$(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(k3))return;const c=a.objectStore(k3),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const h=u;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:null!==(l=h.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:"string"==typeof h.vapidKey?h.vapidKey:Zo(h.vapidKey)}}}else if(3===s){const h=u;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Zo(h.auth),p256dh:Zo(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Zo(h.vapidKey)}}}else if(4===s){const h=u;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Zo(h.auth),p256dh:Zo(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Zo(h.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield uS(JS),yield uS("fcm_vapid_details_db"),yield uS("undefined"),Qpe(e)?e:null;var r}),eI.apply(this,arguments)}function Qpe(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Jl="firebase-messaging-store";let tI=null;function nI(){return tI||(tI=uv("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Jl)}})),tI}function O3(n){return rI.apply(this,arguments)}function rI(){return rI=$(function*(n){const e=aI(n),r=yield(yield nI()).transaction(Jl).objectStore(Jl).get(e);if(r)return r;{const i=yield Kpe(n.appConfig.senderId);if(i)return yield iI(n,i),i}}),rI.apply(this,arguments)}function iI(n,e){return sI.apply(this,arguments)}function sI(){return sI=$(function*(n,e){const t=aI(n),i=(yield nI()).transaction(Jl,"readwrite");return yield i.objectStore(Jl).put(e,t),yield i.done,e}),sI.apply(this,arguments)}function Zpe(n){return oI.apply(this,arguments)}function oI(){return oI=$(function*(n){const e=aI(n),r=(yield nI()).transaction(Jl,"readwrite");yield r.objectStore(Jl).delete(e),yield r.done}),oI.apply(this,arguments)}function aI({appConfig:n}){return n.appId}const Pr=new io("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ege(n,e){return lI.apply(this,arguments)}function lI(){return lI=$(function*(n,e){var t;const r=yield hI(n),i=N3(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(dI(n.appConfig),s)).json()}catch(a){throw Pr.create("token-subscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw Pr.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Pr.create("token-subscribe-no-token");return o.token}),lI.apply(this,arguments)}function tge(n,e){return cI.apply(this,arguments)}function cI(){return cI=$(function*(n,e){var t;const r=yield hI(n),i=N3(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${dI(n.appConfig)}/${e.token}`,s)).json()}catch(a){throw Pr.create("token-update-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}if(o.error)throw Pr.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Pr.create("token-update-no-token");return o.token}),cI.apply(this,arguments)}function P3(n,e){return uI.apply(this,arguments)}function uI(){return uI=$(function*(n,e){var t;const i={method:"DELETE",headers:yield hI(n)};try{const o=yield(yield fetch(`${dI(n.appConfig)}/${e}`,i)).json();if(o.error)throw Pr.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw Pr.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}}),uI.apply(this,arguments)}function dI({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function hI(n){return fI.apply(this,arguments)}function fI(){return fI=$(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}),fI.apply(this,arguments)}function N3({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==M3&&(i.web.applicationPubKey=r),i}function rge(n){return pI.apply(this,arguments)}function pI(){return pI=$(function*(n){const e=yield sge(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Zo(e.getKey("auth")),p256dh:Zo(e.getKey("p256dh"))},r=yield O3(n.firebaseDependencies);if(r){if(oge(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?ige(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield P3(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return L3(n.firebaseDependencies,t)}return L3(n.firebaseDependencies,t)}),pI.apply(this,arguments)}function F3(n){return gI.apply(this,arguments)}function gI(){return gI=$(function*(n){const e=yield O3(n.firebaseDependencies);e&&(yield P3(n.firebaseDependencies,e.token),yield Zpe(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),gI.apply(this,arguments)}function ige(n,e){return mI.apply(this,arguments)}function mI(){return mI=$(function*(n,e){try{const t=yield tge(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield iI(n.firebaseDependencies,r),t}catch(t){throw yield F3(n),t}}),mI.apply(this,arguments)}function L3(n,e){return _I.apply(this,arguments)}function _I(){return _I=$(function*(n,e){const r={token:yield ege(n,e),createTime:Date.now(),subscriptionOptions:e};return yield iI(n,r),r.token}),_I.apply(this,arguments)}function sge(n,e){return yI.apply(this,arguments)}function yI(){return yI=$(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wpe(e)})}),yI.apply(this,arguments)}function oge(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function V3(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function(n,e){!e.data||(n.data=e.data)}(e,n),function(n,e){var t,r,i,s,o;if(!e.fcmOptions&&!(null===(t=e.notification)||void 0===t?void 0:t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function uge(n){return"object"==typeof n&&!!n&&R3 in n}function B3(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function vI(n){return Pr.create("missing-app-config-values",{valueName:n})}B3("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),B3("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hge{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(n){if(!n||!n.options)throw vI("App Configuration Object");if(!n.name)throw vI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw vI(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function U3(n){return bI.apply(this,arguments)}function bI(){return bI=$(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(Upe,{scope:jpe}),n.swRegistration.update().catch(()=>{})}catch(t){throw Pr.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}}),bI.apply(this,arguments)}function fge(n,e){return wI.apply(this,arguments)}function wI(){return wI=$(function*(n,e){if(!e&&!n.swRegistration&&(yield U3(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Pr.create("invalid-sw-registration");n.swRegistration=e}}),wI.apply(this,arguments)}function pge(n,e){return CI.apply(this,arguments)}function CI(){return CI=$(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=M3)}),CI.apply(this,arguments)}function EI(){return EI=$(function*(n,e){if(!navigator)throw Pr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pr.create("permission-blocked");return yield pge(n,null==e?void 0:e.vapidKey),yield fge(n,null==e?void 0:e.serviceWorkerRegistration),rge(n)}),EI.apply(this,arguments)}function gge(n,e,t){return DI.apply(this,arguments)}function DI(){return DI=$(function*(n,e,t){const r=mge(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[R3],message_name:t[$pe],message_time:t[zpe],message_device_time:Math.floor(Date.now()/1e3)})}),DI.apply(this,arguments)}function mge(n){switch(n){case od.NOTIFICATION_CLICKED:return"notification_open";case od.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function TI(){return TI=$(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===od.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(V3(t)):n.onMessageHandler.next(V3(t)));const r=t.data;uge(r)&&"1"===r[Gpe]&&(yield gge(n,t.messageType,r))}),TI.apply(this,arguments)}const H3="@firebase/messaging";function z3(){return SI.apply(this,arguments)}function SI(){return(SI=$(function*(){try{yield Zf()}catch(n){return!1}return"undefined"!=typeof window&&zl()&&eS()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}Or(new gr("messaging",n=>{const e=new hge(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(n,e){return TI.apply(this,arguments)}(e,t)),e},"PUBLIC")),Or(new gr("messaging-internal",n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function(n,e){return EI.apply(this,arguments)}(e,r)}},"PRIVATE")),tn(H3,"0.9.16"),tn(H3,"0.9.16","esm2017");const gv="analytics",Ege="firebase_id",Sge="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",G3="https://www.googletagmanager.com/gtag/js",Nr=new Wl("@firebase/analytics");function W3(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Ige(n,e){const t=document.createElement("script");t.src=`${G3}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Age(n,e,t,r,i,s){return AI.apply(this,arguments)}function AI(){return AI=$(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield W3(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){Nr.error(a)}n("config",i,s)}),AI.apply(this,arguments)}function Mge(n,e,t,r,i){return MI.apply(this,arguments)}function MI(){return MI=$(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield W3(t);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){Nr.error(s)}}),MI.apply(this,arguments)}function Oge(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(G3))return e;return null}const Ki=new io("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),q3=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Vge(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Bge(n){return RI.apply(this,arguments)}function RI(){return RI=$(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:Vge(r)},s=Sge.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();(null===(e=l.error)||void 0===e?void 0:e.message)&&(a=l.error.message)}catch(l){}throw Ki.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),RI.apply(this,arguments)}function Uge(n){return kI.apply(this,arguments)}function kI(){return kI=$(function*(n,e=q3,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Ki.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ki.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new $ge;return setTimeout($(function*(){a.abort()}),void 0!==t?t:6e4),K3({appId:r,apiKey:i,measurementId:s},o,a,e)}),kI.apply(this,arguments)}function K3(n,e,t){return OI.apply(this,arguments)}function OI(){return OI=$(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=q3){var s,o;const{appId:a,measurementId:l}=n;try{yield jge(r,e)}catch(c){if(l)return Nr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:l};throw c}try{const c=yield Bge(n);return i.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!Hge(u)){if(i.deleteThrottleMetadata(a),l)return Nr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null==u?void 0:u.message}]`),{appId:a,measurementId:l};throw c}const h=503===Number(null===(o=null==u?void 0:u.customData)||void 0===o?void 0:o.httpStatus)?rS(t,i.intervalMillis,30):rS(t,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:t+1};return i.setThrottleMetadata(a,p),Nr.debug(`Calling attemptFetch again in ${h} millis`),K3(n,p,r,i)}}),OI.apply(this,arguments)}function jge(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Ki.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Hge(n){if(!(n instanceof ps&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class $ge{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let PI,UI;function NI(){return NI=$(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}}),NI.apply(this,arguments)}function Q3(n){UI=n}function Y3(n){PI=n}function Qge(){return jI.apply(this,arguments)}function jI(){return jI=$(function*(){var n;if(!zl())return Nr.warn(Ki.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Zf()}catch(e){return Nr.warn(Ki.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0}),jI.apply(this,arguments)}function HI(){return HI=$(function*(n,e,t,r,i,s,o){var a;const l=Uge(n);l.then(y=>{t[y.measurementId]=y.appId,n.options.measurementId&&y.measurementId!==n.options.measurementId&&Nr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Nr.error(y)),e.push(l);const c=Qge().then(y=>{if(y)return r.getId()}),[u,h]=yield Promise.all([l,c]);Oge()||Ige(s,u.measurementId),UI&&(i("consent","default",UI),Q3(void 0)),i("js",new Date);const p=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return p.origin="firebase",p.update=!0,null!=h&&(p[Ege]=h),i("config",u.measurementId,p),PI&&(i("set",PI),Y3(void 0)),u.measurementId}),HI.apply(this,arguments)}class Xge{constructor(e){this.app=e}_delete(){return delete Jo[this.app.options.appId],Promise.resolve()}}let Jo={},X3=[];const Z3={};let ez,ea,mv="dataLayer",$I=!1;function Jge(n,e,t){!function(){const n=[];if(JT()&&n.push("This is a browser extension environment."),eS()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Ki.create("invalid-analytics-context",{errorInfo:e});Nr.warn(t.message)}}();const r=n.options.appId;if(!r)throw Ki.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Ki.create("no-api-key");Nr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jo[r])throw Ki.create("already-exists",{id:r});if(!$I){!function(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(mv);const{wrappedGtag:s,gtagCore:o}=function(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(n,e,t,r){function s(){return(s=$(function*(o,a,l){try{"event"===o?yield Mge(n,e,t,a,l):"config"===o?yield Age(n,e,t,r,a,l):"consent"===o?n("consent","update",l):n("set",a)}catch(c){Nr.error(c)}})).apply(this,arguments)}return function(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Jo,X3,Z3,mv,"gtag");ea=s,ez=o,$I=!0}return Jo[r]=function(n,e,t,r,i,s,o){return HI.apply(this,arguments)}(n,X3,Z3,e,ez,mv,t),new Xge(n)}function tme(){return zI.apply(this,arguments)}function zI(){return(zI=$(function*(){if(JT()||!eS()||!zl())return!1;try{return yield Zf()}catch(n){return!1}})).apply(this,arguments)}const tz="@firebase/analytics";Or(new gr(gv,(e,{options:t})=>Jge(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Or(new gr("analytics-internal",function(e){try{const t=e.getProvider(gv).getImmediate();return{logEvent:(r,i,s)=>function(n,e,t,r){n=ka(n),function(n,e,t,r,i){return NI.apply(this,arguments)}(ea,Jo[n.app.options.appId],e,t,r).catch(i=>Nr.error(i))}(t,r,i,s)}}catch(t){throw Ki.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),tn(tz,"0.8.0"),tn(tz,"0.8.0","esm2017");const ome=new class extends Z_{}(class extends X_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),ad=new Ca("7.4.1"),GI="__angularfire_symbol__analyticsIsSupportedValue",WI="__angularfire_symbol__analyticsIsSupported",qI="__angularfire_symbol__remoteConfigIsSupportedValue",KI="__angularfire_symbol__remoteConfigIsSupported",QI="__angularfire_symbol__messagingIsSupportedValue",YI="__angularfire_symbol__messagingIsSupported";function ip(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[WI]||(globalThis[WI]=tme().then(n=>globalThis[GI]=n).catch(()=>globalThis[GI]=!1)),globalThis[YI]||(globalThis[YI]=z3().then(n=>globalThis[QI]=n).catch(()=>globalThis[QI]=!1)),globalThis[KI]||(globalThis[KI]=Bpe().then(n=>globalThis[qI]=n).catch(()=>globalThis[qI]=!1));const sp=(n,e)=>{const t=e?[e]:n3(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ld(){}class rz{constructor(e,t=ome){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class ame{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ld,{},ld,ld)),t.pipe(ir({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let op=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new rz(Zone.current)),this.insideAngular=t.run(()=>new rz(Zone.current,J_)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(oe(nt))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ec(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function lme(n){return ec().ngZone.runOutsideAngular(()=>n())}function tc(n){return ec().ngZone.run(()=>n())}function cme(n){return ec(),function(n){return function(t){return(t=t.lift(new ame(n.ngZone))).pipe(zc(n.outsideAngular),fl(n.insideAngular))}}(ec())(n)}const dme=(n,e)=>{const t=void 0;return function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),tc(()=>n.apply(t,r))}},ap=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=tc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ld,{},ld,ld)))),r[s]=dme(r[s],t));const i=lme(()=>n.apply(this,r));if(!e){if(i instanceof W){const s=ec();return i.pipe(zc(s.outsideAngular),fl(s.insideAngular))}return tc(()=>i)}return i instanceof W?i.pipe(cme):i instanceof Promise?tc(()=>new Promise((s,o)=>i.then(a=>tc(()=>s(a)),a=>tc(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:tc(()=>i)};class Na{constructor(e){return e}}class lp{constructor(){return n3()}}const ZI=new ye("angularfire2._apps"),fme={provide:Na,useFactory:function(n){return n&&1===n.length?n[0]:new Na(tp())},deps:[[new jt,ZI]]},pme={provide:lp,deps:[[new jt,ZI]]};function gme(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Na(r)}}let mme=(()=>{class n{constructor(t){tn("angularfire",ad.full,"core"),tn("angularfire",ad.full,"app"),tn("angular",r2.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(oe(No))},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[fme,pme]}),n})();function _me(n,...e){return{ngModule:mme,providers:[{provide:ZI,useFactory:gme(n),multi:!0,deps:[nt,an,op,...e]}]}}const yme=ap(mfe,!0),iz=new Map,vme={activated:!1,tokenObservers:[]},bme={initialized:!1,enabled:!1};function mr(n){return iz.get(n)||vme}function Os(n,e){iz.set(n,e)}function _v(){return bme}class Tme{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return $(function*(){t.stop();try{t.pending=new nd,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new nd,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const pi=new io("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function oz(n){if(!mr(n).activated)throw pi.create("use-before-activation",{appName:n.name})}function tx(n,e){return nx.apply(this,arguments)}function nx(){return nx=$(function*({url:n,body:e},t){var r,i;const s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const y=yield o.getHeartbeatsHeader();y&&(s["X-Firebase-Client"]=y)}const a={method:"POST",body:JSON.stringify(e),headers:s};let l,c;try{l=yield fetch(n,a)}catch(y){throw pi.create("fetch-network-error",{originalErrorMessage:null===(r=y)||void 0===r?void 0:r.message})}if(200!==l.status)throw pi.create("fetch-status-error",{httpStatus:l.status});try{c=yield l.json()}catch(y){throw pi.create("fetch-parse-error",{originalErrorMessage:null===(i=y)||void 0===i?void 0:i.message})}const u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const h=1e3*Number(u[1]),p=Date.now();return{token:c.token,expireTimeMillis:p+h,issuedAtTimeMillis:p}}),nx.apply(this,arguments)}function Mme(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const cp="firebase-app-check-store";let bv=null;function lz(){return bv||(bv=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;e(pi.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(cp,{keyPath:"compositeKey"})}}catch(r){e(pi.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),bv)}function rx(){return rx=$(function*(n,e){const r=(yield lz()).transaction(cp,"readwrite"),s=r.objectStore(cp).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(pi.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})}),rx.apply(this,arguments)}const up=new Wl("@firebase/app-check");function hz(n,e){return zl()?function(n,e){return function(n,e){return rx.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{up.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function fz(){return _v().enabled}function pz(){return ax.apply(this,arguments)}function ax(){return ax=$(function*(){const n=_v();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ax.apply(this,arguments)}const Ume={error:"UNKNOWN_ERROR"};function jme(n){return rv.encodeString(JSON.stringify(n),!1)}function wv(n){return lx.apply(this,arguments)}function lx(){return lx=$(function*(n,e=!1){const t=n.app;oz(t);const r=mr(t);let s,i=r.token;if(!i){const l=yield r.cachedTokenPromise;l&&Cv(l)&&(i=l)}if(!e&&i&&Cv(i))return{token:i.token};let a,o=!1;if(fz()){r.exchangeTokenPromise||(r.exchangeTokenPromise=tx(Mme(t,yield pz()),n.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const l=yield r.exchangeTokenPromise;return yield hz(t,l),Os(t,Object.assign(Object.assign({},r),{token:l})),{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0),i=yield r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?up.warn(l.message):up.error(l),s=l}return i?(a={token:i.token},Os(t,Object.assign(Object.assign({},r),{token:i})),yield hz(t,i)):a=$me(s),o&&mz(t,a),a}),lx.apply(this,arguments)}function ux(n,e){const t=mr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Os(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function gz(n){const{app:e}=n,t=mr(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new Tme($(function*(){let r;if(r=mr(e).token?yield wv(n,!0):yield wv(n),r.error)throw r.error}),()=>!0,()=>{const t=mr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Os(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function mz(n,e){const t=mr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Cv(n){return n.expireTimeMillis-Date.now()>0}function $me(n){return{token:jme(Ume),error:n}}class zme{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=mr(this.app);for(const t of e)ux(this.app,t.next);return Promise.resolve()}}const Dz="app-check-internal";Or(new gr("app-check",n=>function(n,e){return new zme(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Dz).initialize()})),Or(new gr(Dz,n=>function(n){return{getToken:e=>wv(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,s=mr(i),o={next:t,error:r,type:e};if(Os(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Cv(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),gz(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>gz(n))}(n,"INTERNAL",e),removeTokenListener:e=>ux(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),tn("@firebase/app-check","0.5.12");class dp{constructor(){return sp("app-check")}}function Iz(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}"undefined"!=typeof window&&window;const d_e=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Rz=new io("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kz=new Wl("@firebase/auth");function Tv(n,...e){kz.logLevel<=zt.ERROR&&kz.error(`Auth (9.9.3): ${n}`,...e)}function Ii(n,...e){throw mx(n,...e)}function so(n,...e){return mx(n,...e)}function Oz(n,e,t){const r=Object.assign(Object.assign({},d_e()),{[e]:t});return new io("auth","Firebase",r).create(e,{appName:n.name})}function mx(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Rz.create(n,...e)}function De(n,e,...t){if(!n)throw mx(e,...t)}function oo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tv(e),new Error(e)}function Fa(n,e){n||oo(e)}const Pz=new Map;function ta(n){Fa(n instanceof Function,"Expected a class definition");let e=Pz.get(n);return e?(Fa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Pz.set(n,e),e)}function hp(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Nz(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class fp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fa(t>e,"Short delay should be less than long delay!"),this.isMobile=ZT()||q$()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Nz()||"https:"===Nz()||JT()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function yx(n,e){Fa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Fz{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const m_e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},__e=new fp(3e4,6e4);function or(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function _r(n,e,t,r){return vx.apply(this,arguments)}function vx(){return vx=$(function*(n,e,t,r,i={}){return Lz(n,i,$(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=ep(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),Fz.fetch()(Vz(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))}),vx.apply(this,arguments)}function Lz(n,e,t){return bx.apply(this,arguments)}function bx(){return bx=$(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},m_e),e);try{const i=new y_e(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw pp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw pp(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw pp(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw pp(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Oz(n,u,c);Ii(n,u)}}catch(i){if(i instanceof ps)throw i;Ii(n,"network-request-failed")}}),bx.apply(this,arguments)}function na(n,e,t,r){return wx.apply(this,arguments)}function wx(){return wx=$(function*(n,e,t,r,i={}){const s=yield _r(n,e,t,r,i);return"mfaPendingCredential"in s&&Ii(n,"multi-factor-auth-required",{_serverResponse:s}),s}),wx.apply(this,arguments)}function Vz(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?yx(n.config,i):`${n.config.apiScheme}://${i}`}class y_e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(so(this.auth,"network-request-failed")),__e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=so(n,e,r);return i.customData._tokenResponse=t,i}function Cx(){return Cx=$(function*(n,e){return _r(n,"POST","/v1/accounts:delete",e)}),Cx.apply(this,arguments)}function w_e(n,e){return Dx.apply(this,arguments)}function Dx(){return Dx=$(function*(n,e){return _r(n,"POST","/v1/accounts:lookup",e)}),Dx.apply(this,arguments)}function gp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Tx(){return Tx=$(function*(n,e=!1){const t=ka(n),r=yield t.getIdToken(e),i=Sv(r);De(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gp(Sx(i.auth_time)),issuedAtTime:gp(Sx(i.iat)),expirationTime:gp(Sx(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),Tx.apply(this,arguments)}function Sx(n){return 1e3*Number(n)}function Sv(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return Tv("JWT malformed, contained fewer than 3 sections"),null;try{const s=XT(r);return s?JSON.parse(s):(Tv("Failed to decode base64 JWT payload"),null)}catch(s){return Tv("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function ra(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=$(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ps&&D_e(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),Ix.apply(this,arguments)}function D_e({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class T_e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout($(function*(){yield t.iteration()}),r)}iteration(){var e=this;return $(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class Bz{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gp(this.lastLoginAt),this.creationTime=gp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mp(n){return xx.apply(this,arguments)}function xx(){return xx=$(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ra(n,w_e(t,{idToken:r}));De(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?x_e(s.providerUserInfo):[],a=I_e(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Bz(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}),xx.apply(this,arguments)}function Ax(){return Ax=$(function*(n){const e=ka(n);yield mp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),Ax.apply(this,arguments)}function I_e(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x_e(n){return n.map(e=>{var{providerId:t}=e,r=Iz(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Mx(){return Mx=$(function*(n,e){const t=yield Lz(n,{},$(function*(){const r=ep({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=Vz(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fz.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),Mx.apply(this,arguments)}class _p{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(void 0!==e.idToken,"internal-error"),De(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(n){const e=Sv(n);return De(e,"internal-error"),De(void 0!==e.exp,"internal-error"),De(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return $(function*(){return De(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return $(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(n,e){return Mx.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new _p;return r&&(De("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(De("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(De("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _p,this.toJSON())}_performRefresh(){return oo("not implemented")}}function La(n,e){De("string"==typeof n||void 0===n,"internal-error",{appName:e})}class nc{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Iz(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T_e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Bz(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return $(function*(){const r=yield ra(t,t.stsTokenManager.getToken(t.auth,e));return De(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function(n){return Tx.apply(this,arguments)}(this,e)}reload(){return function(n){return Ax.apply(this,arguments)}(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new nc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return $(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield mp(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return $(function*(){const t=yield e.getIdToken();return yield ra(e,function(n,e){return Cx.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,p=null!==(i=t.email)&&void 0!==i?i:void 0,y=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,D=null!==(o=t.photoURL)&&void 0!==o?o:void 0,M=null!==(a=t.tenantId)&&void 0!==a?a:void 0,N=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,z=null!==(c=t.createdAt)&&void 0!==c?c:void 0,j=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:ae,emailVerified:fe,isAnonymous:Ie,providerData:Ke,stsTokenManager:gt}=t;De(ae&&gt,e,"internal-error");const $n=_p.fromJSON(this.name,gt);De("string"==typeof ae,e,"internal-error"),La(h,e.name),La(p,e.name),De("boolean"==typeof fe,e,"internal-error"),De("boolean"==typeof Ie,e,"internal-error"),La(y,e.name),La(D,e.name),La(M,e.name),La(N,e.name),La(z,e.name),La(j,e.name);const jr=new nc({uid:ae,auth:e,email:p,emailVerified:fe,displayName:h,isAnonymous:Ie,photoURL:D,phoneNumber:y,tenantId:M,stsTokenManager:$n,createdAt:z,lastLoginAt:j});return Ke&&Array.isArray(Ke)&&(jr.providerData=Ke.map(wi=>Object.assign({},wi))),N&&(jr._redirectEventId=N),jr}static _fromIdTokenResponse(e,t,r=!1){return $(function*(){const i=new _p;i.updateFromServerResponse(t);const s=new nc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield mp(s),s})()}}const Uz=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return $(function*(){return!0})()}_set(t,r){var i=this;return $(function*(){i.storage[t]=r})()}_get(t){var r=this;return $(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return $(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Iv(n,e,t){return`firebase:${n}:${e}:${t}`}class ud{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Iv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Iv("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return $(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?nc._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return $(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return $(function*(){if(!t.length)return new ud(ta(Uz),e,r);const i=(yield Promise.all(t.map(function(){var c=$(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ta(Uz);const o=Iv(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const h=nc._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch(u){}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=$(function*(u){if(u!==s)try{yield u._remove(o)}catch(h){}});return function(u){return c.apply(this,arguments)}}())),new ud(s,e,r)):new ud(s,e,r)})()}}function jz(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wz(e))return"Blackberry";if(qz(e))return"Webos";if(Rx(e))return"Safari";if((e.includes("chrome/")||$z(e))&&!e.includes("edge/"))return"Chrome";if(Gz(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function Hz(n=pr()){return/firefox\//i.test(n)}function Rx(n=pr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $z(n=pr()){return/crios\//i.test(n)}function zz(n=pr()){return/iemobile/i.test(n)}function Gz(n=pr()){return/android/i.test(n)}function Wz(n=pr()){return/blackberry/i.test(n)}function qz(n=pr()){return/webos/i.test(n)}function xv(n=pr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Kz(n=pr()){return xv(n)||Gz(n)||qz(n)||Wz(n)||/windows phone/i.test(n)||zz(n)}function Qz(n,e=[]){let t;switch(n){case"Browser":t=jz(pr());break;case"Worker":t=`${jz(pr())}-${n}`;break;default:t=n}return`${t}/JsCore/9.9.3/${e.length?e.join(","):"FirebaseCore-web"}`}class O_e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return $(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch(a){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class P_e{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yz(this),this.idTokenSubscription=new Yz(this),this.beforeStateQueue=new O_e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rz,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ta(t)),this._initializationPromise=this.queue($(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ud.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return $(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return $(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=null==s?void 0:s._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&(null==c?void 0:c.user)&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return De(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return $(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return $(function*(){var r;try{yield mp(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return $(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return $(function*(){const r=e?ka(e):null;return r&&De(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return $(function*(){if(!r._deleted)return e&&De(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue($(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return $(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue($(function*(){yield t.assertedPersistence.setPersistence(ta(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new io("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return $(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return $(function*(){if(!t.redirectPersistenceManager){const r=e&&ta(e)||t._popupRedirectResolver;De(r,t,"argument-error"),t.redirectPersistenceManager=yield ud.create(t,[ta(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return $(function*(){var r,i;return t._isInitialized&&(yield t.queue($(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return $(function*(){if(e===t.currentUser)return t.queue($(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return De(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return $(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return $(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function xi(n){return ka(n)}class Yz{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(n,e){const t=new phe(n,void 0);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ia(n,e){return zx.apply(this,arguments)}function zx(){return zx=$(function*(n,e){return na(n,"POST","/v1/accounts:signInWithIdp",or(n,e))}),zx.apply(this,arguments)}class Va{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eye extends Va{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return $(function*(){const s=yield nc._fromIdTokenResponse(e,r,i),o=rG(r);return new gs({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return $(function*(){yield e._updateTokensIfNecessary(r,!0);const i=rG(r);return new gs({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function rG(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class kv extends ps{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kv.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new kv(e,t,r,i)}}function iG(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?kv._fromErrorAndOperation(n,s,e,r):s})}function Jx(n,e){return eA.apply(this,arguments)}function eA(){return eA=$(function*(n,e,t=!1){const r=yield ra(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return gs._forOperation(n,"link",r)}),eA.apply(this,arguments)}function nA(){return nA=$(function*(n,e,t=!1){var r;const{auth:i}=n,s="reauthenticate";try{const o=yield ra(n,iG(i,s,e,n),t);De(o.idToken,i,"internal-error");const a=Sv(o.idToken);De(a,i,"internal-error");const{sub:l}=a;return De(n.uid===l,i,"user-mismatch"),gs._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&Ii(i,"user-mismatch"),o}}),nA.apply(this,arguments)}function rA(){return rA=$(function*(n,e,t=!1){const r="signIn",i=yield iG(n,r,e),s=yield gs._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s}),rA.apply(this,arguments)}new WeakMap;const Nv="__sak";class cG{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nv,"1"),this.storage.removeItem(Nv),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bye=(()=>{class n extends cG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const n=pr();return Rx(n)||xv(n)}()&&function(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=Kz(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function(){const n=pr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()||10!==document.documentMode||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return $(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return $(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return $(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),uG=(()=>{class n extends cG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Cye=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return $(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!(null==l?void 0:l.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var h=$(function*(p){return p(i.origin,a)});return function(p){return h.apply(this,arguments)}}()),u=yield function(n){return Promise.all(n.map(function(){var e=$(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function kA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Eye{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return $(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=kA("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const y=p;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ar(){return window}function OA(){return void 0!==ar().WorkerGlobalScope&&"function"==typeof ar().importScripts}function PA(){return(PA=$(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const dG="firebaseLocalStorageDb",Fv="firebaseLocalStorage",hG="fbase_key";class wp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lv(n,e){return n.transaction([Fv],e?"readwrite":"readonly").objectStore(Fv)}function NA(){const n=indexedDB.open(dG,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Fv,{keyPath:hG})}catch(i){t(i)}}),n.addEventListener("success",$(function*(){const r=n.result;r.objectStoreNames.contains(Fv)?e(r):(r.close(),yield function(){const n=indexedDB.deleteDatabase(dG);return new wp(n).toPromise()}(),e(yield NA()))}))})}function fG(n,e,t){return FA.apply(this,arguments)}function FA(){return FA=$(function*(n,e,t){const r=Lv(n,!0).put({[hG]:e,value:t});return new wp(r).toPromise()}),FA.apply(this,arguments)}function LA(){return LA=$(function*(n,e){const t=Lv(n,!1).get(e),r=yield new wp(t).toPromise();return void 0===r?null:r.value}),LA.apply(this,arguments)}function pG(n,e){const t=Lv(n,!0).delete(e);return new wp(t).toPromise()}const Oye=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return $(function*(){return t.db||(t.db=yield NA()),t.db})()}_withRetries(t){var r=this;return $(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return $(function*(){return OA()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return $(function*(){t.receiver=Cye._getInstance(OA()?self:null),t.receiver._subscribe("keyChanged",function(){var r=$(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=$(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return $(function*(){var r,i;if(t.activeServiceWorker=yield function(){return PA.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Eye(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return $(function*(){if(r.sender&&r.activeServiceWorker&&function(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return $(function*(){try{if(!indexedDB)return!1;const t=yield NA();return yield fG(t,Nv,"1"),yield pG(t,Nv),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return $(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return $(function*(){return i._withPendingWrite($(function*(){return yield i._withRetries(s=>fG(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return $(function*(){const i=yield r._withRetries(s=>function(n,e){return LA.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return $(function*(){return r._withPendingWrite($(function*(){return yield r._withRetries(i=>pG(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return $(function*(){const r=yield t._withRetries(o=>{const a=Lv(o,!1).getAll();return new wp(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval($(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function mG(n){return`__${n}${Math.floor(1e6*Math.random())}`}function ic(n,e){return e?ta(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}mG("rcb"),new fp(3e4,6e4);class qA extends class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return oo("not implemented")}_getIdTokenResponse(e){return oo("not implemented")}_linkToIdToken(e,t){return oo("not implemented")}_getReauthenticationResolver(e){return oo("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Yye(n){return function(n,e){return rA.apply(this,arguments)}(n.auth,new qA(n),n.bypassAuthState)}function Xye(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),function(n,e){return nA.apply(this,arguments)}(t,new qA(n),n.bypassAuthState)}function Zye(n){return KA.apply(this,arguments)}function KA(){return KA=$(function*(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),Jx(t,new qA(n),n.bypassAuthState)}),KA.apply(this,arguments)}new fp(2e3,1e4);const Cp=new Map;class tve extends class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=$(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return $(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yye;case"linkViaPopup":case"linkViaRedirect":return Zye;case"reauthViaPopup":case"reauthViaRedirect":return Xye;default:Ii(this.auth,"internal-error")}}resolve(e){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return $(function*(){let r=Cp.get(t.auth._key());if(!r){try{const s=(yield function(n,e){return JA.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Cp.set(t.auth._key(),r)}return t.bypassAuthState||Cp.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return $(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return $(function*(){})()}cleanUp(){}}function JA(){return JA=$(function*(n,e){const t=vG(e),r=yG(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),JA.apply(this,arguments)}function rve(n,e){Cp.set(n._key(),e)}function yG(n){return ta(n._redirectPersistence)}function vG(n){return Iv("pendingRedirect",n.config.apiKey,n.name)}function bG(n,e){return oM.apply(this,arguments)}function oM(){return oM=$(function*(n,e,t=!1){const r=xi(n),i=ic(r,e),o=yield new tve(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),oM.apply(this,arguments)}class lve{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EG(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!EG(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(so(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(CG(e))}saveEventToCache(e){this.cachedEventUids.add(CG(e)),this.lastProcessedEventTime=Date.now()}}function CG(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function EG({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function uve(n){return lM.apply(this,arguments)}function lM(){return lM=$(function*(n,e={}){return _r(n,"GET","/v1/projects",e)}),lM.apply(this,arguments)}const dve=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hve=/^https?/;function cM(){return cM=$(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield uve(n);for(const t of e)try{if(pve(t))return}catch(r){}Ii(n,"unauthorized-domain")}),cM.apply(this,arguments)}function pve(n){const e=hp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!hve.test(t))return!1;if(dve.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const gve=new fp(3e4,6e4);function DG(){const n=ar().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Bv=null;function _ve(n){return Bv=Bv||function(n){return new Promise((e,t)=>{var r,i,s;function o(){DG(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DG(),t(so(n,"network-request-failed"))},timeout:gve.get()})}if(null===(i=null===(r=ar().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=ar().gapi)||void 0===s?void 0:s.load)){const a=mG("iframefcb");return ar()[a]=()=>{gapi.load?o():t(so(n,"network-request-failed"))},function(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=so("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw Bv=null,e})}(n),Bv}const yve=new fp(5e3,15e3),wve={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cve=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eve(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?yx(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Ql},i=Cve.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${ep(r).slice(1)}`}function uM(){return uM=$(function*(n){const e=yield _ve(n),t=ar().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:Eve(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wve,dontclear:!0},r=>new Promise(function(){var i=$(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=so(n,"network-request-failed"),l=ar().setTimeout(()=>{o(a)},yve.get());function c(){ar().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),uM.apply(this,arguments)}const Tve={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class TG{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function SG(n,e,t,r,i,s){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ql,eventId:i};if(e instanceof Va){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",tS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof eye){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function({config:n}){return n.emulator?yx(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${ep(a).slice(1)}`}const dM="webStorageSupport",Fve=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uG,this._completeRedirectFn=bG,this._overrideRedirectResult=rve}_openPopup(e,t,r,i){var s=this;return $(function*(){var o;Fa(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=SG(e,t,r,hp(),i);return function(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Tve),{width:r.toString(),height:i.toString(),top:s,left:o}),c=pr().toLowerCase();t&&(a=$z(c)?"_blank":t),Hz(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((p,[y,D])=>`${p}${y}=${D},`,"");if(function(n=pr()){var e;return xv(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new TG(null);const h=window.open(e||"",a,u);De(h,n,"popup-blocked");try{h.focus()}catch(p){}return new TG(h)}(e,a,kA())})()}_openRedirect(e,t,r,i){var s=this;return $(function*(){return yield s._originValidation(e),function(n){ar().location.href=n}(SG(e,t,r,hp(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Fa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return $(function*(){const r=yield function(n){return uM.apply(this,arguments)}(e),i=new lve(e);return r.register("authEvent",s=>(De(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dM,{type:dM},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[dM];void 0!==o&&t(!!o),Ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(n){return cM.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Kz()||Rx()||xv()}};var xG="@firebase/auth";class Lve{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return $(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Uve(n=tp()){const e=Oa(n,"auth");return e.isInitialized()?e.getImmediate():function(n,e){const t=Oa(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(av(t.getOptions(),null!=e?e:{}))return i;Ii(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Fve,persistence:[Oye,bye,uG]})}!function(n){Or(new gr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{De(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),De(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qz(n)},u=new P_e(a,l,c);return function(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ta);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,t),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Or(new gr("auth-internal",e=>{const t=xi(e.getProvider("auth").getImmediate());return new Lve(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tn(xG,"0.20.5",void 0),tn(xG,"0.20.5","esm2017")}("Browser");class hM{constructor(e){return e}}class Uv{constructor(){return sp("auth")}}const fM=new ye("angularfire2.auth-instances");function Hve(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new hM(r)}}const $ve={provide:Uv,deps:[[new jt,fM]]},zve={provide:hM,useFactory:function(n,e){const t=ip("auth",n,e);return t&&new hM(t)},deps:[[new jt,fM],Na]};let Gve=(()=>{class n{constructor(){tn("angularfire",ad.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[zve,$ve]}),n})();function Wve(n,...e){return{ngModule:Gve,providers:[{provide:fM,useFactory:Hve(n),multi:!0,deps:[nt,an,op,lp,[new jt,dp],...e]}]}}const qve=ap(Uve,!0),RG="@firebase/database";let pM="";class Qve{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),kr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Jf(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Yve{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Qo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const OG=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Qve(e)}}catch(e){}return new Yve},sc=OG("localStorage"),gM=OG("sessionStorage"),dd=new Wl("@firebase/database"),PG=function(){let n=1;return function(){return n++}}(),NG=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ae(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new hhe;t.update(e);const r=t.digest();return rv.encodeByteArray(r)},Ep=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Ep.apply(null,r):e+="object"==typeof r?kr(r):r,e+=" "}return e};let oc=null,FG=!0;const yr=function(...n){if(!0===FG&&(FG=!1,null===oc&&!0===gM.get("logging_enabled")&&function(n,e){Ae(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(dd.logLevel=zt.VERBOSE,oc=dd.log.bind(dd),e&&gM.set("logging_enabled",!0)):"function"==typeof n?oc=n:(oc=null,gM.remove("logging_enabled"))}(!0)),oc){const e=Ep.apply(null,n);oc(e)}},Dp=function(n){return function(...e){yr(n,...e)}},mM=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ep(...n);dd.error(e)},ao=function(...n){const e=`FIREBASE FATAL ERROR: ${Ep(...n)}`;throw dd.error(e),new Error(e)},ni=function(...n){const e="FIREBASE WARNING: "+Ep(...n);dd.warn(e)},jv=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},sa="[MIN_NAME]",lo="[MAX_NAME]",ac=function(n,e){if(n===e)return 0;if(n===sa||e===lo)return-1;if(e===sa||n===lo)return 1;{const t=Hv(n),r=Hv(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Jve=function(n,e){return n===e?0:n<e?-1:1},Tp=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+kr(e))},_M=function(n){if("object"!=typeof n||null===n)return kr(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=kr(e[r]),t+=":",t+=_M(n[e[r]]);return t+="}",t},VG=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function vr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const BG=function(n){Ae(!jv(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let p=parseInt(u.substr(l,8),2).toString(16);1===p.length&&(p="0"+p),h+=p}return h.toLowerCase()},rbe=new RegExp("^-?(0*)\\d{1,10}$"),Hv=function(n){if(rbe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},hd=function(n){try{n()}catch(e){setTimeout(()=>{throw ni("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Sp=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class sbe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ni(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class obe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(yr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ni(e)}}let Ip=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const GG=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,KG="websocket",QG="long_polling";class bM{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function YG(n,e,t){let r;if(Ae("string"==typeof e,"typeof type must == string"),Ae("object"==typeof t,"typeof params must == object"),e===KG)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==QG)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return vr(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class lbe{constructor(){this.counters_={}}incrementCounter(e,t=1){Qo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return rhe(this.counters_)}}const wM={},CM={};function EM(n){const e=n.toString();return wM[e]||(wM[e]=new lbe),wM[e]}class ube{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&hd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ba{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dp(e),this.stats_=EM(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),YG(t,QG,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ube(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new DM((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&GG.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ba.forceAllow_=!0}static forceDisallow(){Ba.forceDisallow_=!0}static isAvailable(){return!(!Ba.forceAllow_&&(Ba.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=kr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=G$(t),i=VG(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=kr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class DM{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=PG(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=DM.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){yr("frame writing exception"),a.stack&&yr(a.stack),yr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||yr("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{yr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let zv=null;"undefined"!=typeof MozWebSocket?zv=MozWebSocket:"undefined"!=typeof WebSocket&&(zv=WebSocket);let fd=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dp(this.connId),this.stats_=EM(r),this.connURL=n.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return"undefined"!=typeof location&&location.hostname&&GG.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),YG(t,KG,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sc.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new zv(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==zv&&!n.forceDisallow_}static previouslyFailed(){return sc.isInMemoryStorage||!0===sc.get("previous_websocket_failure")}markConnectionHealthy(){sc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Jf(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Ae(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=kr(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=VG(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),rW=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ba,fd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=fd&&fd.isAvailable();let i=r&&!fd.previouslyFailed();if(t.webSocketOnly&&(r||ni("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[fd];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class uW{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dp("c:"+this.id+":"),this.transportManager_=new rW(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Sp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Tp("t",e),r=Tp("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Tp("t",e),r=Tp("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Tp("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?mM("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mM("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&ni("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Sp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class dW{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class hW{constructor(e){this.allowedEvents_=e,this.listeners_={},Ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){Ae(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Gv extends hW{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!ZT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Gv}getInitialEvent(e){return Ae("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Yt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Gt(){return new Yt("")}function Tt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ua(n){return n.pieces_.length-n.pieceNum_}function sn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Yt(n.pieces_,e)}function SM(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function xp(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function gW(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Yt(e,0)}function _n(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Yt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Yt(t,0)}function St(n){return n.pieceNum_>=n.pieces_.length}function gi(n,e){const t=Tt(n),r=Tt(e);if(null===t)return e;if(t===r)return gi(sn(n),sn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function IM(n,e){if(Ua(n)!==Ua(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function ms(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ua(n)>Ua(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Obe{constructor(e,t){this.errorPrefix_=t,this.parts_=xp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=cv(this.parts_[r]);mW(this)}}function mW(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+lc(n))}function lc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class xM extends hW{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new xM}getInitialEvent(e){return Ae("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ap=1e3;let qv,cc=(()=>{class n extends dW{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Dp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ap,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xM.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Gv.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(kr(o)),Ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new nd,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Ae(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ae(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&Qo(t,"w")){const i=rd(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();ni(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=sv(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=sv(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),Ae(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+kr(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):mM("Unrecognized action received from server: "+kr(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ap,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ap,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ap),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return $(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(y){Ae(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)}};const p=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[y,D]=yield Promise.all([t.authTokenProvider_.getToken(p),t.appCheckTokenProvider_.getToken(p)]);l?yr("getToken() completed but was canceled"):(yr("getToken() completed. Creating connection."),t.authToken_=y&&y.accessToken,t.appCheckToken_=D&&D.token,c=new uW(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,M=>{ni(M+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(y){t.log_("Failed to get token: "+y),l||(t.repoInfo_.nodeAdmin&&ni(y),u())}}})()}interrupt(t){yr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){yr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],tS(this.interruptReasons_)&&(this.reconnectDelay_=Ap,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>_M(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Yt(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){yr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){yr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+pM.replace(/\./g,"-")]=1,ZT()?t["framework.cordova"]=1:q$()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Gv.getInstance().currentlyOnline();return tS(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class At{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new At(e,t)}}class Wv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new At(sa,e),i=new At(sa,t);return 0!==this.compare(r,i)}minPost(){return At.MIN}}class vW extends Wv{static get __EMPTY_NODE(){return qv}static set __EMPTY_NODE(e){qv=e}compare(e,t){return ac(e.name,t.name)}isDefinedOn(e){throw td("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return At.MIN}maxPost(){return new At(lo,qv)}makePost(e,t){return Ae("string"==typeof e,"KeyIndex indexValue must always be a string."),new At(e,qv)}toString(){return".key"}}const co=new vW;class Kv{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let MM,Ps=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:Ai.EMPTY_NODE,this.right=null!=o?o:Ai.EMPTY_NODE}copy(t,r,i,s,o){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ai.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Ai.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ai{constructor(e,t=Ai.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ai(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ps.BLACK,null,null))}remove(e){return new Ai(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ps.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Kv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Kv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Kv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Kv(this.root_,null,this.comparator_,!0,e)}}function jbe(n,e){return ac(n.name,e.name)}function AM(n,e){return ac(n,e)}Ai.EMPTY_NODE=new class{copy(e,t,r,i,s){return this}insert(e,t,r){return new Ps(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const bW=function(n){return"number"==typeof n?"number:"+BG(n):"string:"+n},wW=function(n){if(n.isLeafNode()){const e=n.val();Ae("string"==typeof e||"number"==typeof e||"object"==typeof e&&Qo(e,".sv"),"Priority must be a string or number.")}else Ae(n===MM||n.isEmpty(),"priority of unexpected type.");Ae(n===MM||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let CW,EW,DW,pd=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,Ae(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),wW(this.priorityNode_)}static set __childrenNodeConstructor(t){CW=t}static get __childrenNodeConstructor(){return CW}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return St(t)?this:".priority"===Tt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Tt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(Ae(".priority"!==i||1===Ua(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(sn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+bW(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?BG(this.value_):this.value_,this.lazyHash_=NG(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(Ae(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return Ae(s>=0,"Unknown leaf type: "+r),Ae(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const un=new class extends Wv{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?ac(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return At.MIN}maxPost(){return new At(lo,new pd("[PRIORITY-POST]",DW))}makePost(e,t){const r=EW(e);return new At(t,new pd("[PRIORITY-POST]",r))}toString(){return".priority"}},Wbe=Math.log(2);class qbe{constructor(e){this.count=parseInt(Math.log(e+1)/Wbe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qv=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let h,p;if(0===u)return null;if(1===u)return h=n[l],p=t?t(h):h,new Ps(p,h.node,Ps.BLACK,null,null);{const y=parseInt(u/2,10)+l,D=i(l,y),M=i(y+1,c);return h=n[y],p=t?t(h):h,new Ps(p,h.node,Ps.BLACK,D,M)}},a=function(l){let c=null,u=null,h=n.length;const p=function(D,M){const N=h-D,z=h;h-=D;const j=i(N+1,z),ae=n[N],fe=t?t(ae):ae;y(new Ps(fe,ae.node,M,null,j))},y=function(D){c?(c.left=D,c=D):(u=D,c=D)};for(let D=0;D<l.count;++D){const M=l.nextBitIsOne(),N=Math.pow(2,l.count-(D+1));M?p(N,Ps.BLACK):(p(N,Ps.BLACK),p(N,Ps.RED))}return u}(new qbe(n.length));return new Ai(r||e,a)};let RM;const gd={};class oa{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Ae(gd&&un,"ChildrenNode.ts has not been loaded"),RM=RM||new oa({".priority":gd},{".priority":un}),RM}get(e){const t=rd(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ai?t:null}hasIndex(e){return Qo(this.indexSet_,e.toString())}addIndex(e,t){Ae(e!==co,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(At.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Qv(r,e.getCompare()):gd;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new oa(u,c)}addToIndexes(e,t){const r=ov(this.indexes_,(i,s)=>{const o=rd(this.indexSet_,s);if(Ae(o,"Missing index implementation for "+s),i===gd){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(At.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Qv(a,o.getCompare())}return gd}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new At(e.name,a))),l.insert(e,e.node)}});return new oa(r,this.indexSet_)}removeFromIndexes(e,t){const r=ov(this.indexes_,i=>{if(i===gd)return i;{const s=t.get(e.name);return s?i.remove(new At(e.name,s)):i}});return new oa(r,this.indexSet_)}}let Mp,mt=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&wW(this.priorityNode_),this.children_.isEmpty()&&Ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Mp||(Mp=new n(new Ai(AM),null,oa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Mp}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Mp:r}}getChild(t){const r=Tt(t);return null===r?this:this.getImmediateChild(r).getChild(sn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(Ae(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new At(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Mp:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=Tt(t);if(null===i)return r;{Ae(".priority"!==Tt(t)||1===Ua(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(sn(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(un,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+bW(this.getPriority().val())+":"),this.forEachChild(un,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":NG(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new At(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new At(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new At(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,At.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,At.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Rp?-1:0}withIndex(t){if(t===co||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===co||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(un),s=r.getIterator(un);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===co?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Rp=new class extends mt{constructor(){super(new Ai(AM),mt.EMPTY_NODE,oa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return mt.EMPTY_NODE}isEmpty(){return!1}};function Dn(n,e=null){if(null===n)return mt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),Ae(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new pd(n,Dn(e));if(n instanceof Array){let t=mt.EMPTY_NODE;return vr(n,(r,i)=>{if(Qo(n,r)&&"."!==r.substring(0,1)){const s=Dn(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Dn(e))}{const t=[];let r=!1;if(vr(n,(o,a)=>{if("."!==o.substring(0,1)){const l=Dn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new At(o,l)))}}),0===t.length)return mt.EMPTY_NODE;const s=Qv(t,jbe,o=>o.name,AM);if(r){const o=Qv(t,un.getCompare());return new mt(s,Dn(e),new oa({".priority":o},{".priority":un}))}return new mt(s,Dn(e),oa.Default)}}Object.defineProperties(At,{MIN:{value:new At(sa,mt.EMPTY_NODE)},MAX:{value:new At(lo,Rp)}}),vW.__EMPTY_NODE=mt.EMPTY_NODE,pd.__childrenNodeConstructor=mt,function(n){MM=n}(Rp),function(n){DW=n}(Rp),function(n){EW=n}(Dn);class kM extends Wv{constructor(e){super(),this.indexPath_=e,Ae(!St(e)&&".priority"!==Tt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?ac(e.name,t.name):s}makePost(e,t){const r=Dn(e),i=mt.EMPTY_NODE.updateChild(this.indexPath_,r);return new At(t,i)}maxPost(){const e=mt.EMPTY_NODE.updateChild(this.indexPath_,Rp);return new At(lo,e)}toString(){return xp(this.indexPath_,0).join("/")}}const OM=new class extends Wv{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ac(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return At.MIN}maxPost(){return At.MAX}makePost(e,t){const r=Dn(e);return new At(t,r)}toString(){return".value"}};function Op(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class FM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=un}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sa}hasEnd(){return this.endSet_}getIndexEndValue(){return Ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:lo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ae(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===un}copy(){const e=new FM;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function MW(n){const e={};if(n.isDefault())return e;let t;return n.index_===un?t="$priority":n.index_===OM?t="$value":n.index_===co?t="$key":(Ae(n.index_ instanceof kM,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=kr(t),n.startSet_&&(e.startAt=kr(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+kr(n.indexStartName_))),n.endSet_&&(e.endAt=kr(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+kr(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function RW(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==un&&(e.i=n.index_.toString()),e}class Xv extends dW{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Dp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Ae(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Xv.getListenId_(e,r),a={};this.listens_[o]=a;const l=MW(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let h=u;if(404===c&&(h=null,c=null),null===c&&this.onDataUpdate_(s,h,!1,r),rd(this.listens_,o)===a){let p;p=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(p,null)}})}unlisten(e,t){const r=Xv.getListenId_(e,t);delete this.listens_[r]}get(e){const t=MW(e._queryParams),r=e._path.toString(),i=new nd;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ep(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Jf(a.responseText)}catch(c){ni("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&ni("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class swe{constructor(){this.rootNode_=mt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Zv(){return{value:null,children:new Map}}function yd(n,e,t){if(St(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Tt(e);n.children.has(r)||n.children.set(r,Zv()),yd(n.children.get(r),e=sn(e),t)}}function UM(n,e,t){null!==n.value?t(e,n.value):function(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{UM(i,new Yt(e.toString()+"/"+r),t)})}class awe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&vr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class uwe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new awe(e);const r=1e4+2e4*Math.random();Sp(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;vr(e,(i,s)=>{s>0&&Qo(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Sp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _s=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_s||(_s={})),_s))();function $M(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Jv{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=_s.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(St(this.path)){if(null!=this.affectedTree.value)return Ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Yt(e));return new Jv(Gt(),t,this.revert)}}return Ae(Tt(this.path)===e,"operationForChild called for unrelated child."),new Jv(sn(this.path),this.affectedTree,this.revert)}}class uc{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=_s.OVERWRITE}operationForChild(e){return St(this.path)?new uc(this.source,Gt(),this.snap.getImmediateChild(e)):new uc(this.source,sn(this.path),this.snap)}}class vd{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=_s.MERGE}operationForChild(e){if(St(this.path)){const t=this.children.subtree(new Yt(e));return t.isEmpty()?null:t.value?new uc(this.source,Gt(),t.value):new vd(this.source,Gt(),t)}return Ae(Tt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vd(this.source,sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ja{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(St(e))return this.isFullyInitialized()&&!this.filtered_;const t=Tt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Fp(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>function(n,e,t){if(null==e.childName||null==t.childName)throw td("Should only compare child_ events.");const r=new At(e.childName,e.snapshotNode),i=new At(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,l)),o.forEach(a=>{const l=function(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function eb(n,e){return{eventCache:n,serverCache:e}}function Lp(n,e,t,r){return eb(new ja(e,t,r),n.serverCache)}function OW(n,e,t,r){return eb(n.eventCache,new ja(e,t,r))}function tb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function dc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let zM;class dn{constructor(e,t=(()=>(zM||(zM=new Ai(Jve)),zM))()){this.value=e,this.children=t}static fromObject(e){let t=new dn(null);return vr(e,(r,i)=>{t=t.set(new Yt(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Gt(),value:this.value};if(St(e))return null;{const r=Tt(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(sn(e),t);return null!=s?{path:_n(new Yt(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(St(e))return this;{const t=Tt(e),r=this.children.get(t);return null!==r?r.subtree(sn(e)):new dn(null)}}set(e,t){if(St(e))return new dn(t,this.children);{const r=Tt(e),s=(this.children.get(r)||new dn(null)).set(sn(e),t),o=this.children.insert(r,s);return new dn(this.value,o)}}remove(e){if(St(e))return this.children.isEmpty()?new dn(null):new dn(null,this.children);{const t=Tt(e),r=this.children.get(t);if(r){const i=r.remove(sn(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new dn(null):new dn(this.value,s)}return this}}get(e){if(St(e))return this.value;{const t=Tt(e),r=this.children.get(t);return r?r.get(sn(e)):null}}setTree(e,t){if(St(e))return t;{const r=Tt(e),s=(this.children.get(r)||new dn(null)).setTree(sn(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new dn(this.value,o)}}fold(e){return this.fold_(Gt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(_n(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Gt(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(St(e))return null;{const s=Tt(e),o=this.children.get(s);return o?o.findOnPath_(sn(e),_n(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Gt(),t)}foreachOnPath_(e,t,r){if(St(e))return this;{this.value&&r(t,this.value);const i=Tt(e),s=this.children.get(i);return s?s.foreachOnPath_(sn(e),_n(t,i),r):new dn(null)}}foreach(e){this.foreach_(Gt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(_n(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Ns{constructor(e){this.writeTree_=e}static empty(){return new Ns(new dn(null))}}function Vp(n,e,t){if(St(e))return new Ns(new dn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=gi(i,e);return s=s.updateChild(o,t),new Ns(n.writeTree_.set(i,s))}{const i=new dn(t),s=n.writeTree_.setTree(e,i);return new Ns(s)}}}function GM(n,e,t){let r=n;return vr(t,(i,s)=>{r=Vp(r,_n(e,i),s)}),r}function PW(n,e){if(St(e))return Ns.empty();{const t=n.writeTree_.setTree(e,new dn(null));return new Ns(t)}}function WM(n,e){return null!=hc(n,e)}function hc(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(gi(t.path,e)):null}function NW(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(un,(r,i)=>{e.push(new At(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new At(r,i.value))}),e}function Ha(n,e){if(St(e))return n;{const t=hc(n,e);return new Ns(null!=t?new dn(t):n.writeTree_.subtree(e))}}function qM(n){return n.writeTree_.isEmpty()}function bd(n,e){return FW(Gt(),n.writeTree_,e)}function FW(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(Ae(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=FW(_n(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(_n(n,".priority"),r)),t}}function nb(n,e){return jW(e,n)}function bwe(n,e){if(n.snap)return ms(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ms(_n(n.path,t),e))return!0;return!1}function Cwe(n){return n.visible}function LW(n,e,t){let r=Ns.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)ms(t,o)?(a=gi(t,o),r=Vp(r,a,s.snap)):ms(o,t)&&(a=gi(o,t),r=Vp(r,Gt(),s.snap.getChild(a)));else{if(!s.children)throw td("WriteRecord should have .snap or .children");if(ms(t,o))a=gi(t,o),r=GM(r,a,s.children);else if(ms(o,t))if(a=gi(o,t),St(a))r=GM(r,Gt(),s.children);else{const l=rd(s.children,Tt(a));if(l){const c=l.getChild(sn(a));r=Vp(r,Gt(),c)}}}}}return r}function VW(n,e,t,r,i){if(r||i){const s=Ha(n.visibleWrites,e);return!i&&qM(s)?t:i||null!=t||WM(s,Gt())?bd(LW(n.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(ms(c.path,e)||ms(e,c.path))},e),t||mt.EMPTY_NODE):null}{const s=hc(n.visibleWrites,e);if(null!=s)return s;{const o=Ha(n.visibleWrites,e);return qM(o)?t:null!=t||WM(o,Gt())?bd(o,t||mt.EMPTY_NODE):null}}}function rb(n,e,t,r){return VW(n.writeTree,n.treePath,e,t,r)}function KM(n,e){return function(n,e,t){let r=mt.EMPTY_NODE;const i=hc(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(un,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Ha(n.visibleWrites,e);return t.forEachChild(un,(o,a)=>{const l=bd(Ha(s,new Yt(o)),a);r=r.updateImmediateChild(o,l)}),NW(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return NW(Ha(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function BW(n,e,t,r){return function(n,e,t,r,i){Ae(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=_n(e,t);if(WM(n.visibleWrites,s))return null;{const o=Ha(n.visibleWrites,s);return qM(o)?i.getChild(t):bd(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function ib(n,e){return function(n,e){return hc(n.visibleWrites,e)}(n.writeTree,_n(n.treePath,e))}function QM(n,e,t){return function(n,e,t,r){const i=_n(e,t),s=hc(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?bd(Ha(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function UW(n,e){return jW(_n(n.treePath,e),n.writeTree)}function jW(n,e){return{treePath:n,writeTree:e}}class Mwe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;Ae("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ae(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,Op(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw td("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Op(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const HW=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class YM{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new ja(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return QM(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:dc(this.viewCache_),s=function(n,e,t,r,i,s){return function(n,e,t,r,i,s,o){let a;const l=Ha(n.visibleWrites,e),c=hc(l,Gt());if(null!=c)a=c;else{if(null==t)return[];a=bd(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],h=o.getCompare(),p=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let y=p.getNext();for(;y&&u.length<i;)0!==h(y,r)&&u.push(y),y=p.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function $W(n,e,t,r,i,s){const o=e.eventCache;if(null!=ib(r,t))return e;{let a,l;if(St(t))if(Ae(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=dc(e),h=KM(r,c instanceof mt?c:mt.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=rb(r,dc(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Tt(t);if(".priority"===c){Ae(1===Ua(t),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=BW(r,t,u,l);a=null!=h?n.filter.updatePriority(u,h):o.getNode()}else{const u=sn(t);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const p=BW(r,t,o.getNode(),l);h=null!=p?o.getNode().getImmediateChild(c).updateChild(u,p):o.getNode().getImmediateChild(c)}else h=QM(r,c,e.serverCache);a=null!=h?n.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return Lp(e,a,o.isFullyInitialized()||St(t),n.filter.filtersNodes())}}function sb(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(St(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const y=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),y,null)}else{const y=Tt(t);if(!l.isCompleteForPath(t)&&Ua(t)>1)return e;const D=sn(t),N=l.getNode().getImmediateChild(y).updateChild(D,r);c=".priority"===y?u.updatePriority(l.getNode(),N):u.updateChild(l.getNode(),y,N,D,HW,null)}const h=OW(e,c,l.isFullyInitialized()||St(t),u.filtersNodes());return $W(n,h,t,i,new YM(i,h,s),a)}function XM(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const u=new YM(i,e,s);if(St(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Lp(e,c,!0,n.filter.filtersNodes());else{const h=Tt(t);if(".priority"===h)c=n.filter.updatePriority(e.eventCache.getNode(),r),l=Lp(e,c,a.isFullyInitialized(),a.isFiltered());else{const p=sn(t),y=a.getNode().getImmediateChild(h);let D;if(St(p))D=r;else{const M=u.getCompleteChild(h);D=null!=M?".priority"===SM(p)&&M.getChild(gW(p)).isEmpty()?M:M.updateChild(p,r):mt.EMPTY_NODE}l=y.equals(D)?e:Lp(e,n.filter.updateChild(a.getNode(),h,D,p,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function zW(n,e){return n.eventCache.isCompleteForChild(e)}function GW(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ZM(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=St(t)?r:new dn(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,p)=>{if(u.hasChild(h)){const D=GW(0,e.serverCache.getNode().getImmediateChild(h),p);l=sb(n,l,new Yt(h),D,i,s,o,a)}}),c.children.inorderTraversal((h,p)=>{const y=!e.serverCache.isCompleteForChild(h)&&null===p.value;if(!u.hasChild(h)&&!y){const M=GW(0,e.serverCache.getNode().getImmediateChild(h),p);l=sb(n,l,new Yt(h),M,i,s,o,a)}}),l}function $we(n,e){const t=dc(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!St(e)&&!t.getImmediateChild(Tt(e)).isEmpty())?t.getChild(e):null}function KW(n,e,t,r){e.type===_s.MERGE&&null!==e.source.queryId&&(Ae(dc(n.viewCache_),"We should always have a full cache before handling merges"),Ae(tb(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function(n,e,t,r,i){const s=new Mwe;let o,a;if(t.type===_s.OVERWRITE){const c=t;c.source.fromUser?o=XM(n,e,c.path,c.snap,r,i,s):(Ae(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!St(c.path),o=sb(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===_s.MERGE){const c=t;c.source.fromUser?o=function(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=_n(t,l);zW(e,Tt(u))&&(a=XM(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=_n(t,l);zW(e,Tt(u))||(a=XM(n,a,u,c,i,s,o))}),a}(n,e,c.path,c.children,r,i,s):(Ae(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=ZM(n,e,c.path,c.children,r,i,a,s))}else if(t.type===_s.ACK_USER_WRITE){const c=t;o=c.revert?function(n,e,t,r,i,s){let o;if(null!=ib(r,t))return e;{const a=new YM(r,e,i),l=e.eventCache.getNode();let c;if(St(t)||".priority"===Tt(t)){let u;if(e.serverCache.isFullyInitialized())u=rb(r,dc(e));else{const h=e.serverCache.getNode();Ae(h instanceof mt,"serverChildren would be complete if leaf node"),u=KM(r,h)}u=u,c=n.filter.updateFullNode(l,u,s)}else{const u=Tt(t);let h=QM(r,u,e.serverCache);null==h&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),c=null!=h?n.filter.updateChild(l,u,h,sn(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,mt.EMPTY_NODE,sn(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=rb(r,dc(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=ib(r,Gt()),Lp(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,r,i,s):function(n,e,t,r,i,s,o){if(null!=ib(i,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(St(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return sb(n,e,t,l.getNode().getChild(t),i,s,a,o);if(St(t)){let c=new dn(null);return l.getNode().forEachChild(co,(u,h)=>{c=c.set(new Yt(u),h)}),ZM(n,e,t,c,i,s,a,o)}return e}{let c=new dn(null);return r.foreach((u,h)=>{const p=_n(t,u);l.isCompleteForPath(p)&&(c=c.set(u,l.getNode().getChild(p)))}),ZM(n,e,t,c,i,s,a,o)}}(n,e,c.path,c.affectedTree,r,i,s)}else{if(t.type!==_s.LISTEN_COMPLETE)throw td("Unknown operation type: "+t.type);o=function(n,e,t,r,i){const s=e.serverCache;return $W(n,OW(e,s.getNode(),s.isFullyInitialized()||St(t),s.isFiltered()),t,r,HW,i)}(n,e,t.path,r,s)}const l=s.getChanges();return function(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=tb(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function(n){return{type:"value",snapshotNode:n}}(tb(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,i,e,t,r);return function(n,e){Ae(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Ae(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),Ae(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function(n,e,t,r){return function(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),Fp(n,i,"child_removed",e,r,t),Fp(n,i,"child_added",e,r,t),Fp(n,i,"child_moved",s,r,t),Fp(n,i,"child_changed",e,r,t),Fp(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let ob,lb;function JM(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return Ae(null!=s,"SyncTree gave us an op for an invalid query."),KW(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(KW(o,e,t,r));return s}}function $a(n,e){let t=null;for(const r of n.views.values())t=t||$we(r,e);return t}class tq{constructor(e){this.listenProvider_=e,this.syncPointTree_=new dn(null),this.pendingWriteTree_={visibleWrites:Ns.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function e1(n,e,t,r,i){return function(n,e,t,r,i){Ae(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Vp(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?wd(n,new uc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ga(n,e,t=!1){const r=function(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);Ae(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&bwe(a,r.path)?i=!1:ms(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function(n){n.visibleWrites=LW(n.allWrites,Cwe,Gt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=PW(n.visibleWrites,r.path):vr(r.children,l=>{n.visibleWrites=PW(n.visibleWrites,_n(r.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new dn(null);return null!=r.snap?s=s.set(Gt(),!0):vr(r.children,o=>{s=s.set(new Yt(o),!0)}),wd(n,new Jv(r.path,s,t))}return[]}function Bp(n,e,t){return wd(n,new uc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function ub(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=$a(a,gi(o,e));if(c)return c});return VW(i,e,s,t,!0)}function wd(n,e){return rq(e,n.syncPointTree_,null,nb(n.pendingWriteTree_,Gt()))}function rq(n,e,t,r){if(St(n.path))return iq(n,e,t,r);{const i=e.get(Gt());null==t&&null!=i&&(t=$a(i,Gt()));let s=[];const o=Tt(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=UW(r,o);s=s.concat(rq(a,l,c,u))}return i&&(s=s.concat(JM(i,n,r,t))),s}}function iq(n,e,t,r){const i=e.get(Gt());null==t&&null!=i&&(t=$a(i,Gt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=UW(r,o),u=n.operationForChild(o);u&&(s=s.concat(iq(u,a,l,c)))}),i&&(s=s.concat(JM(i,n,r,t))),s}function n1(n,e){return n.tagToQueryMap.get(e)}function r1(n){const e=n.indexOf("$");return Ae(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Yt(n.substr(0,e))}}function s1(n,e,t){const r=n.syncPointTree_.get(e);return Ae(r,"Missing sync point for query tag that we're tracking"),JM(r,t,nb(n.pendingWriteTree_,e),null)}class o1{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new o1(t)}node(){return this.node_}}class a1{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=_n(this.path_,e);return new a1(this.syncTree_,t)}node(){return ub(this.syncTree_,this.path_)}}const oq=function(n,e,t){return n&&"object"==typeof n?(Ae(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?d0e(n[".sv"],e,t):"object"==typeof n[".sv"]?h0e(n[".sv"],e):void Ae(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},d0e=function(n,e,t){if("timestamp"===n)return t.timestamp;Ae(!1,"Unexpected server value: "+n)},h0e=function(n,e,t){n.hasOwnProperty("increment")||Ae(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&Ae(!1,"Unexpected increment value: "+r);const i=e.node();if(Ae(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},l1=function(n,e,t){return c1(n,new o1(e),t)};function c1(n,e,t){const r=n.getPriority().val(),i=oq(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=oq(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new pd(a,Dn(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new pd(i))),o.forEachChild(un,(a,l)=>{const c=c1(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class u1{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function hb(n,e){let t=e instanceof Yt?e:new Yt(e),r=n,i=Tt(t);for(;null!==i;){const s=rd(r.node.children,i)||{children:{},childCount:0};r=new u1(i,r,s),t=sn(t),i=Tt(t)}return r}function fc(n){return n.node.value}function d1(n,e){n.node.value=e,h1(n)}function lq(n){return n.node.childCount>0}function fb(n,e){vr(n.node.children,(t,r)=>{e(new u1(t,n,r))})}function cq(n,e,t,r){t&&!r&&e(n),fb(n,i=>{cq(i,e,!0,r)}),t&&r&&e(n)}function Hp(n){return new Yt(null===n.parent?n.name:Hp(n.parent)+"/"+n.name)}function h1(n){null!==n.parent&&function(n,e,t){const r=function(n){return void 0===fc(n)&&!lq(n)}(t),i=Qo(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,h1(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,h1(n))}(n.parent,n.name,n)}const m0e=/[\[\].#$\/\u0000-\u001F\u007F]/,_0e=/[\[\].#$\u0000-\u001F\u007F]/,f1=10485760,pb=function(n){return"string"==typeof n&&0!==n.length&&!m0e.test(n)},zp=function(n,e,t){const r=t instanceof Yt?new Obe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+lc(r));if("function"==typeof e)throw new Error(n+"contains a function "+lc(r)+" with contents = "+e.toString());if(jv(e))throw new Error(n+"contains "+e.toString()+" "+lc(r));if("string"==typeof e&&e.length>f1/3&&cv(e)>f1)throw new Error(n+"contains a string greater than "+f1+" utf8 bytes "+lc(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(vr(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!pb(o)))throw new Error(n+" contains an invalid key ("+o+") "+lc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=cv(e),mW(n)})(r,o),zp(n,a,r),function(n){const e=n.parts_.pop();n.byteLength_-=cv(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+lc(r)+" in addition to actual children.")}},hq=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!pb(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!_0e.test(n)}(n)}(t))throw new Error(function(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class w0e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qi(n,e,t){(function(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!IM(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(C0e(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>ms(r,e)||ms(e,r))}function C0e(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();oc&&yr("event: "+t.toString()),hd(r)}}}class D0e{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new w0e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zv(),this.transactionQueueTree_=new u1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mq(n){const t=n.infoData_.getNode(new Yt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Wp(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:mq(n)})}function _q(n,e,t,r,i){n.dataUpdateCount++;const s=new Yt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=ov(t,c=>Dn(c));o=function(n,e,t,r){const i=n1(n,r);if(i){const s=r1(i),o=s.path,a=s.queryId,l=gi(o,e),c=dn.fromObject(t);return s1(n,o,new vd($M(a),l,c))}return[]}(n.serverSyncTree_,s,l,i)}else{const l=Dn(t);o=function(n,e,t,r){const i=n1(n,r);if(null!=i){const s=r1(i),o=s.path,a=s.queryId,l=gi(o,e);return s1(n,o,new uc($M(a),l,t))}return[]}(n.serverSyncTree_,s,l,i)}else if(r){const l=ov(t,c=>Dn(c));o=function(n,e,t){const r=dn.fromObject(t);return wd(n,new vd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,l)}else{const l=Dn(t);o=Bp(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ed(n,s)),Qi(n.eventQueue_,a,o)}function yq(n,e){m1(n,"connected",e),!1===e&&function(n){Cd(n,"onDisconnectEvents");const e=Wp(n),t=Zv();UM(n.onDisconnect_,Gt(),(i,s)=>{const o=function(n,e,t,r){return c1(e,new a1(t,n),r)}(i,s,n.serverSyncTree_,e);yd(t,i,o)});let r=[];UM(t,Gt(),(i,s)=>{r=r.concat(Bp(n.serverSyncTree_,i,s));const o=function(n,e){const t=Hp(wq(n,e)),r=hb(n.transactionQueueTree_,e);return function(n,e,t){let r=void 0?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{w1(n,i)}),w1(n,r),cq(r,i=>{w1(n,i)}),t}(n,i);Ed(n,o)}),n.onDisconnect_=Zv(),Qi(n.eventQueue_,Gt(),r)}(n)}function m1(n,e,t){const r=new Yt("/.info/"+e),i=Dn(t);n.infoData_.updateSnapshot(r,i);const s=Bp(n.infoSyncTree_,r,i);Qi(n.eventQueue_,r,s)}function mb(n){return n.nextWriteId_++}function Cd(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),yr(t,...e)}function v1(n,e,t){return ub(n.serverSyncTree_,e,t)||mt.EMPTY_NODE}function _b(n,e=n.transactionQueueTree_){if(e||yb(n,e),fc(e)){const t=Cq(n,e);Ae(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function(n,e,t){const r=t.map(c=>c.currentWriteId),i=v1(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const u=t[c];Ae(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=gi(e,u.path);s=s.updateChild(h,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{Cd(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const h=[];for(let p=0;p<t.length;p++)t[p].status=2,u=u.concat(Ga(n.serverSyncTree_,t[p].currentWriteId)),t[p].onComplete&&h.push(()=>t[p].onComplete(null,!0,t[p].currentOutputSnapshotResolved)),t[p].unwatcher();yb(n,hb(n.transactionQueueTree_,e)),_b(n,n.transactionQueueTree_),Qi(n.eventQueue_,e,u);for(let p=0;p<h.length;p++)hd(h[p])}else{if("datastale"===c)for(let h=0;h<t.length;h++)t[h].status=3===t[h].status?4:0;else{ni("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<t.length;h++)t[h].status=4,t[h].abortReason=c}Ed(n,e)}},o)}(n,Hp(e),t)}else lq(e)&&fb(e,t=>{_b(n,t)})}function Ed(n,e){const t=wq(n,e),r=Hp(t);return function(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=gi(t,l.path);let h,u=!1;if(Ae(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,h=l.abortReason,i=i.concat(Ga(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,h="maxretry",i=i.concat(Ga(n.serverSyncTree_,l.currentWriteId,!0));else{const p=v1(n,l.path,o);l.currentInputSnapshot=p;const y=e[a].update(p.val());if(void 0!==y){zp("transaction failed: Data returned ",y,l.path);let D=Dn(y);"object"==typeof y&&null!=y&&Qo(y,".priority")||(D=D.updatePriority(p.getPriority()));const N=l.currentWriteId,z=Wp(n),j=l1(D,p,z);l.currentOutputSnapshotRaw=D,l.currentOutputSnapshotResolved=j,l.currentWriteId=mb(n),o.splice(o.indexOf(N),1),i=i.concat(e1(n.serverSyncTree_,l.path,j,l.currentWriteId,l.applyLocally)),i=i.concat(Ga(n.serverSyncTree_,N,!0))}else u=!0,h="nodata",i=i.concat(Ga(n.serverSyncTree_,l.currentWriteId,!0))}Qi(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===h?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(h),!1,null)))}yb(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)hd(r[a]);_b(n,n.transactionQueueTree_)}(n,Cq(n,t),r),r}function wq(n,e){let t,r=n.transactionQueueTree_;for(t=Tt(e);null!==t&&void 0===fc(r);)r=hb(r,t),t=Tt(e=sn(e));return r}function Cq(n,e){const t=[];return Eq(n,e,t),t.sort((r,i)=>r.order-i.order),t}function Eq(n,e,t){const r=fc(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);fb(e,i=>{Eq(n,i,t)})}function yb(n,e){const t=fc(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,d1(e,t.length>0?t:void 0)}fb(e,r=>{yb(n,r)})}function w1(n,e){const t=fc(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(Ae(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(Ae(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Ga(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?d1(e,void 0):t.length=s+1,Qi(n.eventQueue_,Hp(e),i);for(let o=0;o<r.length;o++)hd(r[o])}}const C1=function(n,e){const t=U0e(n),r=t.namespace;return"firebase.com"===t.domain&&ao(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&ao("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ni("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new bM(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Yt(t.pathString)}},U0e=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let h=n.indexOf("?");-1===h&&(h=n.length),e=n.substring(0,Math.min(u,h)),u<h&&(i=function(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(u,h)));const p=function(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ni(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,h)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const y=e.slice(0,c);if("localhost"===y.toLowerCase())t="localhost";else if(y.split(".").length<=2)t=y;else{const D=e.indexOf(".");r=e.substring(0,D).toLowerCase(),t=e.substring(D+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Yi{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return St(this._path)?null:SM(this._path)}get ref(){return new Fs(this._repo,this._path)}get _queryIdentifier(){const e=RW(this._queryParams),t=_M(e);return"{}"===t?"default":t}get _queryObject(){return RW(this._queryParams)}isEqual(e){if(!((e=ka(e))instanceof Yi))return!1;const t=this._repo===e._repo,r=IM(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Fs extends Yi{constructor(e,t){super(e,t,new FM,!1)}get parent(){const e=gW(this._path);return null===e?null:new Fs(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function(n){Ae(!ob,"__referenceConstructor has already been defined"),ob=n})(Fs),function(n){Ae(!lb,"__referenceConstructor has already been defined"),lb=n}(Fs);const D1={};class sCe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,e,t){if(n.stats_=EM(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Xv(n.repoInfo_,(r,i,s,o)=>{_q(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>yq(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{kr(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new cc(n.repoInfo_,e,(r,i,s,o)=>{_q(n,r,i,s,o)},r=>{yq(n,r)},r=>{!function(n,e){vr(e,(t,r)=>{m1(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function(n,e){const t=n.toString();return CM[t]||(CM[t]=e()),CM[t]}(n.repoInfo_,()=>new uwe(n.stats_,n.server_)),n.infoData_=new swe,n.infoSyncTree_=new tq({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=Bp(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),m1(n,"connected",!1),n.serverSyncTree_=new tq({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Qi(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fs(this._repo,Gt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,e){const t=D1[e];(!t||t[n.key]!==n)&&ao(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ao("Cannot call "+e+" on a deleted database.")}}function oCe(n=tp(),e){return Oa(n,"database").getImmediate({identifier:e})}cc.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},cc.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},pM="9.9.3",Or(new gr("database",(e,{instanceIdentifier:t})=>function(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||ao("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=C1(s,i),a=o.repoInfo;"undefined"!=typeof process&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=C1(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Ip(Ip.OWNER):new obe(n.name,n.options,e);hq("Invalid Firebase Database URL",o),St(o.path)||ao("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(n,e,t,r){let i=D1[e.name];i||(i={},D1[e.name]=i);let s=i[n.toURLString()];return s&&ao("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new D0e(n,!1,t,r),i[n.toURLString()]=s,s}(a,n,u,new sbe(n.name,t));return new sCe(h,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),tn(RG,"0.13.5",void 0),tn(RG,"0.13.5","esm2017");class T1{constructor(e){return e}}const Rq="database",S1=new ye("angularfire2.database-instances");function hCe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new T1(r)}}const fCe={provide:class{constructor(){return sp(Rq)}},deps:[[new jt,S1]]},pCe={provide:T1,useFactory:function(n,e){const t=ip(Rq,n,e);return t&&new T1(t)},deps:[[new jt,S1],Na]};let gCe=(()=>{class n{constructor(){tn("angularfire",ad.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[pCe,fCe]}),n})();function mCe(n,...e){return{ngModule:gCe,providers:[{provide:S1,useFactory:hCe(n),multi:!0,deps:[nt,an,op,lp,[new jt,Uv],[new jt,dp],...e]}]}}const _Ce=ap(oCe,!0);var je,yCe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},aa={},I1=I1||{},lt=yCe||self;function Cb(){}function x1(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Qp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var A1="closure_uid_"+(1e9*Math.random()>>>0),bCe=0;function wCe(n,e,t){return n.call.apply(n.bind,arguments)}function CCe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Fr(n,e,t){return(Fr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wCe:CCe).apply(null,arguments)}function Eb(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Lr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ka(){this.s=this.s,this.o=this.o}var DCe={};Ka.prototype.s=!1,Ka.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,A1)&&n[A1]||(n[A1]=++bCe)}(this);delete DCe[n]}},Ka.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kq=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Oq=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function Pq(n){return Array.prototype.concat.apply([],arguments)}function M1(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Db(n){return/^[\s\xa0]*$/.test(n)}var _i,Nq=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function mi(n,e){return-1!=n.indexOf(e)}function R1(n,e){return n<e?-1:n>e?1:0}e:{var Fq=lt.navigator;if(Fq){var Lq=Fq.userAgent;if(Lq){_i=Lq;break e}}_i=""}function k1(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Vq(n){const e={};for(const t in n)e[t]=n[t];return e}var Bq="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Uq(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<Bq.length;s++)t=Bq[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function O1(n){return O1[" "](n),n}O1[" "]=Cb;var Tb,ICe=mi(_i,"Opera"),Td=mi(_i,"Trident")||mi(_i,"MSIE"),jq=mi(_i,"Edge"),P1=jq||Td,Hq=mi(_i,"Gecko")&&!(mi(_i.toLowerCase(),"webkit")&&!mi(_i,"Edge"))&&!(mi(_i,"Trident")||mi(_i,"MSIE"))&&!mi(_i,"Edge"),xCe=mi(_i.toLowerCase(),"webkit")&&!mi(_i,"Edge");function $q(){var n=lt.document;return n?n.documentMode:void 0}e:{var N1="",F1=function(){var n=_i;return Hq?/rv:([^\);]+)(\)|;)/.exec(n):jq?/Edge\/([\d\.]+)/.exec(n):Td?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):xCe?/WebKit\/(\S+)/.exec(n):ICe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(F1&&(N1=F1?F1[1]:""),Td){var L1=$q();if(null!=L1&&L1>parseFloat(N1)){Tb=String(L1);break e}}Tb=N1}var ACe={};function MCe(){return e=ACe,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Nq(String(Tb)).split("."),t=Nq("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=R1(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||R1(0==i[2].length,0==s[2].length)||R1(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n}();var e}var RCe=lt.document&&Td&&($q()||parseInt(Tb,10))||void 0,kCe=function(){if(!lt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{lt.addEventListener("test",Cb,e),lt.removeEventListener("test",Cb,e)}catch(t){}return n}();function ri(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Yp(n,e){if(ri.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Hq){e:{try{O1(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:OCe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yp.Z.h.call(this)}}ri.prototype.h=function(){this.defaultPrevented=!0},Lr(Yp,ri);var OCe={2:"touch",3:"pen",4:"mouse"};Yp.prototype.h=function(){Yp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xp="closure_listenable_"+(1e6*Math.random()|0),PCe=0;function NCe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++PCe,this.ca=this.fa=!1}function Sb(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ib(n){this.src=n,this.g={},this.h=0}function B1(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=kq(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Sb(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function U1(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}Ib.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=U1(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new NCe(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var j1="closure_lm_"+(1e6*Math.random()|0),H1={};function Gq(n,e,t,r,i){if(r&&r.once)return qq(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Gq(n,e[s],t,r,i);return null}return t=W1(t),n&&n[Xp]?n.N(e,t,Qp(r)?!!r.capture:!!r,i):Wq(n,e,t,!1,r,i)}function Wq(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Qp(i)?!!i.capture:!!i,a=z1(n);if(a||(n[j1]=a=new Ib(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function(){var e=LCe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kCe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Qq(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qq(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qq(n,e[s],t,r,i);return null}return t=W1(t),n&&n[Xp]?n.O(e,t,Qp(r)?!!r.capture:!!r,i):Wq(n,e,t,!0,r,i)}function Kq(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Kq(n,e[s],t,r,i);else r=Qp(r)?!!r.capture:!!r,t=W1(t),n&&n[Xp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=U1(s=n.g[e],t,r,i))&&(Sb(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=z1(n))&&(e=n.g[e.toString()],n=-1,e&&(n=U1(e,t,r,i)),(t=-1<n?e[n]:null)&&$1(t))}function $1(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Xp])B1(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Qq(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=z1(e))?(B1(t,n),0==t.h&&(t.src=null,e[j1]=null)):Sb(n)}}}function Qq(n){return n in H1?H1[n]:H1[n]="on"+n}function LCe(n,e){if(n.ca)n=!0;else{e=new Yp(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&$1(n),n=t.call(r,e)}return n}function z1(n){return(n=n[j1])instanceof Ib?n:null}var G1="__closure_events_fn_"+(1e9*Math.random()>>>0);function W1(n){return"function"==typeof n?n:(n[G1]||(n[G1]=function(e){return n.handleEvent(e)}),n[G1])}function br(){Ka.call(this),this.i=new Ib(this),this.P=this,this.I=null}function Vr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ri(e,n);else if(e instanceof ri)e.target=e.target||n;else{var i=e;Uq(e=new ri(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=xb(o,r,!0,e)&&i}if(i=xb(o=e.g=n,r,!0,e)&&i,i=xb(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=xb(o=e.g=t[s],r,!1,e)&&i}function xb(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,l=o.ia||o.src;o.fa&&B1(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Lr(br,Ka),br.prototype[Xp]=!0,br.prototype.removeEventListener=function(n,e,t,r){Kq(this,n,e,t,r)},br.prototype.M=function(){if(br.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Sb(t[r]);delete n.g[e],n.h--}}this.I=null},br.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var q1=lt.JSON.stringify;function VCe(){var n=Xq;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Q1,Yq=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new UCe,n=>n.reset());class UCe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jCe(n){lt.setTimeout(()=>{throw n},0)}function K1(n,e){Q1||function(){var n=lt.Promise.resolve(void 0);Q1=function(){n.then($Ce)}}(),Y1||(Q1(),Y1=!0),Xq.add(n,e)}var Y1=!1,Xq=new class{constructor(){this.h=this.g=null}add(e,t){const r=Yq.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function $Ce(){for(var n;n=VCe();){try{n.h.call(n.g)}catch(t){jCe(t)}var e=Yq;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Y1=!1}function Ab(n,e){br.call(this),this.h=n||1,this.g=e||lt,this.j=Fr(this.kb,this),this.l=Date.now()}function X1(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Z1(n,e,t){if("function"==typeof n)t&&(n=Fr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fr(n.handleEvent,n)}return 2147483647<Number(e)?-1:lt.setTimeout(n,e||0)}function Zq(n){n.g=Z1(()=>{n.g=null,n.i&&(n.i=!1,Zq(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Lr(Ab,br),(je=Ab.prototype).da=!1,je.S=null,je.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vr(this,"tick"),this.da&&(X1(this),this.start()))}},je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},je.M=function(){Ab.Z.M.call(this),X1(this),delete this.g};class zCe extends Ka{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zq(this)}M(){super.M(),this.g&&(lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zp(n){Ka.call(this),this.h=n,this.g={}}Lr(Zp,Ka);var Jq=[];function e4(n,e,t,r){Array.isArray(t)||(t&&(Jq[0]=t.toString()),t=Jq);for(var i=0;i<t.length;i++){var s=Gq(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function t4(n){k1(n.g,function(e,t){this.g.hasOwnProperty(t)&&$1(e)},n),n.g={}}function Mb(){this.g=!0}function Sd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return q1(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}Zp.prototype.M=function(){Zp.Z.M.call(this),t4(this)},Zp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mb.prototype.Aa=function(){this.g=!1},Mb.prototype.info=function(){};var gc={},n4=null;function Rb(){return n4=n4||new br}function r4(n){ri.call(this,gc.Ma,n)}function Jp(n){const e=Rb();Vr(e,new r4(e,n))}function s4(n,e){ri.call(this,gc.STAT_EVENT,n),this.stat=e}function yi(n){const e=Rb();Vr(e,new s4(e,n))}function o4(n,e){ri.call(this,gc.Na,n),this.size=e}function eg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return lt.setTimeout(function(){n()},e)}gc.Ma="serverreachability",Lr(r4,ri),gc.STAT_EVENT="statevent",Lr(s4,ri),gc.Na="timingevent",Lr(o4,ri);var kb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},a4={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function J1(){}function c4(){}J1.prototype.h=null;var nR,tg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function eR(){ri.call(this,"d")}function tR(){ri.call(this,"c")}function Ob(){}function ng(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Zp(this),this.P=QCe,this.W=new Ab(n=P1?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new u4}function u4(){this.i=null,this.g="",this.h=!1}Lr(eR,ri),Lr(tR,ri),Lr(Ob,J1),Ob.prototype.g=function(){return new XMLHttpRequest},Ob.prototype.i=function(){return{}},nR=new Ob;var QCe=45e3,rR={},Pb={};function iR(n,e,t){n.K=1,n.v=Bb(la(e)),n.s=t,n.U=!0,d4(n,null)}function d4(n,e){n.F=Date.now(),rg(n),n.A=la(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),b4(t.h,"t",r),n.C=0,t=n.l.H,n.h=new u4,n.g=$4(n.l,t?e:null,!n.s),0<n.O&&(n.L=new zCe(Fr(n.Ia,n,n.g),n.O)),e4(n.V,n.g,"readystatechange",n.gb),e=n.H?Vq(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Jp(1),function(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function h4(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function f4(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=YCe(n,t),i==Pb){4==e&&(n.o=4,yi(14),r=!1),Sd(n.j,n.m,null,"[Incomplete Response]");break}if(i==rR){n.o=4,yi(15),Sd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Sd(n.j,n.m,i,null),sR(n,i)}h4(n)&&i!=Pb&&i!=rR&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),mR(e),e.L=!0,yi(11))):(Sd(n.j,n.m,t,"[Invalid Chunked Response]"),mc(n),ig(n))}function YCe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Pb:(t=Number(e.substring(t,r)),isNaN(t)?rR:(r+=1)+t>e.length?Pb:(e=e.substr(r,t),n.C=r+t,e))}function rg(n){n.Y=Date.now()+n.P,p4(n,n.P)}function p4(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=eg(Fr(n.eb,n),e)}function Nb(n){n.B&&(lt.clearTimeout(n.B),n.B=null)}function ig(n){0==n.l.G||n.I||B4(n.l,n)}function mc(n){Nb(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,X1(n.W),t4(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function sR(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||lR(t.i,n)))if(t.I=n.N,!n.J&&lR(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=eg(Fr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Gb(t),$b(t)}gR(t),yi(18)}if(1>=E4(t.i)&&t.ka){try{t.ka()}catch(c){}t.ka=void 0}}else vc(t,11)}else if((n.J||t.g==n)&&Gb(t),!Db(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.U=c[0],c=c[1],2==t.G)if("c"==c[0]){t.J=c[1],t.la=c[2];const u=c[3];null!=u&&(t.ma=u,t.h.info("VER="+t.ma));const h=c[4];null!=h&&(t.za=h,t.h.info("SVER="+t.za));const p=c[5];null!=p&&"number"==typeof p&&0<p&&(t.K=r=1.5*p,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const y=n.g;if(y){const D=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var s=r.i;!s.g&&(mi(D,"spdy")||mi(D,"quic")||mi(D,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(cR(s,s.h),s.h=null))}if(r.D){const M=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;M&&(r.sa=M,yn(r.F,r.D,M))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=H4(r,r.H?r.la:null,r.W),o.J){D4(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Nb(a),rg(a)),r.g=o}else L4(r);0<t.l.length&&zb(t)}else"stop"!=c[0]&&"close"!=c[0]||vc(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?vc(t,7):fR(t):"noop"!=c[0]&&t.j&&t.j.wa(c),t.A=0)}Jp(4)}catch(c){}}function oR(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(x1(n)||"string"==typeof n)Oq(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(x1(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(x1(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function Id(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Id)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function aR(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];_c(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)_c(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function _c(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(je=ng.prototype).setTimeout=function(n){this.P=n},je.gb=function(n){n=n.target;const e=this.L;e&&3==ca(n)?e.l():this.Ia(n)},je.Ia=function(n){try{if(n==this.g)e:{const u=ca(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||P1||this.g&&(this.h.h||this.g.ga()||k4(this.g)))){this.I||4!=u||7==e||Jp(8==e||0>=h?3:2),Nb(this);var t=this.g.ba();this.N=t;t:if(h4(this)){var r=k4(this.g);n="";var i=r.length,s=4==ca(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){mc(this),ig(this);var o="";break t}this.h.i=new lt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Db(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,yi(12),mc(this),ig(this);break e}Sd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sR(this,t)}this.U?(f4(this,u,o),P1&&this.i&&3==u&&(e4(this.V,this.W,"tick",this.fb),this.W.start())):(Sd(this.j,this.m,o,null),sR(this,o)),4==u&&mc(this),this.i&&!this.I&&(4==u?B4(this.l,this):(this.i=!1,rg(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,yi(12)):(this.o=0,yi(13)),mc(this),ig(this)}}}catch(u){}},je.fb=function(){if(this.g){var n=ca(this.g),e=this.g.ga();this.C<e.length&&(Nb(this),f4(this,n,e),this.i&&4!=n&&rg(this))}},je.cancel=function(){this.I=!0,mc(this)},je.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jp(3),yi(17)),mc(this),this.o=2,ig(this)):p4(this,this.Y-n)},(je=Id.prototype).R=function(){aR(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},je.T=function(){return aR(this),this.g.concat()},je.get=function(n,e){return _c(this.h,n)?this.h[n]:e},je.set=function(n,e){_c(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},je.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var g4=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof yc){this.g=void 0!==e?e:n.g,Fb(this,n.j),this.s=n.s,Lb(this,n.i),Vb(this,n.m),this.l=n.l,e=n.h;var t=new ag;t.i=e.i,e.g&&(t.g=new Id(e.g),t.h=e.h),m4(this,t),this.o=n.o}else n&&(t=String(n).match(g4))?(this.g=!!e,Fb(this,t[1]||"",!0),this.s=sg(t[2]||""),Lb(this,t[3]||"",!0),Vb(this,t[4]),this.l=sg(t[5]||"",!0),m4(this,t[6]||"",!0),this.o=sg(t[7]||"")):(this.g=!!e,this.h=new ag(null,this.g))}function la(n){return new yc(n)}function Fb(n,e,t){n.j=t?sg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Lb(n,e,t){n.i=t?sg(e,!0):e}function Vb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function m4(n,e,t){e instanceof ag?(n.h=e,function(n,e){e&&!n.j&&(Qa(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(y4(this,r),b4(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=og(e,iEe)),n.h=new ag(e,n.g))}function yn(n,e,t){n.h.set(e,t)}function Bb(n){return yn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function sg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function og(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tEe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tEe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}yc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(og(e,_4,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(og(e,_4,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(og(t,"/"==t.charAt(0)?rEe:nEe,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",og(t,sEe)),n.join("")};var _4=/[#\/\?@]/g,nEe=/[#\?:]/g,rEe=/[#\?]/g,iEe=/[#\?@]/g,sEe=/#/g;function ag(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qa(n){n.g||(n.g=new Id,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function y4(n,e){Qa(n),e=xd(n,e),_c(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,_c((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&aR(n)))}function v4(n,e){return Qa(n),e=xd(n,e),_c(n.g.h,e)}function b4(n,e,t){y4(n,e),0<t.length&&(n.i=null,n.g.set(xd(n,e),M1(t)),n.h+=t.length)}function xd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function w4(n){this.l=n||lEe,n=lt.PerformanceNavigationTiming?0<(n=lt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(lt.g&&lt.g.Ea&&lt.g.Ea()&&lt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(je=ag.prototype).add=function(n,e){Qa(this),this.i=null,n=xd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},je.forEach=function(n,e){Qa(this),this.g.forEach(function(t,r){Oq(t,function(i){n.call(e,i,r,this)},this)},this)},je.T=function(){Qa(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},je.R=function(n){Qa(this);var e=[];if("string"==typeof n)v4(this,n)&&(e=Pq(e,this.g.get(xd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Pq(e,n[t])}return e},je.set=function(n,e){return Qa(this),this.i=null,v4(this,n=xd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},je.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var lEe=10;function C4(n){return!!n.h||!!n.g&&n.g.size>=n.j}function E4(n){return n.h?1:n.g?n.g.size:0}function lR(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cR(n,e){n.g?n.g.add(e):n.h=e}function D4(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function T4(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return M1(n.i)}function uR(){}function cEe(){this.g=new uR}function uEe(n,e,t){const r=t||"";try{oR(n,function(i,s){let o=i;Qp(i)&&(o=q1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ub(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function lg(n){this.l=n.$b||null,this.j=n.ib||!1}function jb(n,e){br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=dR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}w4.prototype.cancel=function(){if(this.i=T4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},uR.prototype.stringify=function(n){return lt.JSON.stringify(n,void 0)},uR.prototype.parse=function(n){return lt.JSON.parse(n,void 0)},Lr(lg,J1),lg.prototype.g=function(){return new jb(this.l,this.j)},lg.prototype.i=function(n){return function(){return n}}({}),Lr(jb,br);var dR=0;function S4(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function cg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ug(n)}function ug(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(je=jb.prototype).open=function(n,e){if(this.readyState!=dR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ug(this)},je.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||lt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cg(this)),this.readyState=dR},je.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ug(this)),this.g&&(this.readyState=3,ug(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==lt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;S4(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},je.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cg(this):ug(this),3==this.readyState&&S4(this)}},je.Ua=function(n){this.g&&(this.response=this.responseText=n,cg(this))},je.Ta=function(n){this.g&&(this.response=n,cg(this))},je.ha=function(){this.g&&cg(this)},je.setRequestHeader=function(n,e){this.v.append(n,e)},je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},je.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(jb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var hEe=lt.JSON.parse;function Yn(n){br.call(this),this.headers=new Id,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=I4,this.K=this.L=!1}Lr(Yn,br);var I4="",fEe=/^https?$/i,pEe=["POST","PUT"];function mEe(n){return"content-type"==n.toLowerCase()}function x4(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,A4(n),Hb(n)}function A4(n){n.D||(n.D=!0,Vr(n,"complete"),Vr(n,"error"))}function M4(n){if(n.h&&void 0!==I1&&(!n.C[1]||4!=ca(n)||2!=n.ba()))if(n.v&&4==ca(n))Z1(n.Fa,0,n);else if(Vr(n,"readystatechange"),4==ca(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(g4)[1]||null;if(!i&&lt.self&&lt.self.location){var s=lt.self.location.protocol;i=s.substr(0,s.length-1)}r=!fEe.test(i?i.toLowerCase():"")}t=r}if(t)Vr(n,"complete"),Vr(n,"success");else{n.m=6;try{var o=2<ca(n)?n.g.statusText:""}catch(l){o=""}n.j=o+" ["+n.ba()+"]",A4(n)}}finally{Hb(n)}}}function Hb(n,e){if(n.g){R4(n);const t=n.g,r=n.C[0]?Cb:null;n.g=null,n.C=null,e||Vr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function R4(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(lt.clearTimeout(n.A),n.A=null)}function ca(n){return n.g?n.g.readyState:0}function k4(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case I4:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function hR(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return k1(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):yn(n,e,t))}function dg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function O4(n){this.za=0,this.l=[],this.h=new Mb,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=dg("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=dg("baseRetryDelayMs",5e3,n),this.$a=dg("retryDelaySeedMs",1e4,n),this.Ya=dg("forwardChannelMaxRetries",2,n),this.ra=dg("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new w4(n&&n.concurrentRequestLimit),this.Ca=new cEe,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function fR(n){if(P4(n),3==n.G){var e=n.V++,t=la(n.F);yn(t,"SID",n.J),yn(t,"RID",e),yn(t,"TYPE","terminate"),hg(n,t),(e=new ng(n,n.h,e,void 0)).K=2,e.v=Bb(la(t)),t=!1,lt.navigator&&lt.navigator.sendBeacon&&(t=lt.navigator.sendBeacon(e.v.toString(),"")),!t&&lt.Image&&((new Image).src=e.v,t=!0),t||(e.g=$4(e.l,null),e.g.ea(e.v)),e.F=Date.now(),rg(e)}j4(n)}function $b(n){n.g&&(mR(n),n.g.cancel(),n.g=null)}function P4(n){$b(n),n.u&&(lt.clearTimeout(n.u),n.u=null),Gb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&lt.clearTimeout(n.m),n.m=null)}function pR(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&zb(n)}function zb(n){C4(n.i)||n.m||(n.m=!0,K1(n.Ha,n),n.C=0)}function N4(n,e){var t;t=e?e.m:n.V++;const r=la(n.F);yn(r,"SID",n.J),yn(r,"RID",t),yn(r,"AID",n.U),hg(n,r),n.o&&n.s&&hR(r,n.o,n.s),t=new ng(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=F4(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),cR(n.i,t),iR(t,r,e)}function hg(n,e){n.j&&oR({},function(t,r){yn(e,r,t)})}function F4(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Fr(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{uEe(u,o,"req"+c+"_")}catch(h){r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function L4(n){n.g||n.u||(n.Y=1,K1(n.Ga,n),n.A=0)}function gR(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=eg(Fr(n.Ga,n),U4(n,n.A)),n.A++,0))}function mR(n){null!=n.B&&(lt.clearTimeout(n.B),n.B=null)}function V4(n){n.g=new ng(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=la(n.oa);yn(e,"RID","rpc"),yn(e,"SID",n.J),yn(e,"CI",n.N?"0":"1"),yn(e,"AID",n.U),hg(n,e),yn(e,"TYPE","xmlhttp"),n.o&&n.s&&hR(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Bb(la(e)),t.s=null,t.U=!0,d4(t,n)}function Gb(n){null!=n.v&&(lt.clearTimeout(n.v),n.v=null)}function B4(n,e){var t=null;if(n.g==e){Gb(n),mR(n),n.g=null;var r=2}else{if(!lR(n.i,e))return;t=e.D,D4(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Vr(r=Rb(),new o4(r,t,e,i)),zb(n)}else L4(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function(n,e){return!(E4(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=eg(Fr(n.Ha,n,e),U4(n,n.C)),n.C++,0)))}(n,e)||2==r&&gR(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:vc(n,5);break;case 4:vc(n,10);break;case 3:vc(n,6);break;default:vc(n,2)}}function U4(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function vc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Fr(n.jb,n);t||(t=new yc("//www.google.com/images/cleardot.gif"),lt.location&&"http"==lt.location.protocol||Fb(t,"https"),Bb(t)),function(n,e){const t=new Mb;if(lt.Image){const r=new Image;r.onload=Eb(Ub,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Eb(Ub,t,r,"TestLoadImage: error",!1,e),r.onabort=Eb(Ub,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Eb(Ub,t,r,"TestLoadImage: timeout",!1,e),lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yi(2);n.G=0,n.j&&n.j.va(e),j4(n),P4(n)}function j4(n){n.G=0,n.I=-1,n.j&&((0!=T4(n.i).length||0!=n.l.length)&&(n.i.i.length=0,M1(n.l),n.l.length=0),n.j.ua())}function H4(n,e,t){let r=function(n){return n instanceof yc?la(n):new yc(n,void 0)}(t);if(""!=r.i)e&&Lb(r,e+"."+r.i),Vb(r,r.m);else{const i=lt.location;r=function(n,e,t,r){var i=new yc(null,void 0);return n&&Fb(i,n),e&&Lb(i,e),t&&Vb(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&k1(n.aa,function(i,s){yn(r,s,i)}),t=n.sa,(e=n.D)&&t&&yn(r,e,t),yn(r,"VER",n.ma),hg(n,r),r}function $4(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yn(t&&n.Ba&&!n.qa?new lg({ib:!0}):n.qa)).L=n.H,e}function z4(){}function Wb(){if(Td&&!(10<=Number(RCe)))throw Error("Environmental error: no available transport.")}function Xi(n,e){br.call(this),this.g=new O4(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Db(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Db(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ad(this)}function G4(n){eR.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function W4(){tR.call(this),this.status=1}function Ad(n){this.g=n}(je=Yn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():nR.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:nR),this.g.onreadystatechange=Fr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void x4(this,s)}n=t||"";const i=new Id(this.headers);r&&oR(r,function(s,o){i.set(o,s)}),r=function(n){e:{var e=mEe;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=lt.FormData&&n instanceof lt.FormData,!(0<=kq(pEe,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{R4(this),0<this.B&&((this.K=function(n){return Td&&MCe()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fr(this.pa,this)):this.A=Z1(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){x4(this,s)}},je.pa=function(){void 0!==I1&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vr(this,"timeout"),this.abort(8))},je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vr(this,"complete"),Vr(this,"abort"),Hb(this))},je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hb(this,!0)),Yn.Z.M.call(this)},je.Fa=function(){this.s||(this.F||this.v||this.l?M4(this):this.cb())},je.cb=function(){M4(this)},je.ba=function(){try{return 2<ca(this)?this.g.status:-1}catch(n){return-1}},je.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},je.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),hEe(e)}},je.Da=function(){return this.m},je.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(je=O4.prototype).ma=8,je.G=1,je.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},je.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new ng(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=Vq(s),Uq(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=F4(this,i,e),yn(t=la(this.F),"RID",n),yn(t,"CVER",22),this.D&&yn(t,"X-HTTP-Session-Id",this.D),hg(this,t),this.o&&s&&hR(t,this.o,s),cR(this.i,i),this.Ra&&yn(t,"TYPE","init"),this.ja?(yn(t,"$req",e),yn(t,"SID","null"),i.$=!0,iR(i,t,null)):iR(i,t,e),this.G=2}}else 3==this.G&&(n?N4(this,n):0==this.l.length||C4(this.i)||N4(this))},je.Ga=function(){if(this.u=null,V4(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=eg(Fr(this.bb,this),n)}},je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yi(10),$b(this),V4(this))},je.ab=function(){null!=this.v&&(this.v=null,$b(this),gR(this),yi(19))},je.jb=function(n){n?(this.h.info("Successfully pinged google.com"),yi(2)):(this.h.info("Failed to ping google.com"),yi(1))},(je=z4.prototype).xa=function(){},je.wa=function(){},je.va=function(){},je.ua=function(){},je.Oa=function(){},Wb.prototype.g=function(n,e){return new Xi(n,e)},Lr(Xi,br),Xi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),K1(Fr(n.hb,n,e))),yi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=H4(n,null,n.W),zb(n)},Xi.prototype.close=function(){fR(this.g)},Xi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,pR(this.g,e)}else this.v?((e={}).__data__=q1(n),pR(this.g,e)):pR(this.g,n)},Xi.prototype.M=function(){this.g.j=null,delete this.j,fR(this.g),delete this.g,Xi.Z.M.call(this)},Lr(G4,eR),Lr(W4,tR),Lr(Ad,z4),Ad.prototype.xa=function(){Vr(this.g,"a")},Ad.prototype.wa=function(n){Vr(this.g,new G4(n))},Ad.prototype.va=function(n){Vr(this.g,new W4(n))},Ad.prototype.ua=function(){Vr(this.g,"b")},Wb.prototype.createWebChannel=Wb.prototype.g,Xi.prototype.send=Xi.prototype.u,Xi.prototype.open=Xi.prototype.m,Xi.prototype.close=Xi.prototype.close,kb.NO_ERROR=0,kb.TIMEOUT=8,kb.HTTP_ERROR=6,a4.COMPLETE="complete",c4.EventType=tg,tg.OPEN="a",tg.CLOSE="b",tg.ERROR="c",tg.MESSAGE="d",br.prototype.listen=br.prototype.N,Yn.prototype.listenOnce=Yn.prototype.O,Yn.prototype.getLastError=Yn.prototype.La,Yn.prototype.getLastErrorCode=Yn.prototype.Da,Yn.prototype.getStatus=Yn.prototype.ba,Yn.prototype.getResponseJson=Yn.prototype.Qa,Yn.prototype.getResponseText=Yn.prototype.ga,Yn.prototype.send=Yn.prototype.ea,aa.createWebChannelTransport=function(){return new Wb},aa.getStatEventTarget=function(){return Rb()},aa.ErrorCode=kb,aa.EventType=a4,aa.Event=gc,aa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},aa.FetchXmlHttpFactory=lg,aa.WebChannel=c4,aa.XhrIo=Yn;const q4="@firebase/firestore";class wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let fg="9.9.2";const Ya=new Wl("@firebase/firestore");function me(n,...e){if(Ya.logLevel<=zt.DEBUG){const t=e.map(yR);Ya.debug(`Firestore (${fg}): ${n}`,...t)}}function Un(n,...e){if(Ya.logLevel<=zt.ERROR){const t=e.map(yR);Ya.error(`Firestore (${fg}): ${n}`,...t)}}function yR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ze(n="Unexpected state"){const e=`FIRESTORE (${fg}) INTERNAL ASSERTION FAILED: `+n;throw Un(e),new Error(e)}function rt(n,e){n||ze()}const J_CANCELLED="cancelled",J_INVALID_ARGUMENT="invalid-argument",J_FAILED_PRECONDITION="failed-precondition",J_UNAVAILABLE="unavailable";class pe extends ps{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class K4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vEe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wr.UNAUTHENTICATED))}shutdown(){}}class wEe{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable($(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt("string"==typeof r.accessToken),new K4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(null===e||"string"==typeof e),new wr(e)}}class CEe{constructor(e,t,r){this.type="FirstParty",this.user=wr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class EEe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new CEe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DEe{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt("string"==typeof t.token),this.p=t.token,new Q4(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function TEe(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function ct(n,e){return n<e?-1:n>e?1:0}class qb{constructor(e,t,r){void 0===t?t=0:t>e.length&&ze(),void 0===r?r=e.length-t:r>e.length-t&&ze(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===qb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qb?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vt extends qb{construct(e,t,r){return new Vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(J_INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Vt(t)}static emptyPath(){return new Vt([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(Vt.fromString(e))}static fromName(e){return new xe(Vt.fromString(e).popFirst(5))}static empty(){return new xe(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new Vt(e.slice()))}}function Za(n){return"IndexedDbTransactionError"===n.name}class kn{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new kn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xb(this.root,e,this.comparator,!0)}}class Xb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:Br.RED,this.left=null!=i?i:Br.EMPTY,this.right=null!=s?s:Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Br(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Br.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Br(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new kn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new s8(this.data.getIterator())}getIteratorFrom(e){return new s8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class s8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new lr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function On(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}lr.EMPTY_BYTE_STRING=new lr("");class PEe{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class el{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new el("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof el&&e.projectId===this.projectId&&e.database===this.database}}var Xn,Bt;(Bt=Xn||(Xn={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS",new kn(xe.comparator),new kn(xe.comparator),new kn(xe.comparator),new nn(xe.comparator),new nn(ct);class kc{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(On(e.integerValue));else if("doubleValue"in e){const r=On(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),function(n){return 0===n&&1/n==-1/0}(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(function(n){return"string"==typeof n?lr.fromBase64String(n):lr.fromUint8Array(n)}(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?function(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):ze()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),xe.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}kc.ye=new kc,new Uint8Array(0);class Oi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Oi(e,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vw(){return"undefined"!=typeof document?document:null}Oi.DEFAULT_COLLECTION_PERCENTILE=10,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oi.DEFAULT=new Oi(41943040,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oi.DISABLED=new Oi(-1,0,0);class tk{constructor(e,t,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class vk{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new vk(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pe(J_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class uSe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wr.UNAUTHENTICATED,this.clientId=class{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=TEe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=$(function*(a){me("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(me("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return $(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pe(J_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted($(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function(n,e){if(Un("AsyncQueue",`${e}: ${n}`),Za(n))return new pe(J_UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}const b6=new Map;class D6{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new pe(J_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new pe(J_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(n,e,t,r){if(!0===e&&!0===r)throw new pe(J_INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class CSe{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new tk(this,"async_queue_retry"),this.Kc=()=>{const t=vw();t&&me("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=vw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=vw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Cr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return $(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!Za(t))throw t;me("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,Un("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=vk.createAndSchedule(this,e,t,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&ze()}verifyOperationInProgress(){}zc(){var e=this;return $(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}class vn extends class{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D6({}),this._settingsFrozen=!1,e instanceof el?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new pe(J_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new el(i.options.projectId)}(e))}get app(){if(!this._app)throw new pe(J_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new pe(J_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D6(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new vEe;switch(t.type){case"gapi":const r=t.client;return rt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new EEe(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new pe(J_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=b6.get(e);t&&(me("ComponentProvider","Removing Datastore"),b6.delete(e),t.terminate())}(this),Promise.resolve()}}{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new CSe,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||function(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new PEe(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new uSe(n._authCredentials,n._appCheckCredentials,n._queue,r)}(this),this._firestoreClient.terminate()}}function DSe(n=tp()){return Oa(n,"firestore").getImmediate()}!function(n,e=!0){fg="9.9.3",Or(new gr("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new vn(i,new wEe(t.getProvider("auth-internal")),new DEe(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),tn(q4,"3.4.14",n),tn(q4,"3.4.14","esm2017")}();class pO{constructor(e){return e}}const q6="firestore",gO=new ye("angularfire2.firestore-instances");function HSe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new pO(r)}}const $Se={provide:class{constructor(){return sp(q6)}},deps:[[new jt,gO]]},zSe={provide:pO,useFactory:function(n,e){const t=ip(q6,n,e);return t&&new pO(t)},deps:[[new jt,gO],Na]};let GSe=(()=>{class n{constructor(){tn("angularfire",ad.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[zSe,$Se]}),n})();function WSe(n,...e){return{ngModule:GSe,providers:[{provide:gO,useFactory:HSe(n),multi:!0,deps:[nt,an,op,lp,[new jt,Uv],[new jt,dp],...e]}]}}const qSe=ap(DSe,!0),_O="functions";class ZSe{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return $(function*(){if(e.auth)try{const t=yield e.auth.getToken();return null==t?void 0:t.accessToken}catch(t){return}})()}getMessagingToken(){var e=this;return $(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch(t){return}})()}getAppCheckToken(){var e=this;return $(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return $(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const yO="us-central1";class eIe{constructor(e,t,r,i,s=yO,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new ZSe(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=yO}catch(a){this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const X6="@firebase/functions";function uIe(n=tp(),e=yO){return Oa(ka(n),_O).getImmediate({identifier:e})}!function(n,e){Or(new gr(_O,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),l=r.getProvider("app-check-internal");return new eIe(s,o,a,l,i,n)},"PUBLIC").setMultipleInstances(!0)),tn(X6,"0.8.4",void 0),tn(X6,"0.8.4","esm2017")}(fetch.bind(self));class wO{constructor(e){return e}}const J6="functions",CO=new ye("angularfire2.functions-instances");function fIe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wO(r)}}const pIe={provide:class{constructor(){return sp(J6)}},deps:[[new jt,CO]]},gIe={provide:wO,useFactory:function(n,e){const t=ip(J6,n,e);return t&&new wO(t)},deps:[[new jt,CO],Na]};let mIe=(()=>{class n{constructor(){tn("angularfire",ad.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[gIe,pIe]}),n})();function _Ie(n,...e){return{ngModule:mIe,providers:[{provide:CO,useFactory:fIe(n),multi:!0,deps:[nt,an,op,lp,[new jt,Uv],[new jt,dp],...e]}]}}const yIe=ap(uIe,!0),eK=yie();class vIe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Kn(-this._previousScrollPosition.left),e.style.top=Kn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),eK&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),eK&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class bIe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class tK{enable(){}disable(){}attach(){}}function EO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function nK(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class wIe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();EO(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let CIe=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new tK,this.close=o=>new bIe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new vIe(this._viewportRuler,this._document),this.reposition=o=>new wIe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(oe(Oie),oe(ju),oe(nt),oe(Ot))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class EIe{constructor(e){if(this.scrollStrategy=new tK,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class DIe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class TIe{constructor(e,t,r,i,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new ve,this._attachments=new ve,this._detachments=new ve,this._locationChanges=E.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new ve,this._outsidePointerEvents=new ve,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(pn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Kn(this._config.width),e.height=Kn(this._config.height),e.minWidth=Kn(this._config.minWidth),e.minHeight=Kn(this._config.minHeight),e.maxWidth=Kn(this._config.maxWidth),e.maxHeight=Kn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=fU(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ei(Hr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let rK=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||_D()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),_D()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(oe(Ot),oe(ti))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iK="cdk-overlay-connected-position-bounding-box",SIe=/([A-Za-z%]+)$/;class IIe{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ve,this._resizeSubscription=E.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(iK),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&jc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(iK),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=oK(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let p=0-a,y=a+s.height-r.height,D=this._subtractOverflows(s.width,0-o,o+s.width-r.width),M=this._subtractOverflows(s.height,p,y),N=D*M;return{visibleArea:N,isCompletelyWithinViewport:s.width*s.height===N,fitsInViewportVertically:M===s.height,fitsInViewportHorizontally:D==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=sK(this._overlayRef.getConfig().minHeight),a=sK(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=oK(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,h=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,h=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:h},{x:e.x+u,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new DIe(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,h,p;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const y=Math.min(r.bottom-e.y+r.top,e.y),D=this._lastBoundingBoxSize.height;s=2*y,o=e.y-y,s>D&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-D/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)p=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)h=e.x,u=r.right-e.x;else{const y=Math.min(r.right-e.x+r.left,e.x),D=this._lastBoundingBoxSize.width;u=2*y,h=e.x-y,u>D&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-D/2)}return{top:o,left:h,bottom:a,right:p,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Kn(r.height),i.top=Kn(r.top),i.bottom=Kn(r.bottom),i.width=Kn(r.width),i.left=Kn(r.left),i.right=Kn(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Kn(s)),o&&(i.maxWidth=Kn(o))}this._lastBoundingBoxSize=r,jc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){jc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){jc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();jc(r,this._getExactOverlayY(t,e,u)),jc(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Kn(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Kn(o.maxWidth):s&&(r.maxWidth="")),jc(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Kn(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Kn(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:nK(e,r),isOriginOutsideView:EO(e,r),isOverlayClipped:nK(t,r),isOverlayOutsideView:EO(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&fU(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Dt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function jc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function sK(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(SIe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function oK(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const aK="cdk-global-overlay-wrapper";class xIe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(aK),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(aK),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let AIe=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new xIe}flexibleConnectedTo(t){return new IIe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(oe(ju),oe(Ot),oe(ti),oe(rK))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lK=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(oe(Ot))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MIe=(()=>{class n extends lK{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(oe(Ot),oe(nt,8))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RIe=(()=>{class n extends lK{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Ol(s)},this._clickListener=s=>{const o=Ol(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(oe(Ot),oe(ti),oe(nt,8))},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kIe=0,DO=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,h,p){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=p}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new EIe(t);return o.direction=o.direction||this._directionality.value,new TIe(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+kIe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Il)),new Yae(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(oe(CIe),oe(rK),oe(ko),oe(AIe),oe(MIe),oe(an),oe(nt),oe(Ot),oe(Ia),oe(w_),oe(RIe))},n.\u0275prov=S({token:n,factory:n.\u0275fac}),n})();const NIe={provide:new ye("cdk-connected-overlay-scroll-strategy"),deps:[DO],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let FIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[DO,NIe],imports:[[Mf,pH,bD],bD]}),n})();const jIe={provide:new ye("mat-select-scroll-strategy"),deps:[DO],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let uK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[jIe],imports:[[Ml,FIe,Kj,fr],vD,xT,Kj,fr]}),n})(),TO=(()=>{class n{constructor(){this.changes=new ve}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $Ie={provide:TO,deps:[[new jt,new ya,TO]],useFactory:function(n){return n||new TO}};let dK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({providers:[$Ie],imports:[[Ml,fr]]}),n})(),zIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n}),n.\u0275inj=C({imports:[[mT,Ml,OH,uK,SH,dK],mT,OH,uK,SH,dK]}),n})(),GIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=bt({type:n,bootstrap:[Wce]}),n.\u0275inj=C({providers:[{provide:ty,useFactory:()=>({enabled:true,registrationStrategy:"registerImmediately"})}],imports:[[KV,Bre,Gae,U$,Ole,mT,zIe,Bj,xce,oie.register("ngsw-worker.js"),the,_me(()=>yme(xf_firebase)),Wve(()=>qve()),mCe(()=>_Ce()),WSe(()=>qSe()),_Ie(()=>yIe()),Bj]]}),n})();nV=!1,xne().bootstrapModule(GIe).catch(n=>console.error(n))}},ii=>{ii(ii.s=316)}]);